/*! For license information please see main.df31cc67.js.LICENSE.txt */
(()=>{var e={419:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},946:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.Z=o},9:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=o},996:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},823:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},271:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.Z=o},524:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"LocalShipping");t.Z=o},588:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.Z=o},8:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},585:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.Z=o},403:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},197:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"}),"Security");t.Z=o},590:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart");t.Z=o},151:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=o},444:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");t.Z=o},69:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarHalf");t.Z=o},930:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)((0,s.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"VerifiedUser");t.Z=o},127:(e,t,n)=>{"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),s=n(184),o=(0,i.default)([(0,s.jsx)("path",{d:"M12 5.99 19.53 19H4.47L12 5.99M12 2 1 21h22L12 2z"},"0"),(0,s.jsx)("path",{d:"M13 16h-2v2h2zm0-6h-2v5h2z"},"1")],"WarningAmber");t.Z=o},649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(221)},221:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>a,createChainedFunction:()=>c,createSvgIcon:()=>cr,debounce:()=>lr,deprecatedPropType:()=>ur,isMuiElement:()=>dr,ownerDocument:()=>fr,ownerWindow:()=>pr,requirePropFactory:()=>mr,setRef:()=>yr,unstable_ClassNameGenerator:()=>jr,unstable_useEnhancedEffect:()=>wr,unstable_useId:()=>Sr,unsupportedProp:()=>kr,useControlled:()=>Er,useEventCallback:()=>Ir,useForkRef:()=>Tr,useIsFocusVisible:()=>Lr});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})();function s(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(s(7));return e.charAt(0).toUpperCase()+e.slice(1)}const a=o;const c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))};function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var u=n(791),d=n.t(u,2);function h(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=f(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=f(e))&&(r&&(r+=" "),r+=t);return r};function m(e,t){const n=l({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=l({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},s=t[r];n[r]={},s&&Object.keys(s)?i&&Object.keys(i)?(n[r]=l({},s),Object.keys(i).forEach((e=>{n[r][e]=m(i[e],s[e])}))):n[r]=s:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function g(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?m(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function v(e){if(!y(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=v(e[n])})),t}function w(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?l({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=w(e[i],t[i],n):n.clone?r[i]=y(t[i])?v(t[i]):t[i]:r[i]=t[i])})),r}const b=["values","unit","step"],_=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>l({},e,{[t.key]:t.val})),{})};const S={borderRadius:4},k={xs:0,sm:600,md:900,lg:1200,xl:1536},E={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(k[e],"px)")};function I(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||E;return t.reduce(((r,i,s)=>(r[e.up(e.keys[s])]=n(t[s]),r)),{})}if("object"===typeof t){const e=r.breakpoints||E;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||k).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function x(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function C(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function N(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:C(e,n)||i,t&&(r=t(r,i,e)),r}const A=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=e=>{if(null==e[t])return null;const s=e[t],a=C(e.theme,r)||{};return I(e,s,(e=>{let r=N(a,i,e);return e===r&&"string"===typeof e&&(r=N(a,i,"".concat(t).concat("default"===e?"":o(e)),e)),!1===n?r:{[n]:r}}))};return s.propTypes={},s.filterProps=[t],s};const P=function(e,t){return t?w(e,t,{clone:!1}):e};const O={m:"margin",p:"padding"},R={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},D={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},L=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!D[e])return[e];e=D[e]}const[t,n]=e.split(""),r=O[t],i=R[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),j=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],M=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],F=[...j,...M];function U(e,t,n,r){var i;const s=null!=(i=C(e,t,!1))?i:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function z(e){return U(e,"spacing",8)}function B(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function V(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=B(t,n),e)),{})}(L(n),r);return I(e,e[n],i)}function q(e,t){const n=z(e.theme);return Object.keys(e).map((r=>V(e,t,r,n))).reduce(P,{})}function W(e){return q(e,j)}function H(e){return q(e,M)}function K(e){return q(e,F)}W.propTypes={},W.filterProps=j,H.propTypes={},H.filterProps=M,K.propTypes={},K.filterProps=F;const G=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?P(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function Q(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Y(e,t){return A({prop:e,themeKey:"borders",transform:t})}const J=Y("border",Q),X=Y("borderTop",Q),Z=Y("borderRight",Q),$=Y("borderBottom",Q),ee=Y("borderLeft",Q),te=Y("borderColor"),ne=Y("borderTopColor"),re=Y("borderRightColor"),ie=Y("borderBottomColor"),se=Y("borderLeftColor"),oe=Y("outline",Q),ae=Y("outlineColor"),ce=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=U(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:B(t,e)});return I(e,e.borderRadius,n)}return null};ce.propTypes={},ce.filterProps=["borderRadius"];G(J,X,Z,$,ee,te,ne,re,ie,se,ce,oe,ae);const le=e=>{if(void 0!==e.gap&&null!==e.gap){const t=U(e.theme,"spacing",8),n=e=>({gap:B(t,e)});return I(e,e.gap,n)}return null};le.propTypes={},le.filterProps=["gap"];const ue=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=U(e.theme,"spacing",8),n=e=>({columnGap:B(t,e)});return I(e,e.columnGap,n)}return null};ue.propTypes={},ue.filterProps=["columnGap"];const de=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=U(e.theme,"spacing",8),n=e=>({rowGap:B(t,e)});return I(e,e.rowGap,n)}return null};de.propTypes={},de.filterProps=["rowGap"];G(le,ue,de,A({prop:"gridColumn"}),A({prop:"gridRow"}),A({prop:"gridAutoFlow"}),A({prop:"gridAutoColumns"}),A({prop:"gridAutoRows"}),A({prop:"gridTemplateColumns"}),A({prop:"gridTemplateRows"}),A({prop:"gridTemplateAreas"}),A({prop:"gridArea"}));function he(e,t){return"grey"===t?t:e}G(A({prop:"color",themeKey:"palette",transform:he}),A({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:he}),A({prop:"backgroundColor",themeKey:"palette",transform:he}));function fe(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const pe=A({prop:"width",transform:fe}),me=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||k[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:fe(t)}};return I(e,e.maxWidth,t)}return null};me.filterProps=["maxWidth"];const ge=A({prop:"minWidth",transform:fe}),ye=A({prop:"height",transform:fe}),ve=A({prop:"maxHeight",transform:fe}),we=A({prop:"minHeight",transform:fe}),be=(A({prop:"size",cssProperty:"width",transform:fe}),A({prop:"size",cssProperty:"height",transform:fe}),G(pe,me,ge,ye,ve,we,A({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Q},borderTop:{themeKey:"borders",transform:Q},borderRight:{themeKey:"borders",transform:Q},borderBottom:{themeKey:"borders",transform:Q},borderLeft:{themeKey:"borders",transform:Q},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Q},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ce},color:{themeKey:"palette",transform:he},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:he},backgroundColor:{themeKey:"palette",transform:he},p:{style:H},pt:{style:H},pr:{style:H},pb:{style:H},pl:{style:H},px:{style:H},py:{style:H},padding:{style:H},paddingTop:{style:H},paddingRight:{style:H},paddingBottom:{style:H},paddingLeft:{style:H},paddingX:{style:H},paddingY:{style:H},paddingInline:{style:H},paddingInlineStart:{style:H},paddingInlineEnd:{style:H},paddingBlock:{style:H},paddingBlockStart:{style:H},paddingBlockEnd:{style:H},m:{style:W},mt:{style:W},mr:{style:W},mb:{style:W},ml:{style:W},mx:{style:W},my:{style:W},margin:{style:W},marginTop:{style:W},marginRight:{style:W},marginBottom:{style:W},marginLeft:{style:W},marginX:{style:W},marginY:{style:W},marginInline:{style:W},marginInlineStart:{style:W},marginInlineEnd:{style:W},marginBlock:{style:W},marginBlockStart:{style:W},marginBlockEnd:{style:W},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:le},rowGap:{style:de},columnGap:{style:ue},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:fe},maxWidth:{style:me},minWidth:{transform:fe},height:{transform:fe},maxHeight:{transform:fe},minHeight:{transform:fe},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const _e=function(){function e(e,t,n,r){const i={[e]:t,theme:n},s=r[e];if(!s)return{[e]:t};const{cssProperty:a=e,themeKey:c,transform:l,style:u}=s;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};const d=C(n,c)||{};if(u)return u(i);return I(i,t,(t=>{let n=N(d,l,t);return t===n&&"string"===typeof t&&(n=N(d,l,"".concat(e).concat("default"===t?"":o(t)),t)),!1===a?n:{[a]:n}}))}return function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=null!=(r=s.unstable_sxConfig)?r:be;function a(n){let r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;const i=T(s.breakpoints),a=Object.keys(i);let c=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],l=s,"function"===typeof a?a(l):a);var a,l;if(null!==i&&void 0!==i)if("object"===typeof i)if(o[n])c=P(c,e(n,i,s,o));else{const e=I({theme:s},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?c=P(c,e):c[n]=t({sx:i,theme:s})}else c=P(c,e(n,i,s,o))})),x(a,c)}return Array.isArray(i)?i.map(a):a(i)}}();_e.filterProps=["sx"];const Se=_e,ke=["breakpoints","palette","spacing","shape"];const Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,s=h(e,ke),o=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=h(e,b),s=_(t),o=Object.keys(s);function a(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function u(e,i){const s=o.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[o[s]]?t[o[s]]:i)-r/100).concat(n,")")}return l({keys:o,values:s,up:a,down:c,between:u,only:function(e){return o.indexOf(e)+1<o.length?u(e,o[o.indexOf(e)+1]):a(e)},not:function(e){const t=o.indexOf(e);return 0===t?a(o[1]):t===o.length-1?c(o[t]):u(e,o[o.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=z({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let c=w({breakpoints:o,direction:"ltr",components:{},palette:l({mode:"light"},n),spacing:a,shape:l({},S,i)},s);for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return c=d.reduce(((e,t)=>w(e,t)),c),c.unstable_sxConfig=l({},be,null==s?void 0:s.unstable_sxConfig),c.unstable_sx=function(e){return Se({sx:e,theme:this})},c};var Ie=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Te=Math.abs,xe=String.fromCharCode,Ce=Object.assign;function Ne(e){return e.trim()}function Ae(e,t,n){return e.replace(t,n)}function Pe(e,t){return e.indexOf(t)}function Oe(e,t){return 0|e.charCodeAt(t)}function Re(e,t,n){return e.slice(t,n)}function De(e){return e.length}function Le(e){return e.length}function je(e,t){return t.push(e),e}var Me=1,Fe=1,Ue=0,ze=0,Be=0,Ve="";function qe(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Me,column:Fe,length:o,return:""}}function We(e,t){return Ce(qe("",null,null,"",null,null,0),e,{length:-e.length},t)}function He(){return Be=ze>0?Oe(Ve,--ze):0,Fe--,10===Be&&(Fe=1,Me--),Be}function Ke(){return Be=ze<Ue?Oe(Ve,ze++):0,Fe++,10===Be&&(Fe=1,Me++),Be}function Ge(){return Oe(Ve,ze)}function Qe(){return ze}function Ye(e,t){return Re(Ve,e,t)}function Je(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xe(e){return Me=Fe=1,Ue=De(Ve=e),ze=0,[]}function Ze(e){return Ve="",e}function $e(e){return Ne(Ye(ze-1,nt(91===e?e+2:40===e?e+1:e)))}function et(e){for(;(Be=Ge())&&Be<33;)Ke();return Je(e)>2||Je(Be)>3?"":" "}function tt(e,t){for(;--t&&Ke()&&!(Be<48||Be>102||Be>57&&Be<65||Be>70&&Be<97););return Ye(e,Qe()+(t<6&&32==Ge()&&32==Ke()))}function nt(e){for(;Ke();)switch(Be){case e:return ze;case 34:case 39:34!==e&&39!==e&&nt(Be);break;case 40:41===e&&nt(e);break;case 92:Ke()}return ze}function rt(e,t){for(;Ke()&&e+Be!==57&&(e+Be!==84||47!==Ge()););return"/*"+Ye(t,ze-1)+"*"+xe(47===e?e:Ke())}function it(e){for(;!Je(Ge());)Ke();return Ye(e,ze)}var st="-ms-",ot="-moz-",at="-webkit-",ct="comm",lt="rule",ut="decl",dt="@keyframes";function ht(e,t){for(var n="",r=Le(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ft(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ut:return e.return=e.return||e.value;case ct:return"";case dt:return e.return=e.value+"{"+ht(e.children,r)+"}";case lt:e.value=e.props.join(",")}return De(n=ht(e.children,r))?e.return=e.value+"{"+n+"}":""}function pt(e){return Ze(mt("",null,null,null,[""],e=Xe(e),0,[0],e))}function mt(e,t,n,r,i,s,o,a,c){for(var l=0,u=0,d=o,h=0,f=0,p=0,m=1,g=1,y=1,v=0,w="",b=i,_=s,S=r,k=w;g;)switch(p=v,v=Ke()){case 40:if(108!=p&&58==Oe(k,d-1)){-1!=Pe(k+=Ae($e(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=$e(v);break;case 9:case 10:case 13:case 32:k+=et(p);break;case 92:k+=tt(Qe()-1,7);continue;case 47:switch(Ge()){case 42:case 47:je(yt(rt(Ke(),Qe()),t,n),c);break;default:k+="/"}break;case 123*m:a[l++]=De(k)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(k=Ae(k,/\f/g,"")),f>0&&De(k)-d&&je(f>32?vt(k+";",r,n,d-1):vt(Ae(k," ","")+";",r,n,d-2),c);break;case 59:k+=";";default:if(je(S=gt(k,t,n,l,u,i,a,w,b=[],_=[],d),s),123===v)if(0===u)mt(k,t,S,S,b,s,d,a,_);else switch(99===h&&110===Oe(k,3)?100:h){case 100:case 108:case 109:case 115:mt(e,S,S,r&&je(gt(e,S,S,0,0,i,a,w,i,b=[],d),_),i,_,d,a,r?b:_);break;default:mt(k,S,S,S,[""],_,0,a,_)}}l=u=f=0,m=y=1,w=k="",d=o;break;case 58:d=1+De(k),f=p;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==He())continue;switch(k+=xe(v),v*m){case 38:y=u>0?1:(k+="\f",-1);break;case 44:a[l++]=(De(k)-1)*y,y=1;break;case 64:45===Ge()&&(k+=$e(Ke())),h=Ge(),u=d=De(w=k+=it(Qe())),v++;break;case 45:45===p&&2==De(k)&&(m=0)}}return s}function gt(e,t,n,r,i,s,o,a,c,l,u){for(var d=i-1,h=0===i?s:[""],f=Le(h),p=0,m=0,g=0;p<r;++p)for(var y=0,v=Re(e,d+1,d=Te(m=o[p])),w=e;y<f;++y)(w=Ne(m>0?h[y]+" "+v:Ae(v,/&\f/g,h[y])))&&(c[g++]=w);return qe(e,t,n,0===i?lt:a,c,l,u)}function yt(e,t,n){return qe(e,t,n,ct,xe(Be),Re(e,2,-2),0)}function vt(e,t,n,r){return qe(e,t,n,ut,Re(e,0,r),Re(e,r+1,-1),r)}var wt=function(e,t,n){for(var r=0,i=0;r=i,i=Ge(),38===r&&12===i&&(t[n]=1),!Je(i);)Ke();return Ye(e,ze)},bt=function(e,t){return Ze(function(e,t){var n=-1,r=44;do{switch(Je(r)){case 0:38===r&&12===Ge()&&(t[n]=1),e[n]+=wt(ze-1,t,n);break;case 2:e[n]+=$e(r);break;case 4:if(44===r){e[++n]=58===Ge()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=xe(r)}}while(r=Ke());return e}(Xe(e),t))},_t=new WeakMap,St=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||_t.get(n))&&!r){_t.set(e,!0);for(var i=[],s=bt(t,i),o=n.props,a=0,c=0;a<s.length;a++)for(var l=0;l<o.length;l++,c++)e.props[c]=i[a]?s[a].replace(/&\f/g,o[l]):o[l]+" "+s[a]}}},kt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Et(e,t){switch(function(e,t){return 45^Oe(e,0)?(((t<<2^Oe(e,0))<<2^Oe(e,1))<<2^Oe(e,2))<<2^Oe(e,3):0}(e,t)){case 5103:return at+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return at+e+ot+e+st+e+e;case 6828:case 4268:return at+e+st+e+e;case 6165:return at+e+st+"flex-"+e+e;case 5187:return at+e+Ae(e,/(\w+).+(:[^]+)/,at+"box-$1$2"+st+"flex-$1$2")+e;case 5443:return at+e+st+"flex-item-"+Ae(e,/flex-|-self/,"")+e;case 4675:return at+e+st+"flex-line-pack"+Ae(e,/align-content|flex-|-self/,"")+e;case 5548:return at+e+st+Ae(e,"shrink","negative")+e;case 5292:return at+e+st+Ae(e,"basis","preferred-size")+e;case 6060:return at+"box-"+Ae(e,"-grow","")+at+e+st+Ae(e,"grow","positive")+e;case 4554:return at+Ae(e,/([^-])(transform)/g,"$1"+at+"$2")+e;case 6187:return Ae(Ae(Ae(e,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),e,"")+e;case 5495:case 3959:return Ae(e,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return Ae(Ae(e,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+st+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+e+e;case 4095:case 3583:case 4068:case 2532:return Ae(e,/(.+)-inline(.+)/,at+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(De(e)-1-t>6)switch(Oe(e,t+1)){case 109:if(45!==Oe(e,t+4))break;case 102:return Ae(e,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+ot+(108==Oe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Pe(e,"stretch")?Et(Ae(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Oe(e,t+1))break;case 6444:switch(Oe(e,De(e)-3-(~Pe(e,"!important")&&10))){case 107:return Ae(e,":",":"+at)+e;case 101:return Ae(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+at+(45===Oe(e,14)?"inline-":"")+"box$3$1"+at+"$2$3$1"+st+"$2box$3")+e}break;case 5936:switch(Oe(e,t+11)){case 114:return at+e+st+Ae(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return at+e+st+Ae(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return at+e+st+Ae(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return at+e+st+e+e}return e}var It=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ut:e.return=Et(e.value,e.length);break;case dt:return ht([We(e,{value:Ae(e.value,"@","@"+at)})],r);case lt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ht([We(e,{props:[Ae(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ht([We(e,{props:[Ae(t,/:(plac\w+)/,":"+at+"input-$1")]}),We(e,{props:[Ae(t,/:(plac\w+)/,":-moz-$1")]}),We(e,{props:[Ae(t,/:(plac\w+)/,st+"input-$1")]})],r)}return""}))}}],Tt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||It;var i,s,o={},a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;a.push(e)}));var c,l,u=[ft,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=Le(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}([St,kt].concat(r,u));s=function(e,t,n,r){c=n,ht(pt(e?e+"{"+t.styles+"}":t.styles),d),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ie({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:s};return h.sheet.hydrate(a),h};var xt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ct(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Nt=/[A-Z]|^ms/g,At=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pt=function(e){return 45===e.charCodeAt(1)},Ot=function(e){return null!=e&&"boolean"!==typeof e},Rt=Ct((function(e){return Pt(e)?e:e.replace(Nt,"-$&").toLowerCase()})),Dt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(At,(function(e,t,n){return jt={name:t,styles:n,next:jt},t}))}return 1===xt[e]||Pt(e)||"number"!==typeof t||0===t?t:t+"px"};function Lt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return jt={name:n.name,styles:n.styles,next:jt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)jt={name:r.name,styles:r.styles,next:jt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Lt(e,t,n[i])+";";else for(var s in n){var o=n[s];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":Ot(o)&&(r+=Rt(s)+":"+Dt(s,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var a=Lt(e,t,o);switch(s){case"animation":case"animationName":r+=Rt(s)+":"+a+";";break;default:r+=s+"{"+a+"}"}}else for(var c=0;c<o.length;c++)Ot(o[c])&&(r+=Rt(s)+":"+Dt(s,o[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=jt,s=n(e);return jt=i,Lt(e,t,s)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var jt,Mt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ft=!!d.useInsertionEffect&&d.useInsertionEffect,Ut=Ft||function(e){return e()},zt=(Ft||u.useLayoutEffect,u.createContext("undefined"!==typeof HTMLElement?Tt({key:"css"}):null));zt.Provider;var Bt=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(zt);return e(t,r,n)}))};var Vt=u.createContext({});const qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=u.useContext(Vt);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},Wt=Ee();const Ht=function(){return qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt)};function Kt(e,t){return l({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}function Gt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Qt(e){if(e.type)return e;if("#"===e.charAt(0))return Qt(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(s(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(s(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function Yt(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Jt(e){let t="hsl"===(e=Qt(e)).type||"hsla"===e.type?Qt(function(e){e=Qt(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),Yt({type:a,values:c})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Xt(e,t){if(e=Qt(e),t=Gt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Yt(e)}function Zt(e,t){if(e=Qt(e),t=Gt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Yt(e)}const $t={black:"#000",white:"#fff"},en={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},tn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},nn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},rn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},sn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},on={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},an={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},cn=["mode","contrastThreshold","tonalOffset"],ln={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$t.white,default:$t.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},un={text:{primary:$t.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$t.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function dn(e,t,n,r){const i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Zt(e.main,i):"dark"===t&&(e.dark=Xt(e.main,s)))}function hn(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=h(e,cn),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sn[200],light:sn[50],dark:sn[400]}:{main:sn[700],light:sn[400],dark:sn[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[200],light:tn[50],dark:tn[400]}:{main:tn[500],light:tn[300],dark:tn[700]}}(t),c=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nn[500],light:nn[300],dark:nn[700]}:{main:nn[700],light:nn[400],dark:nn[800]}}(t),u=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:on[700],light:on[500],dark:on[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:an[400],light:an[300],dark:an[700]}:{main:an[800],light:an[500],dark:an[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[400],light:rn[300],dark:rn[700]}:{main:"#ed6c02",light:rn[500],dark:rn[900]}}(t);function p(e){const t=function(e,t){const n=Jt(e),r=Jt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,un.text.primary)>=n?un.text.primary:ln.text.primary;return t}const m=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=e;if(t=l({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(s(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(s(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return dn(t,"light",o,r),dn(t,"dark",a,r),t.contrastText||(t.contrastText=p(t.main)),t},g={dark:un,light:ln};return w(l({common:l({},$t),mode:t,primary:m({color:o,name:"primary"}),secondary:m({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:c,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:u,name:"info"}),success:m({color:d,name:"success"}),grey:en,contrastThreshold:n,getContrastText:p,augmentColor:m,tonalOffset:r},g[t]),i)}const fn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const pn={textTransform:"uppercase"},mn='"Roboto", "Helvetica", "Arial", sans-serif';function gn(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=mn,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:d,pxToRem:f}=n,p=h(n,fn);const m=i/14,g=f||(e=>"".concat(e/u*m,"rem")),y=(e,t,n,i,s)=>{return l({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===mn?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},s,d);var o},v={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,pn),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,pn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return w(l({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:c},v),p,{clone:!1})}function yn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const vn=["none",yn(0,2,1,-1,0,1,1,0,0,1,3,0),yn(0,3,1,-2,0,2,2,0,0,1,5,0),yn(0,3,3,-2,0,3,4,0,0,1,8,0),yn(0,2,4,-1,0,4,5,0,0,1,10,0),yn(0,3,5,-1,0,5,8,0,0,1,14,0),yn(0,3,5,-1,0,6,10,0,0,1,18,0),yn(0,4,5,-2,0,7,10,1,0,2,16,1),yn(0,5,5,-3,0,8,10,1,0,3,14,2),yn(0,5,6,-3,0,9,12,1,0,3,16,2),yn(0,6,6,-3,0,10,14,1,0,4,18,3),yn(0,6,7,-4,0,11,15,1,0,4,20,3),yn(0,7,8,-4,0,12,17,2,0,5,22,4),yn(0,7,8,-4,0,13,19,2,0,5,24,4),yn(0,7,9,-4,0,14,21,2,0,5,26,4),yn(0,8,9,-5,0,15,22,2,0,6,28,5),yn(0,8,10,-5,0,16,24,2,0,6,30,5),yn(0,8,11,-5,0,17,26,2,0,6,32,5),yn(0,9,11,-5,0,18,28,2,0,7,34,6),yn(0,9,12,-6,0,19,29,2,0,7,36,6),yn(0,10,13,-6,0,20,31,3,0,8,38,7),yn(0,10,13,-6,0,21,33,3,0,8,40,7),yn(0,10,14,-6,0,22,35,3,0,8,42,7),yn(0,11,14,-7,0,23,36,3,0,9,44,8),yn(0,11,15,-7,0,24,38,3,0,9,46,8)],wn=["duration","easing","delay"],bn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_n={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Sn(e){return"".concat(Math.round(e),"ms")}function kn(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function En(e){const t=l({},bn,e.easing),n=l({},_n,e.duration);return l({getAutoHeightDuration:kn,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:o=0}=r;h(r,wn);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:Sn(i)," ").concat(s," ").concat("string"===typeof o?o:Sn(o)))).join(",")}},e,{easing:t,duration:n})}const In={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Tn=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=h(e,Tn);if(e.vars)throw new Error(s(18));const a=hn(n),c=Ee(e);let u=w(c,{mixins:Kt(c.breakpoints,t),palette:a,shadows:vn.slice(),typography:gn(a,i),transitions:En(r),zIndex:l({},In)});u=w(u,o);for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];return u=f.reduce(((e,t)=>w(e,t)),u),u.unstable_sxConfig=l({},be,null==o?void 0:o.unstable_sxConfig),u.unstable_sx=function(e){return Se({sx:e,theme:this})},u}const Cn=xn(),Nn="$$material";function An(e){let{props:t,name:n}=e;return function(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,s=Ht(r);return i&&(s=s[i]||s),g({theme:s,name:n,props:t})}({props:t,name:n,defaultTheme:Cn,themeId:Nn})}var Pn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var On=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Rn=Ct((function(e){return Pn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Dn=function(e){return"theme"!==e},Ln=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Rn:Dn},jn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Mn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return On(t,n,r),Ut((function(){return function(e,t,n){On(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Fn=function e(t,n){var r,i,s=t.__emotion_real===t,o=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var a=jn(t,n,s),c=a||Ln(o),d=!c("as");return function(){var h=arguments,f=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&f.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)f.push.apply(f,h);else{0,f.push(h[0][0]);for(var p=h.length,m=1;m<p;m++)f.push(h[m],h[0][m])}var g=Bt((function(e,t,n){var r=d&&e.as||o,s="",l=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=u.useContext(Vt)}"string"===typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,l,e.className):null!=e.className&&(s=e.className+" ");var m=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";jt=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=Lt(n,t,s)):i+=s[0];for(var o=1;o<e.length;o++)i+=Lt(n,t,e[o]),r&&(i+=s[o]);Mt.lastIndex=0;for(var a,c="";null!==(a=Mt.exec(i));)c+="-"+a[1];var l=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return{name:l,styles:i,next:jt}}(f.concat(l),t.registered,h);s+=t.key+"-"+m.name,void 0!==i&&(s+=" "+i);var g=d&&void 0===a?Ln(r):c,y={};for(var v in e)d&&"as"===v||g(v)&&(y[v]=e[v]);return y.className=s,y.ref=n,u.createElement(u.Fragment,null,u.createElement(Mn,{cache:t,serialized:m,isStringTag:"string"===typeof r}),u.createElement(r,y))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=o,g.__emotion_styles=f,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,r){return e(t,l({},n,r,{shouldForwardProp:jn(g,r,!0)})).apply(void 0,f)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Fn[e]=Fn(e)}));const Un=["variant"];function zn(e){return 0===e.length}function Bn(e){const{variant:t}=e,n=h(e,Un);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?zn(r)?e[t]:o(e[t]):"".concat(zn(r)?t:o(t)).concat(o(e[t].toString()))})),r}const Vn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const qn=e=>{const t={};return e&&e.forEach((e=>{const n=Bn(e.props);t[n]=e.style})),t},Wn=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let s=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(s=!1)})),s&&i.push(t[Bn(n.props)])})),i};function Hn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const Kn=Ee(),Gn=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Qn(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function Yn(e){return e?(t,n)=>n[e]:null}const Jn=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:i}=e;const s=t(l({},n,{theme:Qn(l({},n,{defaultTheme:r,themeId:i}))}));let o;if(s&&s.variants&&(o=s.variants,delete s.variants),o){return[s,...Wn(n,qn(o),o)]}return s};const Xn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Kn,rootShouldForwardProp:r=Hn,slotShouldForwardProp:i=Hn}=e,s=e=>Se(l({},e,{theme:Qn(l({},e,{defaultTheme:n,themeId:t}))}));return s.__mui_systemSx=!0,function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=Yn(Gn(c))}=o,p=h(o,Vn),m=void 0!==u?u:c&&"Root"!==c&&"root"!==c||!1,g=d||!1;let v=Hn;"Root"===c||"root"===c?v=r:c?v=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(v=void 0);const b=function(e,t){return Fn(e,t)}(e,l({shouldForwardProp:v,label:undefined},p)),_=function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];const u=o?o.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>Jn({styledArg:e,props:r,defaultTheme:n,themeId:t});if(y(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return Wn(n,qn(t),t).forEach((e=>{r=w(r,e)})),r}),n}return e})):[];let d=r;if(y(r)){let e;r&&r.variants&&(e=r.variants,delete d.variants,d=t=>{let n=r;return Wn(t,qn(e),e).forEach((e=>{n=w(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(d=e=>Jn({styledArg:r,props:e,defaultTheme:n,themeId:t}));a&&f&&u.push((e=>{const r=Qn(l({},e,{defaultTheme:n,themeId:t})),i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(a,r);if(i){const t={};return Object.entries(i).forEach((n=>{let[i,s]=n;t[i]="function"===typeof s?s(l({},e,{theme:r})):s})),f(e,t)}return null})),a&&!m&&u.push((e=>{const r=Qn(l({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const s=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return Wn(e,t,s)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),qn(n)})(a,r),r,a)})),g||u.push(s);const h=u.length-o.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");d=[...r,...e],d.raw=[...r.raw,...e]}const p=b(d,...u);return e.muiName&&(p.muiName=e.muiName),p};return b.withConfig&&(_.withConfig=b.withConfig),_}}({themeId:Nn,defaultTheme:Cn,rootShouldForwardProp:e=>Hn(e)&&"classes"!==e}),Zn=Xn,$n={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function er(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=$n[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function tr(e){return er("MuiSvgIcon",e)}!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};t.forEach((t=>{r[t]=er(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var nr=n(184);const rr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ir=e=>{const{color:t,fontSize:n,classes:r}=e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(a(t)),"fontSize".concat(a(n))]},tr,r)},sr=Zn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(a(n.color))],t["fontSize".concat(a(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,s,o,a,c,l,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(s=t.transitions)||null==(s=s.duration)?void 0:s.shorter}),fontSize:{inherit:"inherit",small:(null==(o=t.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(c=t.typography)||null==(l=c.pxToRem)?void 0:l.call(c,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),or=u.forwardRef((function(e,t){const n=An({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:s="inherit",component:o="svg",fontSize:a="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:f,viewBox:m="0 0 24 24"}=n,g=h(n,rr),y=u.isValidElement(r)&&"svg"===r.type,v=l({},n,{color:s,component:o,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:m,hasSvgAsChild:y}),w={};d||(w.viewBox=m);const b=ir(v);return(0,nr.jsxs)(sr,l({as:o,className:p(b.root,i),focusable:"false",color:c,"aria-hidden":!f||void 0,role:f?"img":void 0,ref:t},w,g,y&&r.props,{ownerState:v,children:[y?r.props.children:r,f?(0,nr.jsx)("title",{children:f}):null]}))}));or.muiName="SvgIcon";const ar=or;function cr(e,t){function n(n,r){return(0,nr.jsx)(ar,l({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=ar.muiName,u.memo(u.forwardRef(n))}const lr=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r};const ur=function(e,t){return()=>null};const dr=function(e,t){var n,r;return u.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};function hr(e){return e&&e.ownerDocument||document}const fr=hr;const pr=function(e){return hr(e).defaultView||window};const mr=function(e,t){return()=>null};function gr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const yr=gr,vr="undefined"!==typeof window?u.useLayoutEffect:u.useEffect,wr=vr;let br=0;const _r=d["useId".toString()];const Sr=function(e){if(void 0!==_r){const t=_r();return null!=e?e:t}return function(e){const[t,n]=u.useState(e),r=e||t;return u.useEffect((()=>{null==t&&(br+=1,n("mui-".concat(br)))}),[t]),r}(e)};const kr=function(e,t,n,r,i){return null};const Er=function(e){let{controlled:t,default:n,name:r,state:i="value"}=e;const{current:s}=u.useRef(void 0!==t),[o,a]=u.useState(n);return[s?t:o,u.useCallback((e=>{s||a(e)}),[])]};const Ir=function(e){const t=u.useRef(e);return vr((()=>{t.current=e})),u.useRef((function(){return(0,t.current)(...arguments)})).current};const Tr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{gr(t,e)}))}),t)};let xr,Cr=!0,Nr=!1;const Ar={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Pr(e){e.metaKey||e.altKey||e.ctrlKey||(Cr=!0)}function Or(){Cr=!1}function Rr(){"hidden"===this.visibilityState&&Nr&&(Cr=!0)}function Dr(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return Cr||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!Ar[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const Lr=function(){const e=u.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Pr,!0),t.addEventListener("mousedown",Or,!0),t.addEventListener("pointerdown",Or,!0),t.addEventListener("touchstart",Or,!0),t.addEventListener("visibilitychange",Rr,!0))}),[]),t=u.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Dr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Nr=!0,window.clearTimeout(xr),xr=window.setTimeout((()=>{Nr=!1}),100),t.current=!1,!0)},ref:e}},jr={configure:e=>{i.configure(e)}}},764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){return l(e)||u(e,t)||d(e,t)||f()}function l(e){if(Array.isArray(e))return e}function u(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(c){a=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function g(){}function y(){}y.resetWarningCache=g;var v=function(){function e(e,t,n,r,i,s){if(s!==m){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y,resetWarningCache:g};return n.PropTypes=n,n},w=p((function(e){e.exports=v()})),b=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},_=function(e){return null!==e&&"object"===i(e)},S=function(e){return _(e)&&"function"===typeof e.then},k=function(e){return _(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},E="[object Object]",I=function e(t,n){if(!_(t)||!_(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===E;if(i!==(Object.prototype.toString.call(n)===E))return!1;if(!i&&!r)return t===n;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(var a={},c=0;c<s.length;c+=1)a[s[c]]=!0;for(var l=0;l<o.length;l+=1)a[o[l]]=!0;var u=Object.keys(a);if(u.length!==s.length)return!1;var d=t,h=n,f=function(t){return e(d[t],h[t])};return u.every(f)},T=function(e,t,n){return _(e)?Object.keys(e).reduce((function(i,o){var a=!_(t)||!I(e[o],t[o]);return n.includes(o)?(a&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):a?r(r({},i||{}),{},s({},o,e[o])):i}),null):null},x="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;if(null===e||k(e))return e;throw new Error(t)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;if(S(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return C(e,t)}))};var n=C(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},A=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.4.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.4.0",url:"https://stripe.com/docs/stripe-js/react"}))},P=["on","session"],O=t.createContext(null);O.displayName="CustomCheckoutSdkContext";var R=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},D=t.createContext(null);D.displayName="CustomCheckoutContext";var L=function(e,t){if(!e)return null;e.on,e.session;var n=a(e,P);return r(r({},n),t||e.session())},j="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",M=function(e){var n=e.stripe,r=e.options,i=e.children,s=t.useMemo((function(){return N(n,j)}),[n]),o=c(t.useState(null),2),a=o[0],l=o[1],u=c(t.useState((function(){return{stripe:"sync"===s.tag?s.stripe:null,customCheckoutSdk:null}})),2),d=u[0],h=u[1],f=function(e,t){h((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},p=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==s.tag||d.stripe?"sync"===s.tag&&s.stripe&&!p.current&&(p.current=!0,s.stripe.initCustomCheckout(r).then((function(e){e&&(f(s.stripe,e),e.on("change",l))}))):s.stripePromise.then((function(t){t&&e&&!p.current&&(p.current=!0,t.initCustomCheckout(r).then((function(e){e&&(f(t,e),e.on("change",l))})))})),function(){e=!1}}),[s,d,r,l]);var m=b(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var g=b(r);t.useEffect((function(){var e,t;if(d.customCheckoutSdk){!r.clientSecret||_(g)||I(r.clientSecret,g.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null===g||void 0===g||null===(e=g.elementsOptions)||void 0===e?void 0:e.appearance,i=null===r||void 0===r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;i&&!I(i,n)&&d.customCheckoutSdk.changeAppearance(i)}}),[r,g,d.customCheckoutSdk]),t.useEffect((function(){A(d.stripe)}),[d.stripe]);var y=t.useMemo((function(){return L(d.customCheckoutSdk,a)}),[d.customCheckoutSdk,a]);return d.customCheckoutSdk?t.createElement(O.Provider,{value:d},t.createElement(D.Provider,{value:y},i)):null};M.propTypes={stripe:w.any,options:w.shape({clientSecret:w.string.isRequired,elementsOptions:w.object}).isRequired};var F=function(e){var n=t.useContext(O);return R(n,e)},U=function(e){var n=t.useContext(O),r=t.useContext(B);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?R(n,e):V(r,e)},z=function(){F("calls useCustomCheckout()");var e=t.useContext(D);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},B=t.createContext(null);B.displayName="ElementsContext";var V=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},q=t.createContext(null);q.displayName="CartElementContext";var W=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},H=function(e){var n=e.stripe,r=e.options,i=e.children,s=t.useMemo((function(){return N(n)}),[n]),o=c(t.useState(null),2),a=o[0],l=o[1],u=c(t.useState(null),2),d=u[0],h=u[1],f=c(t.useState((function(){return{stripe:"sync"===s.tag?s.stripe:null,elements:"sync"===s.tag?s.stripe.elements(r):null}})),2),p=f[0],m=f[1];t.useEffect((function(){var e=!0,t=function(e){m((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==s.tag||p.stripe?"sync"!==s.tag||p.stripe||t(s.stripe):s.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[s,p,r]);var g=b(n);t.useEffect((function(){null!==g&&g!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[g,n]);var y=b(r);return t.useEffect((function(){if(p.elements){var e=T(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){A(p.stripe)}),[p.stripe]),t.createElement(B.Provider,{value:p},t.createElement(q.Provider,{value:{cart:a,setCart:l,cartState:d,setCartState:h}},i))};H.propTypes={stripe:w.any,options:w.object};var K=function(e){var n=t.useContext(B);return V(n,e)},G={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},Q=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.useContext(q);return n?G:W(r,e)},Y=function(){return K("calls useElements()").elements},J=function(){return U("calls useStripe()").stripe},X=function(){return Q("calls useCartElement()").cart},Z=function(){return Q("calls useCartElementState()").cartState},$=function(e){return(0,e.children)(K("mounts <ElementsConsumer>"))};$.propTypes={children:w.func.isRequired};var ee=function(e,n,r){var i=!!r,s=t.useRef(r);t.useEffect((function(){s.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,s])},te=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ne=function(e,n){var r="".concat(te(e),"Element"),i=n?function(e){var n=U("mounts <".concat(r,">"));Q("mounts <".concat(r,">"),"customCheckoutSdk"in n);var i=e.id,s=e.className;return t.createElement("div",{id:i,className:s})}:function(n){var i,s=n.id,o=n.className,a=n.options,l=void 0===a?{}:a,u=n.onBlur,d=n.onFocus,h=n.onReady,f=n.onChange,p=n.onEscape,m=n.onClick,g=n.onLoadError,y=n.onLoaderStart,v=n.onNetworksChange,w=n.onCheckout,_=n.onLineItemClick,S=n.onConfirm,k=n.onCancel,E=n.onShippingAddressChange,I=n.onShippingRateChange,x=U("mounts <".concat(r,">")),C="elements"in x?x.elements:null,N="customCheckoutSdk"in x?x.customCheckoutSdk:null,A=c(t.useState(null),2),P=A[0],O=A[1],R=t.useRef(null),D=t.useRef(null),L=Q("mounts <".concat(r,">"),"customCheckoutSdk"in x),j=L.setCart,M=L.setCartState;ee(P,"blur",u),ee(P,"focus",d),ee(P,"escape",p),ee(P,"click",m),ee(P,"loaderror",g),ee(P,"loaderstart",y),ee(P,"networkschange",v),ee(P,"lineitemclick",_),ee(P,"confirm",S),ee(P,"cancel",k),ee(P,"shippingaddresschange",E),ee(P,"shippingratechange",I),"cart"===e?i=function(e){M(e),h&&h(e)}:h&&(i="expressCheckout"===e?h:function(){h(P)}),ee(P,"ready",i),ee(P,"change","cart"===e?function(e){M(e),f&&f(e)}:f),ee(P,"checkout","cart"===e?function(e){M(e),w&&w(e)}:w),t.useLayoutEffect((function(){if(null===R.current&&null!==D.current&&(C||N)){var t=null;N?t=N.createElement(e,l):C&&(t=C.create(e,l)),"cart"===e&&j&&j(t),R.current=t,O(t),t&&t.mount(D.current)}}),[C,N,l,j]);var F=b(l);return t.useEffect((function(){if(R.current){var e=T(l,F,["paymentRequest"]);e&&R.current.update(e)}}),[l,F]),t.useLayoutEffect((function(){return function(){if(R.current&&"function"===typeof R.current.destroy)try{R.current.destroy(),R.current=null}catch(e){}}}),[]),t.createElement("div",{id:s,className:o,ref:D})};return i.propTypes={id:w.string,className:w.string,onChange:w.func,onBlur:w.func,onFocus:w.func,onReady:w.func,onEscape:w.func,onClick:w.func,onLoadError:w.func,onLoaderStart:w.func,onNetworksChange:w.func,onCheckout:w.func,onLineItemClick:w.func,onConfirm:w.func,onCancel:w.func,onShippingAddressChange:w.func,onShippingRateChange:w.func,options:w.object},i.displayName=r,i.__elementType=e,i},re="undefined"===typeof window,ie=t.createContext(null);ie.displayName="EmbeddedCheckoutProviderContext";var se=function(){var e=t.useContext(ie);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},oe="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ae=function(e){var n=e.stripe,r=e.options,i=e.children,s=t.useMemo((function(){return N(n,oe)}),[n]),o=t.useRef(null),a=t.useRef(null),l=c(t.useState({embeddedCheckout:null}),2),u=l[0],d=l[1];t.useEffect((function(){if(!a.current&&!o.current){var e=function(e){a.current||o.current||(a.current=e,o.current=a.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"===s.tag&&!a.current&&r.clientSecret?s.stripePromise.then((function(t){t&&e(t)})):"sync"===s.tag&&!a.current&&r.clientSecret&&e(s.stripe)}}),[s,r,u,a]),t.useEffect((function(){return function(){u.embeddedCheckout?(o.current=null,u.embeddedCheckout.destroy()):o.current&&o.current.then((function(){o.current=null,u.embeddedCheckout&&u.embeddedCheckout.destroy()}))}}),[u.embeddedCheckout]),t.useEffect((function(){A(a)}),[a]);var h=b(n);t.useEffect((function(){null!==h&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[h,n]);var f=b(r);return t.useEffect((function(){null!=f&&(null!=r?(null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[f,r]),t.createElement(ie.Provider,{value:u},i)},ce=function(e){var n=e.id,r=e.className,i=se().embeddedCheckout,s=t.useRef(!1),o=t.useRef(null);return t.useLayoutEffect((function(){return!s.current&&i&&null!==o.current&&(i.mount(o.current),s.current=!0),function(){if(s.current&&i)try{i.unmount(),s.current=!1}catch(e){}}}),[i]),t.createElement("div",{ref:o,id:n,className:r})},le=function(e){var n=e.id,r=e.className;return se(),t.createElement("div",{id:n,className:r})},ue=re?le:ce,de=ne("auBankAccount",re),he=ne("card",re),fe=ne("cardNumber",re),pe=ne("cardExpiry",re),me=ne("cardCvc",re),ge=ne("fpxBank",re),ye=ne("iban",re),ve=ne("idealBank",re),we=ne("p24Bank",re),be=ne("epsBank",re),_e=ne("payment",re),Se=ne("expressCheckout",re),ke=ne("paymentRequestButton",re),Ee=ne("linkAuthentication",re),Ie=ne("address",re),Te=ne("shippingAddress",re),xe=ne("cart",re),Ce=ne("paymentMethodMessaging",re),Ne=ne("affirmMessage",re),Ae=ne("afterpayClearpayMessage",re);e.AddressElement=Ie,e.AffirmMessageElement=Ne,e.AfterpayClearpayMessageElement=Ae,e.AuBankAccountElement=de,e.CardCvcElement=me,e.CardElement=he,e.CardExpiryElement=pe,e.CardNumberElement=fe,e.CartElement=xe,e.CustomCheckoutProvider=M,e.Elements=H,e.ElementsConsumer=$,e.EmbeddedCheckout=ue,e.EmbeddedCheckoutProvider=ae,e.EpsBankElement=be,e.ExpressCheckoutElement=Se,e.FpxBankElement=ge,e.IbanElement=ye,e.IdealBankElement=ve,e.LinkAuthenticationElement=Ee,e.P24BankElement=we,e.PaymentElement=_e,e.PaymentMethodMessagingElement=Ce,e.PaymentRequestButtonElement=ke,e.ShippingAddressElement=Te,e.useCartElement=X,e.useCartElementState=Z,e.useCustomCheckout=z,e.useElements=Y,e.useStripe=J,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},463:(e,t,n)=>{"use strict";var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ie(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function xe(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==ke||null!==Ee)&&(Ne(),xe())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var je=!1,Me=null,Fe=!1,Ue=null,ze={onError:function(e){je=!0,Me=e}};function Be(e,t,n,r,i,s,o,a,c){je=!1,Me=null,Le.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,kt,Et,It,Tt=!1,xt=[],Ct=null,Nt=null,At=null,Pt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function jt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<xt.length){Bt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Pt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,jt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,jt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),dn=M({},ln,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(M({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function In(){return En}var Tn=M({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=sn(Tn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=sn(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(Pn),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var jn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Er={};function Ir(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Ir("animationend"),xr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),c(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(xr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(Be.apply(this,arguments),je){if(!je)throw Error(s(198));var u=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Mr(i,a,l),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Mr(i,a,l),s=c}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case Tr:case xr:case Cr:c=yn;break;case Nr:c=An;break;case"scroll":c=hn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(d=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:bi(c),f=null==l?a:bi(l),(a=new u(m,p+"leave",c,n,i)).target=d,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==c&&Qr(o,a,c,u,!1),null!==l&&null!==d&&Qr(o,d,l,u,!0)}if("select"===(c=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Jn;else if(Wn(a))if(Xn)g=or;else{g=ir;var y=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Vn&&(v=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Bn(n))&&(w.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),$t=Zt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Oe(n,s))&&o.unshift(Hr(n,c,a)):i||null!=(c=Oe(n,s))&&o.push(Hr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Si=[],ki=-1;function Ei(e){return{current:e}}function Ii(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ti(e,t){ki++,Si[ki]=e.current,e.current=t}var xi={},Ci=Ei(xi),Ni=Ei(!1),Ai=xi;function Pi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ii(Ni),Ii(Ci)}function Di(e,t,n){if(Ci.current!==xi)throw Error(s(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Ti(Ci,e)):Ii(Ni),Ti(Ni,n)}var Fi=null,Ui=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge($e,Vi),i}finally{wt=t,zi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Ji=1,Xi="";function Zi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function $i(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Ei(null),vs=null,ws=null,bs=null;function _s(){bs=ws=vs=null}function Ss(e){var t=ys.current;Ii(ys),e._currentValue=t}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Ts=null;function xs(e){null===Ts?Ts=[e]:Ts.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,xs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var d=i.baseState;for(o=0,u=l=c=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Mc|=o,e.lanes=o,e.memoizedState=d}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function zs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Rs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Rs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Rs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function Vs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=xi,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Oi(t)?Ai:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):xi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Oi(t)?Ai:Ci.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=jl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case S:return(t=Ul(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=jl(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===u?l=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(i,d),is&&Zi(i,m),l;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],c))&&(s=o(d,s,m),null===u?l=d:u.sibling=d,u=d);return is&&Zi(i,m),l}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Zi(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===d?u=w:d.sibling=w,d=w,m=y}if(v.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(i,v.value,l))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return is&&Zi(i,g),u}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((s=jl(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Ll(o.type,o.key,o.props,null,r.mode,c)).ref=Ks(r,s,o),c.return=r,r=c)}return a(r);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Ul(o,r.mode,c)).return=r,r=s}return a(r);case O:return e(r,s,(u=o._init)(o._payload),c)}if(te(o))return m(r,s,o,c);if(L(o))return g(r,s,o,c);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fl(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var Js=Ys(!0),Xs=Ys(!1),Zs={},$s=Ei(Zs),eo=Ei(Zs),to=Ei(Zs);function no(e){if(e===Zs)throw Error(s(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti($s,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($s),Ti($s,t)}function io(){Ii($s),Ii(eo),Ii(to)}function so(e){no(to.current);var t=no($s.current),n=ce(t,e.type);t!==n&&(Ti(eo,e),Ti($s,n))}function oo(e){eo.current===e&&(Ii($s),Ii(eo))}var ao=Ei(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,yo=null,vo=!1,wo=!1,bo=0,_o=0;function So(){throw Error(s(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=la,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,yo=go=mo=null,vo=!1,t)throw Error(s(300));return e}function Io(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function xo(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,l=null,u=o;do{var d=u.lane;if((po&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,a=r):l=l.next=h,mo.lanes|=d,Mc|=d}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Mc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=xo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=mo,r=xo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(s(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Mo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Mo(e){var t=Ns(e,1);null!==t&&rl(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return xo().memoizedState}function Bo(e,t,n,r){var i=To();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=xo();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return Vo(2048,8,e,t)}function Ho(e,t){return Vo(4,2,e,t)}function Ko(e,t){return Vo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Mc|=n,e.baseState=!0),t)}function $o(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return xo().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Cs(e,t,n,r))){rl(n,e,r,tl()),sa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,xs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Cs(e,t,i,r))&&(rl(n,e,r,i=tl()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:Is,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:Is,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=$o.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=To();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ac)throw Error(s(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ac.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Is,useCallback:Jo,useContext:Is,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:zo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(xo(),go.memoizedState,e)},useTransition:function(){return[No(Co)[0],xo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1},la={readContext:Is,useCallback:Jo,useContext:Is,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:zo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=xo();return null===go?t.memoizedState=e:Zo(t,go.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],xo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hc||(Hc=!0,Kc=r),ha(0,t)},n}function ma(e,t,n){(n=Rs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Js(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=Eo(e,t,n,r,s,i),n=Io(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function ka(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Dl(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return xa(e,t,n,r,i)}function Ia(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Dc,Rc),Rc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Dc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Dc,Rc),Rc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Dc,Rc),Rc|=r;return _a(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var s=Oi(n)?Ai:Ci.current;return s=Pi(t,s),Es(t,i),n=Eo(e,t,n,r,s,i),r=Io(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(Oi(n)){var s=!0;ji(t)}else s=!1;if(Es(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Is(l):l=Pi(t,l=Oi(n)?Ai:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Ws(t,o,r,l),As=!1;var h=t.memoizedState;o.state=h,Ms(t,r,o,i),c=t.memoizedState,a!==r||h!==c||Ni.current||As?("function"===typeof u&&(zs(t,n,u,r),c=t.memoizedState),(a=As||Vs(t,n,a,r,h,c,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Os(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:gs(t.type,a),o.props=l,d=t.pendingProps,h=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Is(c):c=Pi(t,c=Oi(n)?Ai:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==c)&&Ws(t,o,r,c),As=!1,h=t.memoizedState,o.state=h,Ms(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||As?("function"===typeof f&&(zs(t,n,f,r),p=t.memoizedState),(l=As||Vs(t,n,l,r,h,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ha(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Oa,Ra,Da,La,ja={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(ao,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Ml(c,i,0,null),e=jl(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=ja,e):Ua(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=da(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=jl(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=ja,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,za(e,t,a,r=da(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=Ac)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rl(r,e,i,-1))}return gl(),za(e,t,a,r=da(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Dl(r,a):(a=jl(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ma(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=ja,i}return e=(a=e.child).sibling,i=Dl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Ga(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Ra(e,t),Ga(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no($s.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var c in ve(n,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":K(r),$(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&w(e,o,u,c))}switch(n){case"input":K(e),$(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no($s.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ii(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(al(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return io(),Ra(e,t),null===e&&Vr(t.stateNode.containerInfo),Ga(t),null;case 10:return Ss(t.type._context),Ga(t),null;case 19:if(Ii(ao),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ka(o,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Ka(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qc&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Ga(t),null}else 2*Xe()-o.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,Ti(ao,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rc)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ao),null;case 4:return io(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($s.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,$a=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Il(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Il(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var dc=null,hc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||ec(n,t);case 6:var r=dc,i=hc;dc=null,fc(e,t,n),hc=i,null!==(dc=r)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Vt(e)):ci(dc,n.stateNode));break;case 4:r=dc,i=hc,dc=n.stateNode.containerInfo,hc=!0,fc(e,t,n),dc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tc(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Xa&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Il(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fc(e,t,n),Xa=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,hc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===dc)throw Error(s(160));pc(o,a,i),dc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Il(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Il(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Il(e,e.return,g)}}break;case 1:gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Il(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&X(i,o),we(c,a);var u=we(c,o);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(c){case"input":Z(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Il(e,e.return,g)}}break;case 6:if(gc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Il(e,e.return,g)}}break;case 3:if(gc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Il(e,e.return,g)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vc=Xe())),4&r&&mc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,gc(t,e),Xa=u):gc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($a=e,d=e.child;null!==d;){for(h=$a=d;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Il(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Sc(h);continue}}null!==p?(p.return=f,$a=p):Sc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Il(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Il(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),vc(e),4&r&&mc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(s(161))}}catch(a){Il(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wc(e,t,n){$a=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ja;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Xa;a=Ja;var l=Xa;if(Ja=o,(Xa=c)&&!l)for($a=i;null!==$a;)c=(o=$a).child,22===o.tag&&null!==o.memoizedState?kc(i):null!==c?(c.return=o,$a=c):kc(i);for(;null!==s;)$a=s,bc(s,t,n),s=s.sibling;$a=i,Ja=a,Xa=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$a=s):_c(e)}}function _c(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sc(t)}catch(f){Il(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function Sc(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function kc(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Il(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Il(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Il(t,s,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){Il(t,o,c)}}}catch(c){Il(t,t.return,c)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Ec,Ic=Math.ceil,Tc=b.ReactCurrentDispatcher,xc=b.ReactCurrentOwner,Cc=b.ReactCurrentBatchConfig,Nc=0,Ac=null,Pc=null,Oc=0,Rc=0,Dc=Ei(0),Lc=0,jc=null,Mc=0,Fc=0,Uc=0,zc=null,Bc=null,Vc=0,qc=1/0,Wc=null,Hc=!1,Kc=null,Gc=null,Qc=!1,Yc=null,Jc=0,Xc=0,Zc=null,$c=-1,el=0;function tl(){return 0!==(6&Nc)?Xe():-1!==$c?$c:$c=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Oc?Oc&-Oc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rl(e,t,n,r){if(50<Xc)throw Xc=0,Zc=null,Error(s(185));yt(e,n,r),0!==(2&Nc)&&e===Ac||(e===Ac&&(0===(2&Nc)&&(Fc|=n),4===Lc&&cl(e,Oc)),il(e,r),1===n&&0===Nc&&0===(1&t.mode)&&(qc=Xe()+500,Ui&&Vi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Ac?Oc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(ll.bind(null,e)):Bi(ll.bind(null,e)),oi((function(){0===(6&Nc)&&Vi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if($c=-1,el=0,0!==(6&Nc))throw Error(s(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ht(e,e===Ac?Oc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Nc;Nc|=2;var o=ml();for(Ac===e&&Oc===t||(Wc=null,qc=Xe()+500,fl(e,t));;)try{wl();break}catch(c){pl(e,c)}_s(),Tc.current=o,Nc=i,null!==Pc?t=0:(Ac=null,Oc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=jc,fl(e,0),cl(e,r),il(e,Xe()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=jc,fl(e,0),cl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sl(e,Bc,Wc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Vc+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sl.bind(null,e,Bc,Wc),t);break}Sl(e,Bc,Wc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ic(r/1960))-r)){e.timeoutHandle=ri(Sl.bind(null,e,Bc,Wc),r);break}Sl(e,Bc,Wc);break;default:throw Error(s(329))}}}return il(e,Xe()),e.callbackNode===n?sl.bind(null,e):null}function ol(e,t){var n=zc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Bc,Bc=n,null!==t&&al(t)),e}function al(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function cl(e,t){for(t&=~Uc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nc))throw Error(s(327));kl();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=jc,fl(e,0),cl(e,t),il(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,Bc,Wc),il(e,Xe()),null}function ul(e,t){var n=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=n)&&(qc=Xe()+500,Ui&&Vi())}}function dl(e){null!==Yc&&0===Yc.tag&&0===(6&Nc)&&kl();var t=Nc;Nc|=1;var n=Cc.transition,r=wt;try{if(Cc.transition=null,wt=1,e)return e()}finally{wt=r,Cc.transition=n,0===(6&(Nc=t))&&Vi()}}function hl(){Rc=Dc.current,Ii(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ii(Ni),Ii(Ci),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(ao);break;case 10:Ss(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ac=e,Pc=e=Dl(e.current,null),Oc=Rc=t,Lc=0,jc=null,Uc=Fc=Mc=0,Bc=zc=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return e}function pl(e,t){for(;;){var n=Pc;try{if(_s(),ho.current=oa,vo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=go=mo=null,wo=!1,bo=0,xc.current=null,null===n||null===n.return){Lc=1,jc=t,Pc=null;break}e:{var o=e,a=n.return,c=n,l=t;if(t=Oc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,c,0,t),1&p.mode&&ga(o,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ga(o,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,c,0,t),ps(ua(l,c));break e}}o=l=ua(l,c),4!==Lc&&(Lc=2),null===zc?zc=[o]:zc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,js(o,pa(0,l,t));break e;case 1:c=l;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gc||!Gc.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,js(o,ma(o,c,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(b){t=b,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function ml(){var e=Tc.current;return Tc.current=oa,null===e?oa:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Ac||0===(268435455&Mc)&&0===(268435455&Fc)||cl(Ac,Oc)}function yl(e,t){var n=Nc;Nc|=2;var r=ml();for(Ac===e&&Oc===t||(Wc=null,fl(e,t));;)try{vl();break}catch(i){pl(e,i)}if(_s(),Nc=n,Tc.current=r,null!==Pc)throw Error(s(261));return Ac=null,Oc=0,Lc}function vl(){for(;null!==Pc;)bl(Pc)}function wl(){for(;null!==Pc&&!Ye();)bl(Pc)}function bl(e){var t=Ec(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?_l(e):Pc=t,xc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Rc)))return void(Pc=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Lc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Sl(e,t,n){var r=wt,i=Cc.transition;try{Cc.transition=null,wt=1,function(e,t,n,r){do{kl()}while(null!==Yc);if(0!==(6&Nc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ac&&(Pc=Ac=null,Oc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Al(tt,(function(){return kl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cc.transition,Cc.transition=null;var a=wt;wt=1;var c=Nc;Nc|=4,xc.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=a+i),h!==o||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=a),f===o&&++d===r&&(l=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Il(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=nc,nc=!1}(e,n),yc(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wc(n,e,i),Je(),Nc=c,wt=a,Cc.transition=o}else e.current=n;if(Qc&&(Qc=!1,Yc=e,Jc=i),o=e.pendingLanes,0===o&&(Gc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Kc,Kc=null,e;0!==(1&Jc)&&0!==e.tag&&kl(),o=e.pendingLanes,0!==(1&o)?e===Zc?Xc++:(Xc=0,Zc=e):Xc=0,Vi()}(e,t,n,r)}finally{Cc.transition=i,wt=r}return null}function kl(){if(null!==Yc){var e=bt(Jc),t=Cc.transition,n=wt;try{if(Cc.transition=null,wt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,Jc=0,0!==(6&Nc))throw Error(s(331));var i=Nc;for(Nc|=4,$a=e.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for($a=u;null!==$a;){var d=$a;switch(d.tag){case 0:case 11:case 15:rc(8,d,o)}var h=d.child;if(null!==h)h.return=d,$a=h;else for(;null!==$a;){var f=(d=$a).sibling,p=d.return;if(oc(d),d===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else e:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,$a=v;break e}$a=o.return}}var w=e.current;for($a=w;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else e:for(a=w;null!==$a;){if(0!==(2048&(c=$a).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(S){Il(c,c.return,S)}if(c===a){$a=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,$a=_;break e}$a=c.return}}if(Nc=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,Cc.transition=t}}return!1}function El(e,t,n){e=Ds(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Il(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gc||!Gc.has(r))){t=Ds(t,e=ma(t,e=ua(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Oc&n)===n&&(4===Lc||3===Lc&&(130023424&Oc)===Oc&&500>Xe()-Vc?fl(e,0):Uc|=n),il(e,t)}function xl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Ns(e,t))&&(yt(e,t,n),il(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),xl(e,n)}function Al(e,t){return Ge(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Pl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Rl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return jl(n.children,i,o,t);case E:a=8,i|=8;break;case I:return(e=Ol(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Ol(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ol(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case x:a=9;break e;case C:a=11;break e;case P:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ol(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function jl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,s,o,a,c){return e=new zl(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ol(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function Vl(e){if(!e)return xi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,o,a,c){return(e=Bl(n,r,!0,e,0,s,0,a,c)).context=Vl(null),n=e.current,(s=Rs(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Wl(e,t,n,r){var i=t.current,s=tl(),o=nl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(rl(e,i,o,s),Ls(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Ec=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Oi(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ti(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&$i(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Es(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ps(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=gs(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Os(e,t),Ms(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&ls(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Fa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Rs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ks(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ks(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=Is(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),ka(e,t,r,i=gs(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wa(e,t),t.tag=1,Oi(r)?(e=!0,ji(t)):e=!1,Es(t,n),qs(t,r,i),Hs(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ia(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hl(o);a.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hl(o);s.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),dl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hl(c);a.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=c,e[pi]=c.current,Vr(8===e.nodeType?e.parentNode:e),dl((function(){Wl(t,c,n,r)})),c}(n,t,e,i,r);return Hl(o)}Jl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wl(e,t,null,null)},Jl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Wl(null,e,null,null)})),t[pi]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),il(t,Xe()),0===(6&Nc)&&(qc=Xe()+500,Vi()))}break;case 13:dl((function(){var t=Ns(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},St=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Ns(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},Et=function(){return wt},It=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ul,Ne=dl;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,xe,ul]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(s(40));return!!e._reactRootContainer&&(dl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+C(c,0):s,_(o)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+C(a=e[l],l);c+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,u=s+C(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)S.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,R(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),c=!1}return c}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,I=null,T=-1,x=5,C=-1;function N(){return!(t.unstable_now()-C<x)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?k():(E=!1,I=null)}}else E=!1}if("function"===typeof w)k=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=A,k=function(){O.postMessage(null)}}else k=function(){y(A,0)};function R(e){I=e,E||(E=!0,k())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(l,e),m||p||(m=!0,R(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Je,SDK_VERSION:()=>$t,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>Kt,_apps:()=>qt,_clearComponents:()=>Jt,_components:()=>Wt,_getProvider:()=>Qt,_registerComponent:()=>Gt,_removeServiceInstance:()=>Yt,deleteApp:()=>rn,getApp:()=>tn,getApps:()=>nn,initializeApp:()=>en,onLog:()=>on,registerVersion:()=>sn,setLogLevel:()=>an});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>dT,hasStandardBrowserEnv:()=>hT,hasStandardBrowserWebWorkerEnv:()=>pT});var r,i=n(791),s=n.t(i,2),o=n(164),a=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,d=r.Pop,m=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){d=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:d,location:b.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let b={get action(){return d},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),m=e,()=>{s.removeEventListener(l,v),m=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d=r.Push;let i=f(b.location,e,t);n&&n(i,e),g=y()+1;let c=h(i,g),l=b.createHref(i);try{a.pushState(c,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(l)}o&&m&&m({action:d,location:b.location,delta:1})},replace:function(e,t){d=r.Replace;let i=f(b.location,e,t);n&&n(i,e),g=y();let s=h(i,g),c=b.createHref(i);a.replaceState(s,"",c),o&&m&&m({action:d,location:b.location,delta:0})},go:e=>a.go(e)};return b}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=N(i[o],P(r));return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=M([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:\w+$/,S=3,k=2,E=1,I=10,T=-2,x=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=T),t&&(r+=k),n.filter((e=>!x(e))).reduce(((e,t)=>e+(_.test(t)?S:""===t?E:I)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:M([i,l.pathname]),pathnameBase:F(M([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=M([i,l.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return d(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function P(e){try{return decodeURI(e)}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),u(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else if(r){let e=0===t.length?[]:t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:z(i)}}(i,s),d=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!d&&!h||(l.pathname+="/"),l}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],q=(new Set(V),["get",...V]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function X(){return null!=i.useContext(Q)}function Z(){return X()||u(!1),i.useContext(Q).location}function $(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=de(le.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);$((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return r}():function(){X()||u(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(Y),{pathname:o}=Z(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),c=i.useRef(!1);return $((()=>{c.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof n)return void r.go(n);let s=j(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:M([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function te(){let{matches:e}=i.useContext(Y),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:s}=i.useContext(Y),{pathname:o}=Z(),a=JSON.stringify(L(s,r.v7_relativeSplatPath));return i.useMemo((()=>j(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function re(e,t,n,s){X()||u(!1);let{navigator:o}=i.useContext(G),{matches:a}=i.useContext(Y),c=a[a.length-1],l=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let h,f=Z();if(t){var p;let e="string"===typeof t?m(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",y=v(e,{pathname:"/"===d?g:g.slice(d.length)||"/"});let w=ce(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:M([d,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&w?i.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function ie(){let e=function(){var e;let t=i.useContext(J),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.loader&&e.route.id&&void 0===n.loaderData[e.route.id]&&(!n.errors||void 0===n.errors[e.route.id])){l=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}return a.reduceRight(((e,r,s)=>{let o,u=!1,h=null,f=null;var p;n&&(o=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||se,l&&(d<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),u=!0,f=null):d===s&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?h:u?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=i.useContext(H);return t||u(!1),t}function he(e){let t=i.useContext(K);return t||u(!1),t}function fe(e){let t=function(e){let t=i.useContext(Y);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const pe={};s.startTransition;function me(e){let{to:t,replace:n,state:r,relative:s}=e;X()||u(!1);let{future:o,static:a}=i.useContext(G),{matches:c}=i.useContext(Y),{pathname:l}=Z(),d=ee(),h=j(t,L(c,o.v7_relativeSplatPath),l,"path"===s),f=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:s})),[d,f,s,n,r]),null}function ge(e){u(!1)}function ye(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:c=!1,future:l}=e;X()&&u(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:a,static:c,future:W({v7_relativeSplatPath:!1},l)})),[d,l,a,c]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:v="default"}=s,w=i.useMemo((()=>{let e=O(f,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:y,key:v},navigationType:o}}),[d,f,p,g,y,v,o]);return null==w?null:i.createElement(G.Provider,{value:h},i.createElement(Q.Provider,{children:n,value:w}))}function ve(e){let{children:t,location:n}=e;return re(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ge&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,s)),n.push(o)})),n}function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const ke=s.startTransition;a.flushSync;function Ee(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let c=o.current,[l,u]=i.useState({action:c.action,location:c.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&ke?ke((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>c.listen(h)),[c,h]),i.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:r})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:l,to:d,preventScrollReset:h,unstable_viewTransition:f}=e,m=_e(e,Se),{basename:g}=i.useContext(G),y=!1;if("string"===typeof d&&Te.test(d)&&(n=d,Ie))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(b){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;X()||u(!1);let{basename:r,navigator:s}=i.useContext(G),{hash:o,pathname:a,search:c}=ne(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:M([r,a])),s.createHref({pathname:l,search:c,hash:o})}(d,{relative:s}),w=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c}=void 0===t?{}:t,l=ee(),u=Z(),d=ne(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(u)===p(d);l(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c})}}),[u,l,d,r,s,n,e,o,a,c])}(d,{replace:a,state:c,target:l,preventScrollReset:h,relative:s,unstable_viewTransition:f});return i.createElement("a",be({},m,{href:n||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:l}))}));var Ce,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var Ae=n(184);const Pe=(0,i.createContext)(),Oe=e=>{let{reducer:t,initialState:n,children:r}=e;return(0,Ae.jsx)(Pe.Provider,{value:(0,i.useReducer)(t,n),children:r})},Re=()=>(0,i.useContext)(Pe),De=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|c>>6,h=63&c;a||(h=64,s||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(De(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new je;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(e){return function(e){const t=De(e);return Le.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Fe=function(e){try{return Le.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ue(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ue(e[n],t[n]));return e}const ze=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Be=()=>{try{return ze()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Fe(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ve=()=>{var e;return null===(e=Be())||void 0===e?void 0:e.config};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function We(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function He(){var e;const t=null===(e=Be())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ke(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ge(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qe(){const e=We();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ye(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Je extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ze,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Je(n,s,t)}}const Ze=/\{\$([^}]+)}/g;function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function et(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(tt(n)&&tt(s)){if(!et(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tt(e){return null!==e&&"object"===typeof e}function nt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function it(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function st(e,t){const n=new ot(e,t);return n.subscribe.bind(n)}class ot{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=at),void 0===r.error&&(r.error=at),void 0===r.complete&&(r.complete=at);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function at(){}function ct(e){return e&&e._delegate?e._delegate:e}class lt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ut="[DEFAULT]";class dt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new qe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ut})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ut?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.component?this.component.multipleInstances?e:ut:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ht{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ft=[];var pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));const mt={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},gt=pt.INFO,yt={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},vt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=yt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class wt{constructor(e){this.name=e,this._logLevel=gt,this._logHandler=vt,this._userLogHandler=null,ft.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?mt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}const bt=(e,t)=>t.some((t=>e instanceof t));let _t,St;const kt=new WeakMap,Et=new WeakMap,It=new WeakMap,Tt=new WeakMap,xt=new WeakMap;let Ct={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||It.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Nt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(St||(St=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ot(this),n),Pt(kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(Ot(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ot(this),t,...r);return It.set(s,t.sort?t.sort():[t]),Pt(s)}}function At(e){return"function"===typeof e?Nt(e):(e instanceof IDBTransaction&&function(e){if(Et.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Et.set(e,t)}(e),bt(e,_t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ct):e)}function Pt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Pt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&kt.set(t,e)})).catch((()=>{})),xt.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=At(e);return t!==e&&(Tt.set(e,t),xt.set(t,e)),t}const Ot=e=>xt.get(e);const Rt=["get","getKey","getAll","getAllKeys","count"],Dt=["put","add","delete","clear"],Lt=new Map;function jt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Lt.get(t))return Lt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Dt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Rt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Lt.set(t,s),s}Ct=(e=>({...e,get:(t,n,r)=>jt(t,n)||e.get(t,n,r),has:(t,n)=>!!jt(t,n)||e.has(t,n)}))(Ct);class Mt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ft="@firebase/app",Ut="0.9.25",zt=new wt("@firebase/app"),Bt="[DEFAULT]",Vt={[Ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Wt=new Map;function Ht(e,t){try{e.container.addComponent(t)}catch(n){zt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Kt(e,t){e.container.addOrOverwriteComponent(t)}function Gt(e){const t=e.name;if(Wt.has(t))return zt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wt.set(t,e);for(const n of qt.values())Ht(n,e);return!0}function Qt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bt;Qt(e,t).clearInstance(n)}function Jt(){Wt.clear()}const Xt=new Xe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const $t="10.7.1";function en(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Xt.create("bad-app-name",{appName:String(i)});if(n||(n=Ve()),!n)throw Xt.create("no-options");const s=qt.get(i);if(s){if(et(n,s.options)&&et(r,s.config))return s;throw Xt.create("duplicate-app",{appName:i})}const o=new ht(i);for(const c of Wt.values())o.addComponent(c);const a=new Zt(n,r,o);return qt.set(i,a),a}function tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;const t=qt.get(e);if(!t&&e===Bt&&Ve())return en();if(!t)throw Xt.create("no-app",{appName:e});return t}function nn(){return Array.from(qt.values())}async function rn(e){const t=e.name;qt.has(t)&&(qt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function sn(e,t,n){var r;let i=null!==(r=Vt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void zt.warn(e.join(" "))}Gt(new lt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function on(e,t){if(null!==e&&"function"!==typeof e)throw Xt.create("invalid-log-argument");!function(e,t){for(const n of ft){let r=null;t&&t.level&&(r=mt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:pt[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function an(e){var t;t=e,ft.forEach((e=>{e.setLogLevel(t)}))}const cn="firebase-heartbeat-database",ln=1,un="firebase-heartbeat-store";let dn=null;function hn(){return dn||(dn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Pt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Pt(o.result),e.oldVersion,e.newVersion,Pt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(cn,ln,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(un)}}).catch((e=>{throw Xt.create("idb-open",{originalErrorMessage:e.message})}))),dn}async function fn(e,t){try{const n=(await hn()).transaction(un,"readwrite"),r=n.objectStore(un);await r.put(t,pn(e)),await n.done}catch(n){if(n instanceof Je)zt.warn(n.message);else{const e=Xt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});zt.warn(e.message)}}}function pn(e){return"".concat(e.name,"!").concat(e.options.appId)}class mn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=gn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),vn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Me(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function gn(){return(new Date).toISOString().substring(0,10)}class yn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ye()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await hn();return await t.transaction(un).objectStore(un).get(pn(e))}catch(t){if(t instanceof Je)zt.warn(t.message);else{const e=Xt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});zt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return fn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function vn(e){return Me(JSON.stringify({version:2,heartbeats:e})).length}var wn;wn="",Gt(new lt("platform-logger",(e=>new Mt(e)),"PRIVATE")),Gt(new lt("heartbeat",(e=>new mn(e)),"PRIVATE")),sn(Ft,Ut,wn),sn(Ft,Ut,"esm2017"),sn("fire-js","");sn("firebase","10.7.1","app");class bn{constructor(e,t){this._delegate=e,this.firebase=t,Ht(e,new lt("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),rn(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ht(this._delegate,e)}_addOrOverwriteComponent(e){Kt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _n=new Xe("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Sn=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=en(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if($e(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:sn,setLogLevel:an,onLog:on,apps:null,SDK_VERSION:$t,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Gt(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw _n.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Ue(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!$e(n,e=e||Bt))throw _n.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(bn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ue(n,e)},createSubscribe:st,ErrorFactory:Xe,deepExtend:Ue}),n}(),kn=new wt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){kn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&kn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const En=Sn;!function(e){sn("@firebase/app-compat","0.2.25",e)}();En.registerVersion("firebase","10.7.1","app-compat");function In(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Tn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xn="EMAIL_SIGNIN",Cn="PASSWORD_RESET",Nn="RECOVER_EMAIL",An="REVERT_SECOND_FACTOR_ADDITION",Pn="VERIFY_AND_CHANGE_EMAIL",On="VERIFY_EMAIL";function Rn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ln=Rn,jn=new Xe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mn=new wt("@firebase/auth");function Fn(e){if(Mn.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mn.error("Auth (".concat($t,"): ").concat(e),...n)}}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qn(e,...n)}function zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qn(e,...n)}function Bn(e,t,n){const r=Object.assign(Object.assign({},Ln()),{[t]:n});return new Xe("auth","Firebase",r).create(t,{appName:e.name})}function Vn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Un(e,"argument-error"),Bn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return jn.create(e,...n)}function Wn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qn(t,...r)}}function Hn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fn(t),new Error(t)}function Kn(e,t){e||Hn(t)}function Gn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qn(){return"http:"===Yn()||"https:"===Yn()}function Yn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Jn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())||Ge()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qn()||Ke()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Xn(e,t){Kn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Zn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},er=new Jn(3e4,6e4);function tr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function nr(e,t,n,r){return rr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=nt(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Zn.fetch()(sr(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function rr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$n),t);try{const t=new ar(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw cr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw cr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw cr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw cr(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Bn(e,a,o);Un(e,a)}}catch(i){if(i instanceof Je)throw i;Un(e,"network-request-failed",{message:String(i)})}}async function ir(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await nr(e,t,n,r,i);return"mfaPendingCredential"in s&&Un(e,"multi-factor-auth-required",{_serverResponse:s}),s}function sr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function or(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ar{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(zn(this.auth,"network-request-failed"))),er.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(e,t,r);return i.customData._tokenResponse=n,i}function lr(e){return void 0!==e&&void 0!==e.getResponse}function ur(e){return void 0!==e&&void 0!==e.enterprise}class dr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return or(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function hr(e,t){return nr(e,"GET","/v2/recaptchaConfig",tr(e,t))}function fr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function pr(e){return 1e3*Number(e)}function mr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Fe(n);return e?JSON.parse(e):(Fn("Failed to decode base64 JWT payload"),null)}catch(i){return Fn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function gr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Je&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class yr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class vr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await gr(e,async function(e,t){return nr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Wn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=In(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wn(e.idToken,"internal-error"),Wn("undefined"!==typeof e.idToken,"internal-error"),Wn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=mr(e);return Wn(t,"internal-error"),Wn("undefined"!==typeof t.exp,"internal-error"),Wn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Wn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await rr(e,{},(async()=>{const n=nt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=sr(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Zn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new br;return n&&(Wn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Wn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Wn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new br,this.toJSON())}_performRefresh(){return Hn("not implemented")}}function _r(e,t){Wn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Sr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=In(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await gr(this,this.stsTokenManager.getToken(this.auth,e));return Wn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ct(e),r=await n.getIdToken(t),i=mr(r);Wn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fr(pr(i.auth_time)),issuedAtTime:fr(pr(i.iat)),expirationTime:fr(pr(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ct(e);await wr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Wn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await wr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gr(this,async function(e,t){return nr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;Wn(v&&S,e,"internal-error");const k=br.fromJSON(this.name,S);Wn("string"===typeof v,e,"internal-error"),_r(u,e.name),_r(d,e.name),Wn("boolean"===typeof w,e,"internal-error"),Wn("boolean"===typeof b,e,"internal-error"),_r(h,e.name),_r(f,e.name),_r(p,e.name),_r(m,e.name),_r(g,e.name),_r(y,e.name);const E=new Sr({uid:v,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new br;r.updateFromServerResponse(t);const i=new Sr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await wr(i),i}}const kr=new Map;function Er(e){Kn(e instanceof Function,"Expected a class definition");let t=kr.get(e);return t?(Kn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kr.set(e,t),t)}class Ir{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ir.type="NONE";const Tr=Ir;function xr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Cr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=xr(this.userKey,r.apiKey,i),this.fullPersistenceKey=xr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Cr(Er(Tr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Er(Tr);const s=xr(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Sr._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new Cr(i,e,n)):new Cr(i,e,n)}}function Nr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Rr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ar(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lr(t))return"Blackberry";if(jr(t))return"Webos";if(Pr(t))return"Safari";if((t.includes("chrome/")||Or(t))&&!t.includes("edge/"))return"Chrome";if(Dr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/firefox\//i.test(e)}function Pr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/crios\//i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iemobile/i.test(e)}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/android/i.test(e)}function Lr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/blackberry/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/webos/i.test(e)}function Mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Mr(e)||Dr(e)||jr(e)||Lr(e)||/windows phone/i.test(e)||Rr(e)}function Ur(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nr(We());break;case"Worker":t="".concat(Nr(We()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($t,"/").concat(r)}class zr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Br{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Vr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wr(this),this.idTokenSubscription=new Wr(this),this.beforeStateQueue=new zr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Cr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Wn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wr(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ct(e):null;return t&&Wn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Wn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Er(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return nr(e,"GET","/v2/passwordPolicy",tr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Br(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return nr(e,"POST","/v2/accounts:revokeToken",tr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Wn(t,this,"argument-error"),this.redirectPersistenceManager=await Cr.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wn(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Mn.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Mn.warn("Auth (".concat($t,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function qr(e){return ct(e)}class Wr{constructor(e){this.auth=e,this.observer=null,this.addObserver=st((e=>this.observer=e))}get next(){return Wn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=zn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Kr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Gr{constructor(e){this.type="recaptcha-enterprise",this.auth=qr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ur(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{hr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new dr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&ur(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Hr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Qr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Gr(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Yr(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Qr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Qr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Jr(e,t,n){const r=qr(e);Wn(r._canInitEmulator,r,"emulator-config-failed"),Wn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Xr(t),{host:o,port:a}=function(e){const t=Xr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Zr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Zr(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $r{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,t){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function ei(e,t){return nr(e,"POST","/v1/accounts:resetPassword",tr(e,t))}async function ti(e,t){return nr(e,"POST","/v1/accounts:signUp",t)}async function ni(e,t){return ir(e,"POST","/v1/accounts:signInWithPassword",tr(e,t))}async function ri(e,t){return nr(e,"POST","/v1/accounts:sendOobCode",tr(e,t))}async function ii(e,t){return ri(e,t)}async function si(e,t){return ri(e,t)}class oi extends $r{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new oi(e,t,"password")}static _fromEmailAndCode(e,t){return new oi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Yr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ni);case"emailLink":return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithEmailLink",tr(e,t))}(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Yr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ti);case"emailLink":return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithEmailLink",tr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ai(e,t){return ir(e,"POST","/v1/accounts:signInWithIdp",tr(e,t))}class ci extends $r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=In(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new ci(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ai(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ai(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ai(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nt(t)}return e}}const li={USER_NOT_FOUND:"user-not-found"};class ui extends $r{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ui({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ui({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithPhoneNumber",tr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await ir(e,"POST","/v1/accounts:signInWithPhoneNumber",tr(e,t));if(n.temporaryProof)throw cr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return ir(e,"POST","/v1/accounts:signInWithPhoneNumber",tr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),li)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ui({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class di{constructor(e){var t,n,r,i,s,o;const a=rt(it(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Wn(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=rt(it(e)).link,n=t?rt(it(t)).deep_link_id:null,r=rt(it(e)).deep_link_id;return(r?rt(it(r)).link:null)||r||n||t||e}(e);try{return new di(t)}catch(n){return null}}}class hi{constructor(){this.providerId=hi.PROVIDER_ID}static credential(e,t){return oi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=di.parseLink(t);return Wn(n,"argument-error"),oi._fromEmailAndCode(e,n.code,n.tenantId)}}hi.PROVIDER_ID="password",hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pi extends fi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mi extends pi{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Wn("providerId"in t&&"signInMethod"in t,"argument-error"),ci._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Wn(e.idToken||e.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return mi.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return mi.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new mi(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(c){return null}}}class gi extends pi{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch(n){return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com",gi.PROVIDER_ID="facebook.com";class yi extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ci._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return yi.credential(n,r)}catch(i){return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com",yi.PROVIDER_ID="google.com";class vi extends pi{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vi.credential(t.oauthAccessToken)}catch(n){return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com",vi.PROVIDER_ID="github.com";class wi extends $r{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ai(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ai(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ai(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new wi(n,i):null}static _create(e,t){return new wi(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bi extends fi{constructor(e){Wn(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return bi.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return bi.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=wi.fromJSON(e);return Wn(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return wi._create(r,n)}catch(i){return null}}}class _i extends pi{constructor(){super("twitter.com")}static credential(e,t){return ci._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return _i.credential(n,r)}catch(i){return null}}}async function Si(e,t){return ir(e,"POST","/v1/accounts:signUp",tr(e,t))}_i.TWITTER_SIGN_IN_METHOD="twitter.com",_i.PROVIDER_ID="twitter.com";class ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Sr._fromIdTokenResponse(e,n,r),s=Ei(n);return new ki({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ei(n);return new ki({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ei(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ii extends Je{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ii.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ii(e,t,n,r)}}function Ti(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ii._fromErrorAndOperation(e,n,t,r);throw n}))}function xi(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ci(e,t){const n=ct(e);await Ai(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return nr(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=xi(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await gr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ki._forOperation(e,"link",r)}async function Ai(e,t,n){await wr(t);const r=!1===e?"provider-already-linked":"no-such-provider";Wn(xi(t.providerData).has(n)===e,t.auth,r)}async function Pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await gr(e,Ti(r,i,t,e),n);Wn(s.idToken,r,"internal-error");const o=mr(s.idToken);Wn(o,r,"internal-error");const{sub:a}=o;return Wn(e.uid===a,r,"user-mismatch"),ki._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Un(r,"user-mismatch"),s}}async function Oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ti(e,r,t),s=await ki._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ri(e,t){return Oi(qr(e),t)}async function Di(e,t){const n=ct(e);return await Ai(!1,n,t.providerId),Ni(n,t)}async function Li(e,t){return Pi(ct(e),t)}async function ji(e,t){const n=qr(e),r=await async function(e,t){return ir(e,"POST","/v1/accounts:signInWithCustomToken",tr(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ki._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Mi{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Fi._fromServerResponse(e,t):"totpInfo"in t?Ui._fromServerResponse(e,t):Un(e,"internal-error")}}class Fi extends Mi{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Fi(t)}}class Ui extends Mi{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ui(t)}}function zi(e,t,n){var r;Wn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Wn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Wn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Wn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Bi(e){const t=qr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Vi(e,t){await async function(e,t){return nr(e,"POST","/v1/accounts:update",tr(e,t))}(ct(e),{oobCode:t})}async function qi(e,t){const n=ct(e),r=await ei(n,{oobCode:t}),i=r.requestType;switch(Wn(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Wn(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Wn(r.mfaInfo,n,"internal-error");default:Wn(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Mi._fromServerResponse(qr(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Wi(e,t){const n={identifier:t,continueUri:Qn()?Gn():"http://localhost"},{signinMethods:r}=await async function(e,t){return nr(e,"POST","/v1/accounts:createAuthUri",tr(e,t))}(ct(e),n);return r||[]}async function Hi(e,t){const n=ct(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&zi(n.auth,r,t);const{email:i}=await async function(e,t){return ri(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Ki(e,t,n){const r=ct(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&zi(r.auth,i,n);const{email:s}=await async function(e,t){return ri(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Gi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ct(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await gr(i,async function(e,t){return nr(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function Qi(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await gr(e,async function(e,t){return nr(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Yi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ji extends Yi{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Xi extends Yi{constructor(e,t){super(e,"facebook.com",t)}}class Zi extends Ji{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class $i extends Yi{constructor(e,t){super(e,"google.com",t)}}class es extends Ji{constructor(e,t,n){super(e,"twitter.com",t,n)}}function ts(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=mr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Yi(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Xi(s,i);case"github.com":return new Zi(s,i);case"google.com":return new $i(s,i);case"twitter.com":return new es(s,i,e.screenName||null);case"custom":case"anonymous":return new Yi(s,null);default:return new Yi(s,r,i)}}(n)}class ns{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ns("enroll",e,t)}static _fromMfaPendingCredential(e){return new ns("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ns._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ns._fromIdtoken(e.multiFactorSession.idToken)}return null}}class rs{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=qr(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Mi._fromServerResponse(n,e)));Wn(r.mfaPendingCredential,n,"internal-error");const s=ns._fromMfaPendingCredential(r.mfaPendingCredential);return new rs(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ki._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Wn(t.user,n,"internal-error"),ki._forOperation(t.user,t.operationType,o);default:Un(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class is{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Mi._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new is(e)}async getSession(){return ns._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await gr(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await gr(this.user,function(e,t){return nr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",tr(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const ss=new WeakMap;const os="__sak";class as{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class cs extends as{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=We();return Pr(e)||Mr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Fr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Qe()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cs.type="LOCAL";const ls=cs;class us extends as{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}us.type="SESSION";const ds=us;class hs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new hs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hs.receivers=[];class ps{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=fs("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ms(){return window}function gs(){return"undefined"!==typeof ms().WorkerGlobalScope&&"function"===typeof ms().importScripts}const ys="firebaseLocalStorageDb",vs="firebaseLocalStorage",ws="fbase_key";class bs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function _s(e,t){return e.transaction([vs],t?"readwrite":"readonly").objectStore(vs)}function Ss(){const e=indexedDB.open(ys,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(vs,{keyPath:ws})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(vs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ys);return new bs(e).toPromise()}(),t(await Ss()))}))}))}async function ks(e,t,n){const r=_s(e,!0).put({[ws]:t,value:n});return new bs(r).toPromise()}function Es(e,t){const n=_s(e,!0).delete(t);return new bs(n).toPromise()}class Is{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ss()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hs._getInstance(gs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ps(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ss();return await ks(e,os,"1"),await Es(e,os),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ks(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=_s(e,!1).get(t),r=await new bs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Es(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=_s(e,!1).getAll();return new bs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Is.type="LOCAL";const Ts=Is;const xs=1e12;class Cs{constructor(e){this.auth=e,this.counter=xs,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ns(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||xs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||xs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||xs;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ns{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Wn(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const As=Kr("rcb"),Ps=new Jn(3e4,6e4);class Os{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ms().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Wn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&lr(ms().grecaptcha)?Promise.resolve(ms().grecaptcha):new Promise(((n,r)=>{const i=ms().setTimeout((()=>{r(zn(e,"network-request-failed"))}),Ps.get());ms()[As]=()=>{ms().clearTimeout(i),delete ms()[As];const s=ms().grecaptcha;if(!s||!lr(s))return void r(zn(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Hr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(nt({onload:As,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(zn(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ms().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rs{async load(e){return new Cs(e)}clearedOneInstance(){}}const Ds="recaptcha",Ls={theme:"light",type:"image"};class js{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ls);this.parameters=n,this.type=Ds,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qr(e),this.isInvisible="invisible"===this.parameters.size,Wn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Wn(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rs:new Os,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Wn(!this.parameters.sitekey,this.auth,"argument-error"),Wn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Wn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ms()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Wn(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Wn(Qn()&&!gs(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await nr(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Wn(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Wn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ms{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ui._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Fs(e,t,n){var r;const i=await n.verify();try{let s;if(Wn("string"===typeof i,e,"argument-error"),Wn(n.type===Ds,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Wn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return nr(e,"POST","/v2/accounts/mfaEnrollment:start",tr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Wn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Wn(n,e,"missing-multi-factor-info");const o=await function(e,t){return nr(e,"POST","/v2/accounts/mfaSignIn:start",tr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return nr(e,"POST","/v1/accounts:sendVerificationCode",tr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Us{constructor(e){this.providerId=Us.PROVIDER_ID,this.auth=qr(e)}verifyPhoneNumber(e,t){return Fs(this.auth,e,ct(t))}static credential(e,t){return ui._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Us.credentialFromTaggedObject(t)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ui._fromTokenResponse(n,r):null}}function zs(e,t){return t?Er(t):(Wn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Us.PROVIDER_ID="phone",Us.PHONE_SIGN_IN_METHOD="phone";class Bs extends $r{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ai(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ai(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ai(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vs(e){return Oi(e.auth,new Bs(e),e.bypassAuthState)}function qs(e){const{auth:t,user:n}=e;return Wn(n,t,"internal-error"),Pi(n,new Bs(e),e.bypassAuthState)}async function Ws(e){const{auth:t,user:n}=e;return Wn(n,t,"internal-error"),Ni(n,new Bs(e),e.bypassAuthState)}class Hs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vs;case"linkViaPopup":case"linkViaRedirect":return Ws;case"reauthViaPopup":case"reauthViaRedirect":return qs;default:Un(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ks=new Jn(2e3,1e4);class Gs extends Hs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wn(e,this.auth,"internal-error"),e}async onExecution(){Kn(1===this.filter.length,"Popup operations only handle one event");const e=fs();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(zn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ks.get())};e()}}Gs.currentPopupAction=null;const Qs="pendingRedirect",Ys=new Map;class Js extends Hs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ys.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=eo(t),r=$s(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Ys.set(this.auth._key(),e)}return this.bypassAuthState||Ys.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Xs(e,t){return $s(e)._set(eo(t),"true")}function Zs(e,t){Ys.set(e._key(),t)}function $s(e){return Er(e._redirectPersistence)}function eo(e){return xr(Qs,e.config.apiKey,e.name)}function to(e,t,n){return async function(e,t,n){const r=qr(e);Vn(e,t,fi),await r._initializationPromise;const i=zs(r,n);return await Xs(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function no(e,t,n){return async function(e,t,n){const r=ct(e);Vn(r.auth,t,fi),await r.auth._initializationPromise;const i=zs(r.auth,n);await Xs(i,r.auth);const s=await so(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ro(e,t,n){return async function(e,t,n){const r=ct(e);Vn(r.auth,t,fi),await r.auth._initializationPromise;const i=zs(r.auth,n);await Ai(!1,r,t.providerId),await Xs(i,r.auth);const s=await so(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=qr(e),i=zs(r,t),s=new Js(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function so(e){const t=fs("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class oo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return co(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!co(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ao(e))}saveEventToCache(e){this.cachedEventUids.add(ao(e)),this.lastProcessedEventTime=Date.now()}}function ao(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function co(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function lo(e){return nr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const uo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;function fo(e){const t=Gn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ho.test(n))return!1;if(uo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const po=new Jn(3e4,6e4);function mo(){const e=ms().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let go=null;function yo(e){return go=go||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){mo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mo(),n(zn(e,"network-request-failed"))},timeout:po.get()})}if(null===(i=null===(r=ms().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ms().gapi)||void 0===s?void 0:s.load)){const t=Kr("iframefcb");return ms()[t]=()=>{gapi.load?o():n(zn(e,"network-request-failed"))},Hr("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw go=null,e}))}(e),go}const vo=new Jn(5e3,15e3),wo="__/auth/iframe",bo="emulator/auth/iframe",_o={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},So=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ko(e){const t=e.config;Wn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Xn(t,bo):"https://".concat(e.config.authDomain,"/").concat(wo),r={apiKey:t.apiKey,appName:e.name,v:$t},i=So.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(nt(r).slice(1))}const Eo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Io{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function To(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Eo),{width:r.toString(),height:i.toString(),top:s,left:o}),l=We().toLowerCase();n&&(a=Or(l)?"_blank":n),Ar(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Mr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:We())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Io(null);const d=window.open(t||"",a,u);Wn(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Io(d)}const xo="__/auth/handler",Co="emulator/auth/handler",No=encodeURIComponent("fac");async function Ao(e,t,n,r,i,s){Wn(e.config.authDomain,e,"auth-domain-config-required"),Wn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$t,eventId:i};if(t instanceof fi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof pi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(No,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xo);return Xn(t,Co)}(e),"?").concat(nt(a).slice(1)).concat(l)}const Po="webStorageSupport";const Oo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=io,this._overrideRedirectResult=Zs}async _openPopup(e,t,n,r){var i;Kn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return To(e,await Ao(e,t,n,Gn(),r),fs())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ms().location.href=e}(await Ao(e,t,n,Gn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Kn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await yo(e),n=ms().gapi;return Wn(n,e,"internal-error"),t.open({where:document.body,url:ko(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_o,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=zn(e,"network-request-failed"),s=ms().setTimeout((()=>{r(i)}),vo.get());function o(){ms().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new oo(e);return t.register("authEvent",(t=>{Wn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Po,{type:Po},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Po];void 0!==i&&t(!!i),Un(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await lo(e);for(const r of t)try{if(fo(r))return}catch(n){}Un(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fr()||Pr()||Mr()}};class Ro{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Hn("unexpected MultiFactorSessionType")}}}class Do extends Ro{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Do(e)}_finalizeEnroll(e,t,n){return function(e,t){return nr(e,"POST","/v2/accounts/mfaEnrollment:finalize",tr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return nr(e,"POST","/v2/accounts/mfaSignIn:finalize",tr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Lo{constructor(){}static assertion(e){return Do._fromCredential(e)}}Lo.FACTOR_ID="phone";var jo="@firebase/auth",Mo="1.5.1";class Fo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Be())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Uo;function zo(){return window}Uo="Browser",Gt(new lt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Wn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:Uo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(Uo)},l=new Vr(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Er);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Gt(new lt("auth-internal",(e=>(e=>new Fo(e))(qr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),sn(jo,Mo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Uo)),sn(jo,Mo,"esm2017");async function Bo(e,t,n){var r;const{BuildInfo:i}=zo();Kn(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Kn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Mr()?o.ibi=i.packageName:Dr()?o.apn=i.packageName:Un(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Ao(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Vo(e){const{cordova:t}=zo();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const qo=20;class Wo extends oo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Ho(e){const t=await Qo()._get(Yo(e));return t&&await Qo()._remove(Yo(e)),t}function Ko(e,t){var n,r;const i=function(e){const t=Jo(e),n=t.link?decodeURIComponent(t.link):void 0,r=Jo(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Jo(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Jo(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?zn(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Go(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<qo;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Qo(){return Er(ls)}function Yo(e){return xr("authEvent",e.config.apiKey,e.name)}function Jo(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return rt(n.join("?"))}const Xo=class{constructor(){this._redirectPersistence=ds,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=io,this._overrideRedirectResult=Zs}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Wo(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Un(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,l,u;const d=zo();Wn("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Wn("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Wn("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wn("function"===typeof(null===(c=null===(a=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wn("function"===typeof(null===(u=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ys.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Go(),postBody:null,tenantId:e.tenantId,error:zn(e,"no-auth-event")}}(e,n,r);await function(e,t){return Qo()._set(Yo(e),t)}(e,s);const o=await Bo(e,s,t);return async function(e,t,n){const{cordova:r}=zo();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(zn(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),Dr()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Vo(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=zo(),n={};Mr()?n.iosBundleId=t.packageName:Dr()?n.androidPackageName=t.packageName:Un(e,"operation-not-supported-in-this-environment"),await lo(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=zo(),s=setTimeout((async()=>{await Ho(e),t.onEvent(Zo())}),500),o=async n=>{clearTimeout(s);const r=await Ho(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Ko(r,n.url)),t.onEvent(i||Zo())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c="".concat(i.packageName.toLowerCase(),"://");zo().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Zo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zn("no-auth-event")}}function $o(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return!("file:"!==$o()&&"ionic:"!==$o()&&"capacitor:"!==$o()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Qe()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/Edge\/\d+/.test(e)}(e)}function na(){try{const e=self.localStorage,t=fs();if(e)return e.setItem(t,"1"),e.removeItem(t),!ta()||Ye()}catch(e){return ra()&&Ye()}return!1}function ra(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ia(){return("http:"===$o()||"https:"===$o()||Ke()||ea())&&!(Ge()||He())&&na()&&!ra()}function sa(){return ea()&&"undefined"!==typeof document}const oa={LOCAL:"local",NONE:"none",SESSION:"session"},aa=Wn,ca="persistence";async function la(e){await e._initializationPromise;const t=ua(),n=xr(ca,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ua(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const da=Wn;class ha{constructor(){this.browserResolver=Er(Oo),this.cordovaResolver=Er(Xo),this.underlyingResolver=null,this._redirectPersistence=ds,this._completeRedirectFn=io,this._overrideRedirectResult=Zs}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return da(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!sa()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function fa(e){return e.unwrap()}function pa(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new va(e,function(e,t){var n;const r=ct(e),i=t;return Wn(t.customData.operationType,r,"argument-error"),Wn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rs._fromError(r,i)}(e,t))}else if(r){const e=ma(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function ma(e){const{_tokenResponse:t}=e instanceof Je?e.customData:e;if(!t)return null;if(!(e instanceof Je)&&"temporaryProof"in t&&"phoneNumber"in t)return Us.credentialFromResult(e);const n=t.providerId;if(!n||n===Tn.PASSWORD)return null;let r;switch(n){case Tn.GOOGLE:r=yi;break;case Tn.FACEBOOK:r=gi;break;case Tn.GITHUB:r=vi;break;case Tn.TWITTER:r=_i;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?wi._create(n,o):ci._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new mi(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Je?r.credentialFromError(e):r.credentialFromResult(e)}function ga(e,t){return t.catch((t=>{throw t instanceof Je&&pa(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,ma(r)),additionalUserInfo:ts(e),user:wa.getOrCreate(n)};var r}))}async function ya(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ga(e,n.confirm(t))}}class va{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ga(fa(this.auth),this.resolver.resolveSignIn(e))}}class wa{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=ct(e);return ss.has(t)||ss.set(t,is._fromUser(t)),ss.get(t)}(e)}static getOrCreate(e){return wa.USER_MAP.has(e)||wa.USER_MAP.set(e,new wa(e)),wa.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ga(this.auth,Di(this._delegate,e))}async linkWithPhoneNumber(e,t){return ya(this.auth,async function(e,t,n){const r=ct(e);await Ai(!1,r,"phone");const i=await Fs(r.auth,t,ct(n));return new Ms(i,(e=>Di(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ga(this.auth,async function(e,t,n){const r=ct(e);Vn(r.auth,t,fi);const i=zs(r.auth,n);return new Gs(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ha))}async linkWithRedirect(e){return await la(qr(this.auth)),ro(this._delegate,e,ha)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ga(this.auth,Li(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return ya(this.auth,async function(e,t,n){const r=ct(e),i=await Fs(r.auth,t,ct(n));return new Ms(i,(e=>Li(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ga(this.auth,async function(e,t,n){const r=ct(e);Vn(r.auth,t,fi);const i=zs(r.auth,n);return new Gs(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ha))}async reauthenticateWithRedirect(e){return await la(qr(this.auth)),no(this._delegate,e,ha)}sendEmailVerification(e){return Hi(this._delegate,e)}async unlink(e){return await Ci(this._delegate,e),this}updateEmail(e){return function(e,t){return Qi(ct(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Qi(ct(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Ni(ct(e),t)}(this._delegate,e)}updateProfile(e){return Gi(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ki(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wa.USER_MAP=new WeakMap;const ba=Wn;class _a{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;ba(n,"invalid-api-key",{appName:e.name}),ba(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?ha:void 0;this._delegate=t.initialize({options:{persistence:ka(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Dn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Jr(this._delegate,e,t)}applyActionCode(e){return Vi(this._delegate,e)}checkActionCode(e){return qi(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ei(ct(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bi(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ga(this._delegate,async function(e,t,n){const r=qr(e),i=Yr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Si),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bi(e),t})),o=await ki._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Wi(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=di.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){ba(ia(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await qr(e)._initializationPromise,io(e,t,!1)}(this._delegate,ha);return e?ga(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){qr(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Sa(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Sa(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=qr(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Wn(t.handleCodeInApp,r,"argument-error"),t&&zi(r,e,t)}(i,n),await Yr(r,i,"getOobCode",si)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=qr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&zi(r,i,n),await Yr(r,i,"getOobCode",ii)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){aa(Object.values(oa).includes(t),e,"invalid-persistence-type"),Ge()?aa(t!==oa.SESSION,e,"unsupported-persistence-type"):He()?aa(t===oa.NONE,e,"unsupported-persistence-type"):ra()?aa(t===oa.NONE||t===oa.LOCAL&&Ye(),e,"unsupported-persistence-type"):aa(t===oa.NONE||na(),e,"unsupported-persistence-type")}(this._delegate,e),e){case oa.SESSION:t=ds;break;case oa.LOCAL:t=await Er(Ts)._isAvailable()?Ts:ls;break;case oa.NONE:t=Tr;break;default:return Un("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ga(this._delegate,async function(e){var t;const n=qr(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ki({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Si(n,{returnSecureToken:!0}),i=await ki._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ga(this._delegate,Ri(this._delegate,e))}signInWithCustomToken(e){return ga(this._delegate,ji(this._delegate,e))}signInWithEmailAndPassword(e,t){return ga(this._delegate,function(e,t,n){return Ri(ct(e),hi.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bi(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ga(this._delegate,async function(e,t,n){const r=ct(e),i=hi.credentialWithLink(t,n||Gn());return Wn(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ri(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return ya(this._delegate,async function(e,t,n){const r=qr(e),i=await Fs(r,t,ct(n));return new Ms(i,(e=>Ri(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return ba(ia(),this._delegate,"operation-not-supported-in-this-environment"),ga(this._delegate,async function(e,t,n){const r=qr(e);Vn(e,t,fi);const i=zs(r,n);return new Gs(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,ha))}async signInWithRedirect(e){return ba(ia(),this._delegate,"operation-not-supported-in-this-environment"),await la(this._delegate),to(this._delegate,e,ha)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await qi(ct(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Sa(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&wa.getOrCreate(e)),error:t,complete:n}}function ka(e,t){const n=function(e,t){const n=ua();if(!n)return[];const r=xr(ca,e,t);switch(n.getItem(r)){case oa.NONE:return[Tr];case oa.LOCAL:return[Ts,ds];case oa.SESSION:return[ds];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ts)||n.push(Ts),"undefined"!==typeof window)for(const r of[ls,ds])n.includes(r)||n.push(r);return n.includes(Tr)||n.push(Tr),n}_a.Persistence=oa;class Ea{constructor(){this.providerId="phone",this._delegate=new Us(fa(En.auth()))}static credential(e,t){return Us.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ea.PHONE_SIGN_IN_METHOD=Us.PHONE_SIGN_IN_METHOD,Ea.PROVIDER_ID=Us.PROVIDER_ID;const Ia=Wn;class Ta{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:En.app();var r;Ia(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new js(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new lt("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _a(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xn,PASSWORD_RESET:Cn,RECOVER_EMAIL:Nn,REVERT_SECOND_FACTOR_ADDITION:An,VERIFY_AND_CHANGE_EMAIL:Pn,VERIFY_EMAIL:On}},EmailAuthProvider:hi,FacebookAuthProvider:gi,GithubAuthProvider:vi,GoogleAuthProvider:yi,OAuthProvider:mi,SAMLAuthProvider:bi,PhoneAuthProvider:Ea,PhoneMultiFactorGenerator:Lo,RecaptchaVerifier:Ta,TwitterAuthProvider:_i,Auth:_a,AuthCredential:$r,Error:Je}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.1")}(En);var xa,Ca="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Na={},Aa=Aa||{},Pa=Ca||self;function Oa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ra(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Da="closure_uid_"+(1e9*Math.random()>>>0),La=0;function ja(e,t,n){return e.call.apply(e.bind,arguments)}function Ma(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Fa(e,t,n){return(Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:Ma).apply(null,arguments)}function Ua(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function za(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ba(){this.s=this.s,this.o=this.o}Ba.prototype.s=!1,Ba.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Da)&&e[Da]||(e[Da]=++La))},Ba.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Va=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qa(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wa(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Oa(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ha(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ha.prototype.h=function(){this.defaultPrevented=!0};var Ka=function(){if(!Pa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Pa.addEventListener("test",e,t),Pa.removeEventListener("test",e,t)}catch(n){}return e}();function Ga(e){return/^[\s\xa0]*$/.test(e)}function Qa(){var e=Pa.navigator;return e&&(e=e.userAgent)?e:""}function Ya(e){return-1!=Qa().indexOf(e)}function Ja(e){return Ja[" "](e),e}Ja[" "]=function(){};var Xa,Za,$a=Ya("Opera"),ec=Ya("Trident")||Ya("MSIE"),tc=Ya("Edge"),nc=tc||ec,rc=Ya("Gecko")&&!(-1!=Qa().toLowerCase().indexOf("webkit")&&!Ya("Edge"))&&!(Ya("Trident")||Ya("MSIE"))&&!Ya("Edge"),ic=-1!=Qa().toLowerCase().indexOf("webkit")&&!Ya("Edge");function sc(){var e=Pa.document;return e?e.documentMode:void 0}e:{var oc="",ac=function(){var e=Qa();return rc?/rv:([^\);]+)(\)|;)/.exec(e):tc?/Edge\/([\d\.]+)/.exec(e):ec?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ic?/WebKit\/(\S+)/.exec(e):$a?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ac&&(oc=ac?ac[1]:""),ec){var cc=sc();if(null!=cc&&cc>parseFloat(oc)){Xa=String(cc);break e}}Xa=oc}if(Pa.document&&ec){var lc=sc();Za=lc||(parseInt(Xa,10)||void 0)}else Za=void 0;var uc=Za;function dc(e,t){if(Ha.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rc){e:{try{Ja(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:hc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&dc.$.h.call(this)}}za(dc,Ha);var hc={2:"touch",3:"pen",4:"mouse"};dc.prototype.h=function(){dc.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fc="closure_listenable_"+(1e6*Math.random()|0),pc=0;function mc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++pc,this.fa=this.ia=!1}function gc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function yc(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function vc(e){const t={};for(const n in e)t[n]=e[n];return t}const wc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bc(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<wc.length;t++)n=wc[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _c(e){this.src=e,this.g={},this.h=0}function Sc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Va(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(gc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function kc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}_c.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=kc(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new mc(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ec="closure_lm_"+(1e6*Math.random()|0),Ic={};function Tc(e,t,n,r,i){if(r&&r.once)return Cc(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Tc(e,t[s],n,r,i);return null}return n=Lc(n),e&&e[fc]?e.O(t,n,Ra(r)?!!r.capture:!!r,i):xc(e,t,n,!1,r,i)}function xc(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ra(i)?!!i.capture:!!i,a=Rc(e);if(a||(e[Ec]=a=new _c(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Oc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ka||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Pc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Cc(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Cc(e,t[s],n,r,i);return null}return n=Lc(n),e&&e[fc]?e.P(t,n,Ra(r)?!!r.capture:!!r,i):xc(e,t,n,!0,r,i)}function Nc(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Nc(e,t[s],n,r,i);else r=Ra(r)?!!r.capture:!!r,n=Lc(n),e&&e[fc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=kc(s=e.g[t],n,r,i))&&(gc(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Rc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=kc(t,n,r,i)),(n=-1<e?t[e]:null)&&Ac(n))}function Ac(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[fc])Sc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Pc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Rc(t))?(Sc(n,e),0==n.h&&(n.src=null,t[Ec]=null)):gc(e)}}}function Pc(e){return e in Ic?Ic[e]:Ic[e]="on"+e}function Oc(e,t){if(e.fa)e=!0;else{t=new dc(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ac(e),e=n.call(r,t)}return e}function Rc(e){return(e=e[Ec])instanceof _c?e:null}var Dc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(e){return"function"===typeof e?e:(e[Dc]||(e[Dc]=function(t){return e.handleEvent(t)}),e[Dc])}function jc(){Ba.call(this),this.i=new _c(this),this.S=this,this.J=null}function Mc(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ha(t,e);else if(t instanceof Ha)t.target=t.target||e;else{var i=t;bc(t=new Ha(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Fc(o,r,!0,t)&&i}if(i=Fc(o=t.g=e,r,!0,t)&&i,i=Fc(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Fc(o=t.g=n[s],r,!1,t)&&i}function Fc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Sc(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}za(jc,Ba),jc.prototype[fc]=!0,jc.prototype.removeEventListener=function(e,t,n,r){Nc(this,e,t,n,r)},jc.prototype.N=function(){if(jc.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gc(n[r]);delete t.g[e],t.h--}}this.J=null},jc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jc.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Uc=Pa.JSON.stringify;function zc(){var e=Gc;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bc=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Vc),(e=>e.reset()));class Vc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qc(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Wc(e){Pa.setTimeout((()=>{throw e}),0)}let Hc,Kc=!1,Gc=new class{constructor(){this.h=this.g=null}add(e,t){const n=Bc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Qc=()=>{const e=Pa.Promise.resolve(void 0);Hc=()=>{e.then(Yc)}};var Yc=()=>{for(var e;e=zc();){try{e.h.call(e.g)}catch(n){Wc(n)}var t=Bc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kc=!1};function Jc(e,t){jc.call(this),this.h=e||1,this.g=t||Pa,this.j=Fa(this.qb,this),this.l=Date.now()}function Xc(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Zc(e,t,n){if("function"===typeof e)n&&(e=Fa(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Fa(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pa.setTimeout(e,t||0)}function $c(e){e.g=Zc((()=>{e.g=null,e.i&&(e.i=!1,$c(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}za(Jc,jc),(xa=Jc.prototype).ga=!1,xa.T=null,xa.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mc(this,"tick"),this.ga&&(Xc(this),this.start()))}},xa.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xa.N=function(){Jc.$.N.call(this),Xc(this),delete this.g};class el extends Ba{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$c(this)}N(){super.N(),this.g&&(Pa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(e){Ba.call(this),this.h=e,this.g={}}za(tl,Ba);var nl=[];function rl(e,t,n,r){Array.isArray(n)||(n&&(nl[0]=n.toString()),n=nl);for(var i=0;i<n.length;i++){var s=Tc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function il(e){yc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ac(e)}),e),e.g={}}function sl(){this.g=!0}function ol(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Uc(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}tl.prototype.N=function(){tl.$.N.call(this),il(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sl.prototype.Ea=function(){this.g=!1},sl.prototype.info=function(){};var al={},cl=null;function ll(){return cl=cl||new jc}function ul(e){Ha.call(this,al.Ta,e)}function dl(e){const t=ll();Mc(t,new ul(t))}function hl(e,t){Ha.call(this,al.STAT_EVENT,e),this.stat=t}function fl(e){const t=ll();Mc(t,new hl(t,e))}function pl(e,t){Ha.call(this,al.Ua,e),this.size=t}function ml(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pa.setTimeout((function(){e()}),t)}al.Ta="serverreachability",za(ul,Ha),al.STAT_EVENT="statevent",za(hl,Ha),al.Ua="timingevent",za(pl,Ha);var gl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vl(){}function wl(e){return e.h||(e.h=e.i())}function bl(){}vl.prototype.h=null;var _l,Sl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kl(){Ha.call(this,"d")}function El(){Ha.call(this,"c")}function Il(){}function Tl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new tl(this),this.P=Cl,e=nc?125:void 0,this.V=new Jc(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xl}function xl(){this.i=null,this.g="",this.h=!1}za(kl,Ha),za(El,Ha),za(Il,vl),Il.prototype.g=function(){return new XMLHttpRequest},Il.prototype.i=function(){return{}},_l=new Il;var Cl=45e3,Nl={},Al={};function Pl(e,t,n){e.L=1,e.A=Jl(Hl(t)),e.u=n,e.S=!0,Ol(e,null)}function Ol(e,t){e.G=Date.now(),jl(e),e.B=Hl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),lu(n.i,"t",r),e.o=0,n=e.l.J,e.h=new xl,e.g=ud(e.l,n?t:null,!e.u),0<e.O&&(e.M=new el(Fa(e.Pa,e,e.g),e.O)),rl(e.U,e.g,"readystatechange",e.nb),t=e.I?vc(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),dl(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Rl(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Dl(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Ll(e,n),r==Al){4==t&&(e.s=4,fl(14),i=!1),ol(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nl){e.s=4,fl(15),ol(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ol(e.j,e.m,r,null),Bl(e,r)}Rl(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,fl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nd(t),t.M=!0,fl(11))):(ol(e.j,e.m,n,"[Invalid Chunked Response]"),zl(e),Ul(e))}function Ll(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Al:(n=Number(t.substring(n,r)),isNaN(n)?Nl:(r+=1)+n>t.length?Al:(t=t.slice(r,r+n),e.o=r+n,t))}function jl(e){e.Y=Date.now()+e.P,Ml(e,e.P)}function Ml(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ml(Fa(e.lb,e),t)}function Fl(e){e.C&&(Pa.clearTimeout(e.C),e.C=null)}function Ul(e){0==e.l.H||e.J||sd(e.l,e)}function zl(e){Fl(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Xc(e.V),il(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Bl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||gu(n.i,e)))if(!e.K&&gu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;id(n),Qu(n)}td(n),fl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ml(Fa(n.ib,n),6e3));if(1>=mu(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else ad(n,11)}else if((e.K||n.g==e)&&id(n),!Ga(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(yu(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Yl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=ld(r,r.J?r.pa:null,r.Y),o.K){vu(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Fl(a),jl(a)),r.g=o}else ed(r);0<n.j.length&&Ju(n)}else"stop"!=l[0]&&"close"!=l[0]||ad(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ad(n,7):Gu(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}dl()}catch(l){}}function Vl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Oa(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Oa(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Oa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(xa=Tl.prototype).setTimeout=function(e){this.P=e},xa.nb=function(e){e=e.target;const t=this.M;t&&3==Bu(e)?t.l():this.Pa(e)},xa.Pa=function(e){try{if(e==this.g)e:{const u=Bu(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||nc||this.g&&(this.h.h||this.g.ja()||Vu(this.g)))){this.J||4!=u||7==t||dl(),Fl(this);var n=this.g.da();this.ca=n;t:if(Rl(this)){var r=Vu(this.g);e="";var i=r.length,s=4==Bu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){zl(this),Ul(this);var o="";break t}this.h.i=new Pa.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ga(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,fl(12),zl(this),Ul(this);break e}ol(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bl(this,n)}this.S?(Dl(this,u,o),nc&&this.i&&3==u&&(rl(this.U,this.V,"tick",this.mb),this.V.start())):(ol(this.j,this.m,o,null),Bl(this,o)),4==u&&zl(this),this.i&&!this.J&&(4==u?sd(this.l,this):(this.i=!1,jl(this)))}else(function(e){const t={};e=(e.g&&2<=Bu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ga(e[r]))continue;var n=qc(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,fl(12)):(this.s=0,fl(13)),zl(this),Ul(this)}}}catch(u){}},xa.mb=function(){if(this.g){var e=Bu(this.g),t=this.g.ja();this.o<t.length&&(Fl(this),Dl(this,e,t),this.i&&4!=e&&jl(this))}},xa.cancel=function(){this.J=!0,zl(this)},xa.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(dl(),fl(17)),zl(this),this.s=2,Ul(this)):Ml(this,this.Y-e)};var ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wl){this.h=e.h,Kl(this,e.j),this.s=e.s,this.g=e.g,Gl(this,e.m),this.l=e.l;var t=e.i,n=new su;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ql(this,n),this.o=e.o}else e&&(t=String(e).match(ql))?(this.h=!1,Kl(this,t[1]||"",!0),this.s=Xl(t[2]||""),this.g=Xl(t[3]||"",!0),Gl(this,t[4]),this.l=Xl(t[5]||"",!0),Ql(this,t[6]||"",!0),this.o=Xl(t[7]||"")):(this.h=!1,this.i=new su(null,this.h))}function Hl(e){return new Wl(e)}function Kl(e,t,n){e.j=n?Xl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ql(e,t,n){t instanceof su?(e.i=t,function(e,t){t&&!e.j&&(ou(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(au(this,t),lu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Zl(t,ru)),e.i=new su(t,e.h))}function Yl(e,t,n){e.i.set(t,n)}function Jl(e){return Yl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$l),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $l(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zl(t,eu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Zl(t,eu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Zl(n,"/"==n.charAt(0)?nu:tu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zl(n,iu)),e.join("")};var eu=/[#\/\?@]/g,tu=/[#\?:]/g,nu=/[#\?]/g,ru=/[#\?@]/g,iu=/#/g;function su(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ou(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function au(e,t){ou(e),t=uu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function cu(e,t){return ou(e),t=uu(e,t),e.g.has(t)}function lu(e,t,n){au(e,t),0<n.length&&(e.i=null,e.g.set(uu(e,t),qa(n)),e.h+=n.length)}function uu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xa=su.prototype).add=function(e,t){ou(this),this.i=null,e=uu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xa.forEach=function(e,t){ou(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xa.ta=function(){ou(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},xa.Z=function(e){ou(this);let t=[];if("string"===typeof e)cu(this,e)&&(t=t.concat(this.g.get(uu(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},xa.set=function(e,t){return ou(this),this.i=null,cu(this,e=uu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xa.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},xa.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var du=class{constructor(e,t){this.g=e,this.map=t}};function hu(e){this.l=e||fu,Pa.PerformanceNavigationTiming?e=0<(e=Pa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pa.g&&Pa.g.Ka&&Pa.g.Ka()&&Pa.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fu=10;function pu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mu(e){return e.h?1:e.g?e.g.size:0}function gu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yu(e,t){e.g?e.g.add(t):e.h=t}function vu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qa(e.i)}hu.prototype.cancel=function(){if(this.i=wu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var bu,_u=class{stringify(e){return Pa.JSON.stringify(e,void 0)}parse(e){return Pa.JSON.parse(e,void 0)}};function Su(){this.g=new _u}function ku(e,t,n){const r=n||"";try{Vl(e,(function(e,n){let i=e;Ra(e)&&(i=Uc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Iu(e){this.l=e.ec||null,this.j=e.ob||!1}function Tu(e,t){jc.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}za(Iu,vl),Iu.prototype.g=function(){return new Tu(this.l,this.j)},Iu.prototype.i=(bu={},function(){return bu}),za(Tu,jc);var xu=0;function Cu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Nu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Au(e)}function Au(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xa=Tu.prototype).open=function(e,t){if(this.readyState!=xu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Au(this)},xa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Pa).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},xa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nu(this)),this.readyState=xu},xa.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Au(this)),this.g&&(this.readyState=3,Au(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Pa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},xa.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nu(this):Au(this),3==this.readyState&&Cu(this)}},xa.Za=function(e){this.g&&(this.response=this.responseText=e,Nu(this))},xa.Ya=function(e){this.g&&(this.response=e,Nu(this))},xa.ka=function(){this.g&&Nu(this)},xa.setRequestHeader=function(e,t){this.v.append(e,t)},xa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xa.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Pu=Pa.JSON.parse;function Ou(e){jc.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ru,this.L=this.M=!1}za(Ou,jc);var Ru="",Du=/^https?$/i,Lu=["POST","PUT"];function ju(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Mu(e),Uu(e)}function Mu(e){e.F||(e.F=!0,Mc(e,"complete"),Mc(e,"error"))}function Fu(e){if(e.h&&"undefined"!=typeof Aa&&(!e.C[1]||4!=Bu(e)||2!=e.da()))if(e.v&&4==Bu(e))Zc(e.La,0,e);else if(Mc(e,"readystatechange"),4==Bu(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(ql)[1]||null;!i&&Pa.self&&Pa.self.location&&(i=Pa.self.location.protocol.slice(0,-1)),r=!Du.test(i?i.toLowerCase():"")}n=r}if(n)Mc(e,"complete"),Mc(e,"success");else{e.m=6;try{var s=2<Bu(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Mu(e)}}finally{Uu(e)}}}function Uu(e,t){if(e.g){zu(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Mc(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function zu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Pa.clearTimeout(e.A),e.A=null)}function Bu(e){return e.g?e.g.readyState:0}function Vu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ru:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Yd){return null}}function qu(e){let t="";return yc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Yl(e,t,n))}function Hu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ku(e){this.Ga=0,this.j=[],this.l=new sl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hu("baseRetryDelayMs",5e3,e),this.hb=Hu("retryDelaySeedMs",1e4,e),this.eb=Hu("forwardChannelMaxRetries",2,e),this.xa=Hu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new hu(e&&e.concurrentRequestLimit),this.Ja=new Su,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gu(e){if(Yu(e),3==e.H){var t=e.W++,n=Hl(e.I);if(Yl(n,"SID",e.K),Yl(n,"RID",t),Yl(n,"TYPE","terminate"),Zu(e,n),(t=new Tl(e,e.l,t)).L=2,t.A=Jl(Hl(n)),n=!1,Pa.navigator&&Pa.navigator.sendBeacon)try{n=Pa.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Pa.Image&&((new Image).src=t.A,n=!0),n||(t.g=ud(t.l,null),t.g.ha(t.A)),t.G=Date.now(),jl(t)}cd(e)}function Qu(e){e.g&&(nd(e),e.g.cancel(),e.g=null)}function Yu(e){Qu(e),e.u&&(Pa.clearTimeout(e.u),e.u=null),id(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pa.clearTimeout(e.m),e.m=null)}function Ju(e){if(!pu(e.i)&&!e.m){e.m=!0;var t=e.Na;Hc||Qc(),Kc||(Hc(),Kc=!0),Gc.add(t,e),e.C=0}}function Xu(e,t){var n;n=t?t.m:e.W++;const r=Hl(e.I);Yl(r,"SID",e.K),Yl(r,"RID",n),Yl(r,"AID",e.V),Zu(e,r),e.o&&e.s&&Wu(r,e.o,e.s),n=new Tl(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=$u(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),yu(e.i,n),Pl(n,r,t)}function Zu(e,t){e.na&&yc(e.na,(function(e,n){Yl(t,n,e)})),e.h&&Vl({},(function(e,n){Yl(t,n,e)}))}function $u(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Fa(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{ku(a,e,"req"+n+"_")}catch(ff){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ed(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Hc||Qc(),Kc||(Hc(),Kc=!0),Gc.add(t,e),e.A=0}}function td(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ml(Fa(e.Ma,e),od(e,e.A)),e.A++,!0)}function nd(e){null!=e.B&&(Pa.clearTimeout(e.B),e.B=null)}function rd(e){e.g=new Tl(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Hl(e.wa);Yl(t,"RID","rpc"),Yl(t,"SID",e.K),Yl(t,"AID",e.V),Yl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Yl(t,"TO",e.qa),Yl(t,"TYPE","xmlhttp"),Zu(e,t),e.o&&e.s&&Wu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Jl(Hl(t)),n.u=null,n.S=!0,Ol(n,e)}function id(e){null!=e.v&&(Pa.clearTimeout(e.v),e.v=null)}function sd(e,t){var n=null;if(e.g==t){id(e),nd(e),e.g=null;var r=2}else{if(!gu(e.i,t))return;n=t.F,vu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Mc(r=ll(),new pl(r,n)),Ju(e)}else ed(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(mu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ml(Fa(e.Na,e,t),od(e,e.C)),e.C++,!0))}(e,t)||2==r&&td(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ad(e,5);break;case 4:ad(e,10);break;case 3:ad(e,6);break;default:ad(e,2)}}function od(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ad(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Fa(e.pb,e);n||(n=new Wl("//www.google.com/images/cleardot.gif"),Pa.location&&"http"==Pa.location.protocol||Kl(n,"https"),Jl(n)),function(e,t){const n=new sl;if(Pa.Image){const r=new Image;r.onload=Ua(Eu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ua(Eu,n,r,"TestLoadImage: error",!1,t),r.onabort=Ua(Eu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ua(Eu,n,r,"TestLoadImage: timeout",!1,t),Pa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else fl(2);e.H=0,e.h&&e.h.za(t),cd(e),Yu(e)}function cd(e){if(e.H=0,e.ma=[],e.h){const t=wu(e.i);0==t.length&&0==e.j.length||(Wa(e.ma,t),Wa(e.ma,e.j),e.i.i.length=0,qa(e.j),e.j.length=0),e.h.ya()}}function ld(e,t,n){var r=n instanceof Wl?Hl(n):new Wl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Gl(r,r.m);else{var i=Pa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Wl(null);r&&Kl(s,r),t&&(s.g=t),i&&Gl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Yl(r,n,t),Yl(r,"VER",e.ra),Zu(e,r),r}function ud(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Ou(new Iu({ob:n})):new Ou(e.va)).Oa(e.J),t}function dd(){}function hd(){if(ec&&!(10<=Number(uc)))throw Error("Environmental error: no available transport.")}function fd(e,t){jc.call(this),this.g=new Ku(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ga(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ga(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gd(this)}function pd(e){kl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function md(){El.call(this),this.status=1}function gd(e){this.g=e}function yd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vd(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function wd(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(xa=Ou.prototype).Oa=function(e){this.M=e},xa.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_l.g(),this.C=this.u?wl(this.u):wl(_l),this.g.onreadystatechange=Fa(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ju(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Pa.FormData&&e instanceof Pa.FormData,!(0<=Va(Lu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zu(this),0<this.B&&((this.L=function(e){return ec&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fa(this.ua,this)):this.A=Zc(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ju(this,s)}},xa.ua=function(){"undefined"!=typeof Aa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mc(this,"timeout"),this.abort(8))},xa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Mc(this,"complete"),Mc(this,"abort"),Uu(this))},xa.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uu(this,!0)),Ou.$.N.call(this)},xa.La=function(){this.s||(this.G||this.v||this.l?Fu(this):this.kb())},xa.kb=function(){Fu(this)},xa.isActive=function(){return!!this.g},xa.da=function(){try{return 2<Bu(this)?this.g.status:-1}catch(bu){return-1}},xa.ja=function(){try{return this.g?this.g.responseText:""}catch(bu){return""}},xa.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Pu(t)}},xa.Ia=function(){return this.m},xa.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xa=Ku.prototype).ra=8,xa.H=1,xa.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Tl(this,this.l,e);let s=this.s;if(this.U&&(s?(s=vc(s),bc(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=$u(this,i,t),Yl(n=Hl(this.I),"RID",e),Yl(n,"CVER",22),this.F&&Yl(n,"X-HTTP-Session-Id",this.F),Zu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(qu(s)))+"&"+t:this.o&&Wu(n,this.o,s)),yu(this.i,i),this.bb&&Yl(n,"TYPE","init"),this.P?(Yl(n,"$req",t),Yl(n,"SID","null"),i.aa=!0,Pl(i,n,null)):Pl(i,n,t),this.H=2}}else 3==this.H&&(e?Xu(this,e):0==this.j.length||pu(this.i)||Xu(this))},xa.Ma=function(){if(this.u=null,rd(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ml(Fa(this.jb,this),e)}},xa.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fl(10),Qu(this),rd(this))},xa.ib=function(){null!=this.v&&(this.v=null,Qu(this),td(this),fl(19))},xa.pb=function(e){e?(this.l.info("Successfully pinged google.com"),fl(2)):(this.l.info("Failed to ping google.com"),fl(1))},xa.isActive=function(){return!!this.h&&this.h.isActive(this)},(xa=dd.prototype).Ba=function(){},xa.Aa=function(){},xa.za=function(){},xa.ya=function(){},xa.isActive=function(){return!0},xa.Va=function(){},hd.prototype.g=function(e,t){return new fd(e,t)},za(fd,jc),fd.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;fl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ld(e,null,e.Y),Ju(e)},fd.prototype.close=function(){Gu(this.g)},fd.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Uc(e),e=n);t.j.push(new du(t.fb++,e)),3==t.H&&Ju(t)},fd.prototype.N=function(){this.g.h=null,delete this.j,Gu(this.g),delete this.g,fd.$.N.call(this)},za(pd,kl),za(md,El),za(gd,dd),gd.prototype.Ba=function(){Mc(this.g,"a")},gd.prototype.Aa=function(e){Mc(this.g,new pd(e))},gd.prototype.za=function(e){Mc(this.g,new md)},gd.prototype.ya=function(){Mc(this.g,"b")},za(yd,(function(){this.blockSize=-1})),yd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},yd.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)vd(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){vd(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){vd(this,r),i=0;break}}this.h=i,this.i+=t},yd.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var bd={};function _d(e){return-128<=e&&128>e?function(e,t){var n=bd;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new wd([0|e],0>e?-1:0)})):new wd([0|e],0>e?-1:0)}function Sd(e){if(isNaN(e)||!isFinite(e))return Ed;if(0>e)return Nd(Sd(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=kd;return new wd(t,0)}var kd=4294967296,Ed=_d(0),Id=_d(1),Td=_d(16777216);function xd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Cd(e){return-1==e.h}function Nd(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new wd(n,~e.h).add(Id)}function Ad(e,t){return e.add(Nd(t))}function Pd(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Od(e,t){this.g=e,this.h=t}function Rd(e,t){if(xd(t))throw Error("division by zero");if(xd(e))return new Od(Ed,Ed);if(Cd(e))return t=Rd(Nd(e),t),new Od(Nd(t.g),Nd(t.h));if(Cd(t))return t=Rd(e,Nd(t)),new Od(Nd(t.g),t.h);if(30<e.g.length){if(Cd(e)||Cd(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Id,r=t;0>=r.X(e);)n=Dd(n),r=Dd(r);var i=Ld(n,1),s=Ld(r,1);for(r=Ld(r,2),n=Ld(n,2);!xd(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ld(r,1),n=Ld(n,1)}return t=Ad(e,i.R(t)),new Od(i,t)}for(i=Ed;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Sd(n)).R(t);Cd(o)||0<o.X(e);)o=(s=Sd(n-=r)).R(t);xd(s)&&(s=Id),i=i.add(s),e=Ad(e,o)}return new Od(i,e)}function Dd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new wd(n,e.h)}function Ld(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new wd(i,e.h)}(xa=wd.prototype).ea=function(){if(Cd(this))return-Nd(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:kd+r)*t,t*=kd}return e},xa.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(xd(this))return"0";if(Cd(this))return"-"+Nd(this).toString(e);for(var t=Sd(Math.pow(e,6)),n=this,r="";;){var i=Rd(n,t).g,s=((0<(n=Ad(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(xd(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},xa.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},xa.X=function(e){return Cd(e=Ad(this,e))?-1:xd(e)?0:1},xa.abs=function(){return Cd(this)?Nd(this):this},xa.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new wd(n,-2147483648&n[n.length-1]?-1:0)},xa.R=function(e){if(xd(this)||xd(e))return Ed;if(Cd(this))return Cd(e)?Nd(this).R(Nd(e)):Nd(Nd(this).R(e));if(Cd(e))return Nd(this.R(Nd(e)));if(0>this.X(Td)&&0>e.X(Td))return Sd(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,Pd(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Pd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Pd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Pd(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new wd(n,0)},xa.gb=function(e){return Rd(this,e).h},xa.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new wd(n,this.h&e.h)},xa.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new wd(n,this.h|e.h)},xa.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new wd(n,this.h^e.h)},hd.prototype.createWebChannel=hd.prototype.g,fd.prototype.send=fd.prototype.u,fd.prototype.open=fd.prototype.m,fd.prototype.close=fd.prototype.close,gl.NO_ERROR=0,gl.TIMEOUT=8,gl.HTTP_ERROR=6,yl.COMPLETE="complete",bl.EventType=Sl,Sl.OPEN="a",Sl.CLOSE="b",Sl.ERROR="c",Sl.MESSAGE="d",jc.prototype.listen=jc.prototype.O,Ou.prototype.listenOnce=Ou.prototype.P,Ou.prototype.getLastError=Ou.prototype.Sa,Ou.prototype.getLastErrorCode=Ou.prototype.Ia,Ou.prototype.getStatus=Ou.prototype.da,Ou.prototype.getResponseJson=Ou.prototype.Wa,Ou.prototype.getResponseText=Ou.prototype.ja,Ou.prototype.send=Ou.prototype.ha,Ou.prototype.setWithCredentials=Ou.prototype.Oa,yd.prototype.digest=yd.prototype.l,yd.prototype.reset=yd.prototype.reset,yd.prototype.update=yd.prototype.j,wd.prototype.add=wd.prototype.add,wd.prototype.multiply=wd.prototype.R,wd.prototype.modulo=wd.prototype.gb,wd.prototype.compare=wd.prototype.X,wd.prototype.toNumber=wd.prototype.ea,wd.prototype.toString=wd.prototype.toString,wd.prototype.getBits=wd.prototype.D,wd.fromNumber=Sd,wd.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Nd(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Sd(Math.pow(n,8)),i=Ed,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Sd(Math.pow(n,o)),i=i.R(o).add(Sd(a))):i=(i=i.R(r)).add(Sd(a))}return i};var jd=Na.createWebChannelTransport=function(){return new hd},Md=Na.getStatEventTarget=function(){return ll()},Fd=Na.ErrorCode=gl,Ud=Na.EventType=yl,zd=Na.Event=al,Bd=Na.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vd=(Na.FetchXmlHttpFactory=Iu,Na.WebChannel=bl),qd=Na.XhrIo=Ou,Wd=Na.Md5=yd,Hd=Na.Integer=wd;const Kd="@firebase/firestore";class Gd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gd.UNAUTHENTICATED=new Gd(null),Gd.GOOGLE_CREDENTIALS=new Gd("google-credentials-uid"),Gd.FIRST_PARTY=new Gd("first-party-uid"),Gd.MOCK_USER=new Gd("mock-user");let Qd="10.7.0";const Yd=new wt("@firebase/firestore");function Jd(){return Yd.logLevel}function Xd(e){if(Yd.logLevel<=pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eh);Yd.debug("Firestore (".concat(Qd,"): ").concat(e),...i)}}function Zd(e){if(Yd.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eh);Yd.error("Firestore (".concat(Qd,"): ").concat(e),...i)}}function $d(e){if(Yd.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(eh);Yd.warn("Firestore (".concat(Qd,"): ").concat(e),...i)}}function eh(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function th(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Qd,") INTERNAL ASSERTION FAILED: ")+e;throw Zd(t),new Error(t)}function nh(e,t){e||th()}function rh(e,t){return e}const ih={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class sh extends Je{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class oh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ah{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ch{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gd.UNAUTHENTICATED)))}shutdown(){}}class lh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uh{constructor(e){this.t=e,this.currentUser=Gd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new oh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oh,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Xd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Xd("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oh)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nh("string"==typeof t.accessToken),new ah(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nh(null===e||"string"==typeof e),new Gd(e)}}class dh{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Gd.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hh{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new dh(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Gd.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ph{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Xd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Xd("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Xd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Xd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nh("string"==typeof e.token),this.R=e.token,new fh(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class gh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=mh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function yh(e,t){return e<t?-1:e>t?1:0}function vh(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function wh(e){return e+"\0"}class bh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new sh(ih.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new sh(ih.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new sh(ih.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new sh(ih.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bh.fromMillis(Date.now())}static fromDate(e){return bh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yh(this.nanoseconds,e.nanoseconds):yh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _h{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _h(e)}static min(){return new _h(new bh(0,0))}static max(){return new _h(new bh(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sh{constructor(e,t,n){void 0===t?t=0:t>e.length&&th(),void 0===n?n=e.length-t:n>e.length-t&&th(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Sh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sh?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kh extends Sh{construct(e,t,n){return new kh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new sh(ih.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new kh(e)}static emptyPath(){return new kh([])}}const Eh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ih extends Sh{construct(e,t,n){return new Ih(e,t,n)}static isValidIdentifier(e){return Eh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ih.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ih(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new sh(ih.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new sh(ih.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new sh(ih.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new sh(ih.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ih(t)}static emptyPath(){return new Ih([])}}class Th{constructor(e){this.path=e}static fromPath(e){return new Th(kh.fromString(e))}static fromName(e){return new Th(kh.fromString(e).popFirst(5))}static empty(){return new Th(kh.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Th(new kh(e.slice()))}}class xh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ch(e){return e.fields.find((e=>2===e.kind))}function Nh(e){return e.fields.filter((e=>2!==e.kind))}xh.UNKNOWN_ID=-1;class Ah{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ph{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ph(0,Dh.min())}}function Oh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_h.fromTimestamp(1e9===r?new bh(n+1,0):new bh(n,r));return new Dh(i,Th.empty(),t)}function Rh(e){return new Dh(e.readTime,e.key,-1)}class Dh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Dh(_h.min(),Th.empty(),-1)}static max(){return new Dh(_h.max(),Th.empty(),-1)}}function Lh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Th.comparator(e.documentKey,t.documentKey),0!==n?n:yh(e.largestBatchId,t.largestBatchId))}const jh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fh(e){if(e.code!==ih.FAILED_PRECONDITION||e.message!==jh)throw e;Xd("LocalStore","Unexpectedly lost primary lease")}class Uh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&th(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Uh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Uh?t:Uh.resolve(t)}catch(e){return Uh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Uh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Uh.reject(t)}static resolve(e){return new Uh(((t,n)=>{t(e)}))}static reject(e){return new Uh(((t,n)=>{n(e)}))}static waitFor(e){return new Uh(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Uh.resolve(!1);for(const n of e)t=t.next((e=>e?Uh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Uh(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Uh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class zh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new oh,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new qh(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Qh(t.target.error);this.V.reject(new qh(e,n))}}static open(e,t,n,r){try{return new zh(t,e.transaction(r,n))}catch(e){throw new qh(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Xd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Hh(t)}}class Bh{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Bh.S(We())&&Zd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xd("SimpleDb","Removing database:",e),Kh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ye())return!1;if(Bh.C())return!0;const e=We(),t=Bh.S(e),n=0<t&&t<10,r=Bh.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Xd("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new qh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new sh(ih.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new sh(ih.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new qh(e,r))},r.onupgradeneeded=e=>{Xd("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Xd("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=zh.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Uh.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Xd("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Vh{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Kh(this.k.delete())}}class qh extends sh{constructor(e,t){super(ih.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Wh(e){return"IndexedDbTransactionError"===e.name}class Hh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Xd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Kh(n)}add(e){return Xd("SimpleDb","ADD",this.store.name,e,e),Kh(this.store.add(e))}get(e){return Kh(this.store.get(e)).next((t=>(void 0===t&&(t=null),Xd("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Xd("SimpleDb","DELETE",this.store.name,e),Kh(this.store.delete(e))}count(){return Xd("SimpleDb","COUNT",this.store.name),Kh(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Uh(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Uh(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Xd("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Uh(((n,r)=>{t.onerror=e=>{const t=Qh(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Uh(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Vh(i),o=t(i.primaryKey,i.value,s);if(o instanceof Uh){const e=o.catch((e=>(s.done(),Uh.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Uh.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Kh(e){return new Uh(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Qh(e.target.error);n(t)}}))}let Gh=!1;function Qh(e){const t=Bh.S(We());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new sh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Gh||(Gh=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Yh{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Xd("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Xd("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Wh(e)?Xd("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Fh(e)}await this.ee(6e4)}))}}class Jh{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Uh.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Xd("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Xd("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Rh(t);Lh(r,n)>0&&(n=r)})),new Dh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Zh(e){return null==e}function $h(e){return 0===e&&1/e==-1/0}function ef(e){return"number"==typeof e&&Number.isInteger(e)&&!$h(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function tf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=rf(t)),t=nf(e.get(n),t);return rf(t)}function nf(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function rf(e){return e+"\x01\x01"}function sf(e){const t=e.length;if(nh(t>=2),2===t)return nh("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),kh.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&th(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:th()}s=t+2}return new kh(r)}Xh._e=-1;const of=["userId","batchId"];function af(e,t){return[e,tf(t)]}function cf(e,t,n){return[e,tf(t),n]}const lf={},uf=["prefixPath","collectionGroup","readTime","documentId"],df=["prefixPath","collectionGroup","documentId"],hf=["collectionGroup","readTime","prefixPath","documentId"],ff=["canonicalId","targetId"],pf=["targetId","path"],mf=["path","targetId"],gf=["collectionId","parent"],yf=["indexId","uid"],vf=["uid","sequenceNumber"],wf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bf=["indexId","uid","orderedDocumentKey"],_f=["userId","collectionPath","documentId"],Sf=["userId","collectionPath","largestBatchId"],kf=["userId","collectionGroup","largestBatchId"],Ef=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],If=[...Ef,"documentOverlays"],Tf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xf=Tf,Cf=[...xf,"indexConfiguration","indexState","indexEntries"];class Nf extends Mh{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Af(e,t){const n=rh(e);return Bh.M(n.ae,t)}function Pf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Of(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Df{constructor(e,t){this.comparator=e,this.root=t||jf.EMPTY}insert(e,t){return new Df(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jf.BLACK,null,null))}remove(e){return new Df(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lf(this.root,e,this.comparator,!0)}}class Lf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jf{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:jf.RED,this.left=null!=r?r:jf.EMPTY,this.right=null!=i?i:jf.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new jf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jf.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return jf.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw th();if(this.right.isRed())throw th();const e=this.left.check();if(e!==this.right.check())throw th();return e+(this.isRed()?0:1)}}jf.EMPTY=null,jf.RED=!0,jf.BLACK=!1,jf.EMPTY=new class{constructor(){this.size=0}get key(){throw th()}get value(){throw th()}get color(){throw th()}get left(){throw th()}get right(){throw th()}copy(e,t,n,r,i){return this}insert(e,t,n){return new jf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mf{constructor(e){this.comparator=e,this.data=new Df(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ff(this.data.getIterator())}getIteratorFrom(e){return new Ff(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Mf))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mf(this.comparator);return t.data=e,t}}class Ff{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Uf(e){return e.hasNext()?e.getNext():void 0}class zf{constructor(e){this.fields=e,e.sort(Ih.comparator)}static empty(){return new zf([])}unionWith(e){let t=new Mf(Ih.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new zf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vh(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Bf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Bf("Invalid base64 string: "+e):e}}(e);return new Vf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Vf(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vf.EMPTY_BYTE_STRING=new Vf("");const qf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wf(e){if(nh(!!e),"string"==typeof e){let t=0;const n=qf.exec(e);if(nh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Hf(e.seconds),nanos:Hf(e.nanos)}}function Hf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Kf(e){return"string"==typeof e?Vf.fromBase64String(e):Vf.fromUint8Array(e)}function Gf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qf(e){const t=e.mapValue.fields.__previous_value__;return Gf(t)?Qf(t):t}function Yf(e){const t=Wf(e.mapValue.fields.__local_write_time__.timestampValue);return new bh(t.seconds,t.nanos)}class Jf{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class Xf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xf&&e.projectId===this.projectId&&e.database===this.database}}const Zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$f={nullValue:"NULL_VALUE"};function ep(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gf(e)?4:pp(e)?9007199254740991:10:th()}function tp(e,t){if(e===t)return!0;const n=ep(e);if(n!==ep(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yf(e).isEqual(Yf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Wf(e.timestampValue),r=Wf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Kf(e.bytesValue).isEqual(Kf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Hf(e.geoPointValue.latitude)===Hf(t.geoPointValue.latitude)&&Hf(e.geoPointValue.longitude)===Hf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Hf(e.integerValue)===Hf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Hf(e.doubleValue),r=Hf(t.doubleValue);return n===r?$h(n)===$h(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vh(e.arrayValue.values||[],t.arrayValue.values||[],tp);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pf(n)!==Pf(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tp(n[i],r[i])))return!1;return!0}(e,t);default:return th()}}function np(e,t){return void 0!==(e.values||[]).find((e=>tp(e,t)))}function rp(e,t){if(e===t)return 0;const n=ep(e),r=ep(t);if(n!==r)return yh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Hf(e.integerValue||e.doubleValue),r=Hf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ip(e.timestampValue,t.timestampValue);case 4:return ip(Yf(e),Yf(t));case 5:return yh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Kf(e),r=Kf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=yh(n[i],r[i]);if(0!==e)return e}return yh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=yh(Hf(e.latitude),Hf(t.latitude));return 0!==n?n:yh(Hf(e.longitude),Hf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=rp(n[i],r[i]);if(e)return e}return yh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Zf.mapValue&&t===Zf.mapValue)return 0;if(e===Zf.mapValue)return 1;if(t===Zf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=yh(r[o],s[o]);if(0!==e)return e;const t=rp(n[r[o]],i[s[o]]);if(0!==t)return t}return yh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw th()}}function ip(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yh(e,t);const n=Wf(e),r=Wf(t),i=yh(n.seconds,r.seconds);return 0!==i?i:yh(n.nanos,r.nanos)}function sp(e){return op(e)}function op(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Wf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Kf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Th.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=op(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(op(e.fields[i]));return n+"}"}(e.mapValue):th()}function ap(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cp(e){return!!e&&"integerValue"in e}function lp(e){return!!e&&"arrayValue"in e}function up(e){return!!e&&"nullValue"in e}function dp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hp(e){return!!e&&"mapValue"in e}function fp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Of(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=fp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=fp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function mp(e){return"nullValue"in e?$f:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ap(Xf.empty(),Th.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:th()}function gp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ap(Xf.empty(),Th.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Zf:th()}function yp(e,t){const n=rp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function vp(e,t){const n=rp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class wp{constructor(e){this.value=e}static empty(){return new wp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!hp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fp(t)}setAll(e){let t=Ih.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=fp(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());hp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];hp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Of(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new wp(fp(this.value))}}function bp(e){const t=[];return Of(e.fields,((e,n)=>{const r=new Ih([e]);if(hp(n)){const e=bp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new zf(t)}class _p{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new _p(e,0,_h.min(),_h.min(),_h.min(),wp.empty(),0)}static newFoundDocument(e,t,n,r){return new _p(e,1,t,_h.min(),n,r,0)}static newNoDocument(e,t){return new _p(e,2,t,_h.min(),_h.min(),wp.empty(),0)}static newUnknownDocument(e,t){return new _p(e,3,t,_h.min(),_h.min(),wp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_h.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_h.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _p&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _p(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Sp{constructor(e,t){this.position=e,this.inclusive=t}}function kp(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Th.comparator(Th.fromName(o.referenceValue),n.key):rp(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ep(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!tp(e.position[n],t.position[n]))return!1;return!0}class Ip{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Tp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xp{}class Cp extends xp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Fp(e,t,n):"array-contains"===t?new Vp(e,n):"in"===t?new qp(e,n):"not-in"===t?new Wp(e,n):"array-contains-any"===t?new Hp(e,n):new Cp(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Up(e,n):new zp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rp(t,this.value)):null!==t&&ep(this.value)===ep(t)&&this.matchesComparison(rp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return th()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Np extends xp{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Np(e,t)}matches(e){return Ap(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ap(e){return"and"===e.op}function Pp(e){return"or"===e.op}function Op(e){return Rp(e)&&Ap(e)}function Rp(e){for(const t of e.filters)if(t instanceof Np)return!1;return!0}function Dp(e){if(e instanceof Cp)return e.field.canonicalString()+e.op.toString()+sp(e.value);if(Op(e))return e.filters.map((e=>Dp(e))).join(",");{const t=e.filters.map((e=>Dp(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Lp(e,t){return e instanceof Cp?function(e,t){return t instanceof Cp&&e.op===t.op&&e.field.isEqual(t.field)&&tp(e.value,t.value)}(e,t):e instanceof Np?function(e,t){return t instanceof Np&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Lp(n,t.filters[r])),!0)}(e,t):void th()}function jp(e,t){const n=e.filters.concat(t);return Np.create(n,e.op)}function Mp(e){return e instanceof Cp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(sp(e.value))}(e):e instanceof Np?function(e){return e.op.toString()+" {"+e.getFilters().map(Mp).join(" ,")+"}"}(e):"Filter"}class Fp extends Cp{constructor(e,t,n){super(e,t,n),this.key=Th.fromName(n.referenceValue)}matches(e){const t=Th.comparator(e.key,this.key);return this.matchesComparison(t)}}class Up extends Cp{constructor(e,t){super(e,"in",t),this.keys=Bp("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class zp extends Cp{constructor(e,t){super(e,"not-in",t),this.keys=Bp("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Bp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Th.fromName(e.referenceValue)))}class Vp extends Cp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lp(t)&&np(t.arrayValue,this.value)}}class qp extends Cp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&np(this.value.arrayValue,t)}}class Wp extends Cp{constructor(e,t){super(e,"not-in",t)}matches(e){if(np(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!np(this.value.arrayValue,t)}}class Hp extends Cp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>np(this.value.arrayValue,e)))}}class Kp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Gp(e){return new Kp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Qp(e){const t=rh(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Dp(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Zh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>sp(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>sp(e))).join(",")),t.ce=e}return t.ce}function Yp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Tp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Lp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ep(e.startAt,t.startAt)&&Ep(e.endAt,t.endAt)}function Jp(e){return Th.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Xp(e,t){return e.filters.filter((e=>e instanceof Cp&&e.field.isEqual(t)))}function Zp(e,t,n){let r=$f,i=!0;for(const s of Xp(e,t)){let e=$f,t=!0;switch(s.op){case"<":case"<=":e=mp(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=$f}yp({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];yp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function $p(e,t,n){let r=Zf,i=!0;for(const s of Xp(e,t)){let e=Zf,t=!0;switch(s.op){case">=":case">":e=gp(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Zf}vp({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];vp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class em{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function tm(e,t,n,r,i,s,o,a){return new em(e,t,n,r,i,s,o,a)}function nm(e){return new em(e)}function rm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function im(e){return null!==e.collectionGroup}function sm(e){const t=rh(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Mf(Ih.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Ip(r,n))})),e.has(Ih.keyField().canonicalString())||t.le.push(new Ip(Ih.keyField(),n))}return t.le}function om(e){const t=rh(e);return t.he||(t.he=am(t,sm(e))),t.he}function am(e,t){if("F"===e.limitType)return Gp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ip(e.field,t)}));const n=e.endAt?new Sp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Sp(e.startAt.position,e.startAt.inclusive):null;return Gp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function cm(e,t){const n=e.filters.concat([t]);return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function lm(e,t,n){return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function um(e,t){return Yp(om(e),om(t))&&e.limitType===t.limitType}function dm(e){return"".concat(Qp(om(e)),"|lt:").concat(e.limitType)}function hm(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Mp(e))).join(", "),"]")),Zh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>sp(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>sp(e))).join(",")),"Target(".concat(t,")")}(om(e)),"; limitType=").concat(e.limitType,")")}function fm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Th.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of sm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=kp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sm(e),t))&&!(e.endAt&&!function(e,t,n){const r=kp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sm(e),t))}(e,t)}function pm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mm(e){return(t,n)=>{let r=!1;for(const i of sm(e)){const e=gm(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function gm(e,t,n){const r=e.field.isKeyField()?Th.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rp(r,i):th()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return th()}}class ym{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Of(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Rf(this.inner)}size(){return this.innerSize}}const vm=new Df(Th.comparator);function wm(){return vm}const bm=new Df(Th.comparator);function _m(){let e=bm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Sm(e){let t=bm;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function km(){return Im()}function Em(){return Im()}function Im(){return new ym((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Tm=new Df(Th.comparator),xm=new Mf(Th.comparator);function Cm(){let e=xm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Nm=new Mf(yh);function Am(){return Nm}function Pm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(t)?"-0":t}}function Om(e){return{integerValue:""+e}}function Rm(e,t){return ef(t)?Om(t):Pm(e,t)}class Dm{constructor(){this._=void 0}}function Lm(e,t,n){return e instanceof Fm?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gf(t)&&(t=Qf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Um?zm(e,t):e instanceof Bm?Vm(e,t):function(e,t){const n=Mm(e,t),r=Wm(n)+Wm(e.Ie);return cp(n)&&cp(e.Ie)?Om(r):Pm(e.serializer,r)}(e,t)}function jm(e,t,n){return e instanceof Um?zm(e,t):e instanceof Bm?Vm(e,t):n}function Mm(e,t){return e instanceof qm?function(e){return cp(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Fm extends Dm{}class Um extends Dm{constructor(e){super(),this.elements=e}}function zm(e,t){const n=Hm(t);for(const r of e.elements)n.some((e=>tp(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Bm extends Dm{constructor(e){super(),this.elements=e}}function Vm(e,t){let n=Hm(t);for(const r of e.elements)n=n.filter((e=>!tp(e,r)));return{arrayValue:{values:n}}}class qm extends Dm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Wm(e){return Hf(e.integerValue||e.doubleValue)}function Hm(e){return lp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Km{constructor(e,t){this.field=e,this.transform=t}}class Gm{constructor(e,t){this.version=e,this.transformResults=t}}class Qm{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qm}static exists(e){return new Qm(void 0,e)}static updateTime(e){return new Qm(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ym(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Jm{}function Xm(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ag(e.key,Qm.none()):new ng(e.key,e.data,Qm.none());{const n=e.data,r=wp.empty();let i=new Mf(Ih.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rg(e.key,r,new zf(i.toArray()),Qm.none())}}function Zm(e,t,n){e instanceof ng?function(e,t,n){const r=e.value.clone(),i=sg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rg?function(e,t,n){if(!Ym(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=sg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ig(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $m(e,t,n,r){return e instanceof ng?function(e,t,n,r){if(!Ym(e.precondition,t))return n;const i=e.value.clone(),s=og(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rg?function(e,t,n,r){if(!Ym(e.precondition,t))return n;const i=og(e.fieldTransforms,r,t),s=t.data;return s.setAll(ig(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ym(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function eg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Mm(r.transform,e||null);null!=i&&(null===n&&(n=wp.empty()),n.set(r.field,i))}return n||null}function tg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vh(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Um&&t instanceof Um||e instanceof Bm&&t instanceof Bm?vh(e.elements,t.elements,tp):e instanceof qm&&t instanceof qm?tp(e.Ie,t.Ie):e instanceof Fm&&t instanceof Fm}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ng extends Jm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rg extends Jm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ig(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function sg(e,t,n){const r=new Map;nh(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,jm(o,a,n[i]))}return r}function og(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Lm(e,s,t))}return r}class ag extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cg extends Jm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zm(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=$m(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=$m(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Em();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Xm(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(_h.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Cm())}isEqual(e){return this.batchId===e.batchId&&vh(this.mutations,e.mutations,((e,t)=>tg(e,t)))&&vh(this.baseMutations,e.baseMutations,((e,t)=>tg(e,t)))}}class ug{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){nh(e.mutations.length===n.length);let r=Tm;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ug(e,t,n,r)}}class dg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class hg{constructor(e,t){this.count=e,this.unchangedNames=t}}var fg,pg;function mg(e){switch(e){default:return th();case ih.CANCELLED:case ih.UNKNOWN:case ih.DEADLINE_EXCEEDED:case ih.RESOURCE_EXHAUSTED:case ih.INTERNAL:case ih.UNAVAILABLE:case ih.UNAUTHENTICATED:return!1;case ih.INVALID_ARGUMENT:case ih.NOT_FOUND:case ih.ALREADY_EXISTS:case ih.PERMISSION_DENIED:case ih.FAILED_PRECONDITION:case ih.ABORTED:case ih.OUT_OF_RANGE:case ih.UNIMPLEMENTED:case ih.DATA_LOSS:return!0}}function gg(e){if(void 0===e)return Zd("GRPC error has no .code"),ih.UNKNOWN;switch(e){case fg.OK:return ih.OK;case fg.CANCELLED:return ih.CANCELLED;case fg.UNKNOWN:return ih.UNKNOWN;case fg.DEADLINE_EXCEEDED:return ih.DEADLINE_EXCEEDED;case fg.RESOURCE_EXHAUSTED:return ih.RESOURCE_EXHAUSTED;case fg.INTERNAL:return ih.INTERNAL;case fg.UNAVAILABLE:return ih.UNAVAILABLE;case fg.UNAUTHENTICATED:return ih.UNAUTHENTICATED;case fg.INVALID_ARGUMENT:return ih.INVALID_ARGUMENT;case fg.NOT_FOUND:return ih.NOT_FOUND;case fg.ALREADY_EXISTS:return ih.ALREADY_EXISTS;case fg.PERMISSION_DENIED:return ih.PERMISSION_DENIED;case fg.FAILED_PRECONDITION:return ih.FAILED_PRECONDITION;case fg.ABORTED:return ih.ABORTED;case fg.OUT_OF_RANGE:return ih.OUT_OF_RANGE;case fg.UNIMPLEMENTED:return ih.UNIMPLEMENTED;case fg.DATA_LOSS:return ih.DATA_LOSS;default:return th()}}(pg=fg||(fg={}))[pg.OK=0]="OK",pg[pg.CANCELLED=1]="CANCELLED",pg[pg.UNKNOWN=2]="UNKNOWN",pg[pg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pg[pg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pg[pg.NOT_FOUND=5]="NOT_FOUND",pg[pg.ALREADY_EXISTS=6]="ALREADY_EXISTS",pg[pg.PERMISSION_DENIED=7]="PERMISSION_DENIED",pg[pg.UNAUTHENTICATED=16]="UNAUTHENTICATED",pg[pg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pg[pg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pg[pg.ABORTED=10]="ABORTED",pg[pg.OUT_OF_RANGE=11]="OUT_OF_RANGE",pg[pg.UNIMPLEMENTED=12]="UNIMPLEMENTED",pg[pg.INTERNAL=13]="INTERNAL",pg[pg.UNAVAILABLE=14]="UNAVAILABLE",pg[pg.DATA_LOSS=15]="DATA_LOSS";let yg=null;function vg(){return new TextEncoder}const wg=new Hd([4294967295,4294967295],0);function bg(e){const t=vg().encode(e),n=new Wd;return n.update(t),new Uint8Array(n.digest())}function _g(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Hd([n,r],0),new Hd([i,s],0)]}class Sg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new kg("Invalid padding: ".concat(t));if(n<0)throw new kg("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new kg("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new kg("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Hd.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Hd.fromNumber(n)));return 1===r.compare(wg)&&(r=new Hd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=bg(e),[n,r]=_g(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Sg(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=bg(e),[n,r]=_g(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eg{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ig.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Eg(_h.min(),r,new Df(yh),wm(),Cm())}}class Ig{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ig(n,t,Cm(),Cm(),Cm())}}class Tg{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class xg{constructor(e,t){this.targetId=e,this.fe=t}}class Cg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vf.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ng{constructor(){this.ge=0,this.pe=Og(),this.ye=Vf.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Cm(),t=Cm(),n=Cm();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:th()}})),new Ig(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Og()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,nh(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Ag{constructor(e){this.Le=e,this.ke=new Map,this.qe=wm(),this.Qe=Pg(),this.Ke=new Df(yh)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:th()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Jp(i))if(0===n){const e=new Th(i.path);this.We(t,e,_p.newNoDocument(e,_h.min()))}else nh(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==yg||yg.tt(function(e,t,n,r,i){var s,o,a,c,l,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==h?void 0:h.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Kf(n).toUint8Array()}catch(e){if(e instanceof Bf)return $d("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Sg(s,r,i)}catch(e){return $d(e instanceof kg?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Jp(i.target)){const t=new Th(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,_p.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Cm();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Eg(e,t,this.Ke,this.qe,n);return this.qe=wm(),this.Qe=Pg(),this.Ke=new Df(yh),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Ng,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Mf(yh),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Xd("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ng),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Pg(){return new Df(Th.comparator)}function Og(){return new Df(Th.comparator)}const Rg={asc:"ASCENDING",desc:"DESCENDING"},Dg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lg={and:"AND",or:"OR"};class jg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mg(e,t){return e.useProto3Json||Zh(t)?t:{value:t}}function Fg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ug(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zg(e,t){return Fg(e,t.toTimestamp())}function Bg(e){return nh(!!e),_h.fromTimestamp(function(e){const t=Wf(e);return new bh(t.seconds,t.nanos)}(e))}function Vg(e,t){return function(e){return new kh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qg(e){const t=kh.fromString(e);return nh(dy(t)),t}function Wg(e,t){return Vg(e.databaseId,t.path)}function Hg(e,t){const n=qg(t);if(n.get(1)!==e.databaseId.projectId)throw new sh(ih.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new sh(ih.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Th(Yg(n))}function Kg(e,t){return Vg(e.databaseId,t)}function Gg(e){const t=qg(e);return 4===t.length?kh.emptyPath():Yg(t)}function Qg(e){return new kh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Yg(e){return nh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jg(e,t,n){return{name:Wg(e,t),fields:n.value.mapValue.fields}}function Xg(e,t,n){const r=Hg(e,t.name),i=Bg(t.updateTime),s=t.createTime?Bg(t.createTime):_h.min(),o=new wp({mapValue:{fields:t.fields}}),a=_p.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Zg(e,t){let n;if(t instanceof ng)n={update:Jg(e,t.key,t.value)};else if(t instanceof ag)n={delete:Wg(e,t.key)};else if(t instanceof rg)n={update:Jg(e,t.key,t.data),updateMask:uy(t.fieldMask)};else{if(!(t instanceof cg))return th();n={verify:Wg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Fm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Um)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qm)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw th()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:zg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:th()}(e,t.precondition)),n}function $g(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Qm.updateTime(Bg(e.updateTime)):void 0!==e.exists?Qm.exists(e.exists):Qm.none()}(t.currentDocument):Qm.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)nh("REQUEST_TIME"===t.setToServerValue),n=new Fm;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Um(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Bm(e)}else"increment"in t?n=new qm(e,t.increment):th();const r=Ih.fromServerFormat(t.fieldPath);return new Km(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Hg(e,t.update.name),s=new wp({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new zf(t.map((e=>Ih.fromServerFormat(e))))}(t.updateMask);return new rg(i,s,e,n,r)}return new ng(i,s,n,r)}if(t.delete){const r=Hg(e,t.delete);return new ag(r,n)}if(t.verify){const r=Hg(e,t.verify);return new cg(r,n)}return th()}function ey(e,t){return{documents:[Kg(e,t.path)]}}function ty(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Kg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Kg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return ly(Np.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ay(e.field),direction:iy(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Mg(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ny(e){let t=Gg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ry(e);return t instanceof Np&&Op(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Ip(cy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Zh(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Sp(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Sp(n,t)}(n.endAt)),tm(t,i,o,s,a,"F",c,l)}function ry(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cy(e.unaryFilter.field);return Cp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=cy(e.unaryFilter.field);return Cp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cy(e.unaryFilter.field);return Cp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cy(e.unaryFilter.field);return Cp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return th()}}(e):void 0!==e.fieldFilter?function(e){return Cp.create(cy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return th()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Np.create(e.compositeFilter.filters.map((e=>ry(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return th()}}(e.compositeFilter.op))}(e):th()}function iy(e){return Rg[e]}function sy(e){return Dg[e]}function oy(e){return Lg[e]}function ay(e){return{fieldPath:e.canonicalString()}}function cy(e){return Ih.fromServerFormat(e.fieldPath)}function ly(e){return e instanceof Cp?function(e){if("=="===e.op){if(dp(e.value))return{unaryFilter:{field:ay(e.field),op:"IS_NAN"}};if(up(e.value))return{unaryFilter:{field:ay(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dp(e.value))return{unaryFilter:{field:ay(e.field),op:"IS_NOT_NAN"}};if(up(e.value))return{unaryFilter:{field:ay(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ay(e.field),op:sy(e.op),value:e.value}}}(e):e instanceof Np?function(e){const t=e.getFilters().map((e=>ly(e)));return 1===t.length?t[0]:{compositeFilter:{op:oy(e.op),filters:t}}}(e):th()}function uy(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function dy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_h.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_h.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vf.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new hy(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hy(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hy(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fy{constructor(e){this.ut=e}}function py(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:my(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Wg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fg(e,t.version.toTimestamp()),createTime:Fg(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gy(t.version)};else{if(!t.isUnknownDocument())return th();r.unknownDocument={path:n.path.toArray(),version:gy(t.version)}}return r}function my(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gy(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function yy(e){const t=new bh(e.seconds,e.nanoseconds);return _h.fromTimestamp(t)}function vy(e,t){const n=(t.baseMutations||[]).map((t=>$g(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>$g(e.ut,t))),i=bh.fromMillis(t.localWriteTimeMs);return new lg(t.batchId,i,n,r)}function wy(e){const t=yy(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?yy(e.lastLimboFreeSnapshotVersion):_h.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return nh(1===e.documents.length),om(nm(Gg(e.documents[0])))}(e.query):function(e){return om(ny(e))}(e.query),new hy(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Vf.fromBase64String(e.resumeToken))}function by(e,t){const n=gy(t.snapshotVersion),r=gy(t.lastLimboFreeSnapshotVersion);let i;i=Jp(t.target)?ey(e.ut,t.target):ty(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qp(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function _y(e){const t=ny({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?lm(t,t.limit,"L"):t}function Sy(e,t){return new dg(t.largestBatchId,$g(e.ut,t.overlayMutation))}function ky(e,t){const n=t.path.lastSegment();return[e,tf(t.path.popLast()),n]}function Ey(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gy(r.readTime),documentKey:tf(r.documentKey.path),largestBatchId:r.largestBatchId}}class Iy{getBundleMetadata(e,t){return Ty(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:yy(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Ty(e).put(function(e){return{bundleId:e.id,createTime:gy(Bg(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return xy(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:_y(e.bundledQuery),readTime:yy(e.readTime)}}(e)}))}saveNamedQuery(e,t){return xy(e).put(function(e){return{name:e.name,readTime:gy(Bg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Ty(e){return Af(e,"bundles")}function xy(e){return Af(e,"namedQueries")}class Cy{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new Cy(e,n)}getOverlay(e,t){return Ny(e).get(ky(this.userId,t)).next((e=>e?Sy(this.serializer,e):null))}getOverlays(e,t){const n=km();return Uh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new dg(t,i);r.push(this.lt(e,s))})),Uh.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(tf(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Ny(e).H("collectionPathOverlayIndex",r))})),Uh.waitFor(i)}getOverlaysForCollection(e,t,n){const r=km(),i=tf(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ny(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Sy(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=km();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ny(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Sy(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return Ny(e).put(function(e,t,n){const[r,i,s]=ky(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Zg(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function Ny(e){return Af(e,"documentOverlays")}class Ay{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Hf(e.integerValue));else if("doubleValue"in e){const n=Hf(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),$h(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Kf(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?pp(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):th()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Th.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Py(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Oy(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Py(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ay.St=new Ay;class Ry{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=Oy(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=Oy(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Dy{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Ly{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class jy{constructor(){this.Wt=new Ry,this.Gt=new Dy(this.Wt),this.zt=new Ly(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class My{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new My(this.indexId,this.documentKey,this.arrayValue,n)}}function Fy(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Uy(e.arrayValue,t.arrayValue),0!==n?n:(n=Uy(e.directionalValue,t.directionalValue),0!==n?n:Th.comparator(e.documentKey,t.documentKey)))}function Uy(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class zy{constructor(e){this.Jt=new Mf(((e,t)=>Ih.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(nh(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Ch(e);if(void 0!==t&&!this.tn(t))return!1;const n=Nh(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Mf(Ih.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Ah(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Ah(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Ah(n.field,"asc"===n.dir?0:1)));return new xh(xh.UNKNOWN_ID,this.collectionId,t,Ph.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function By(e){var t,n;if(nh(e instanceof Cp||e instanceof Np),e instanceof Cp){if(e instanceof qp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Cp.create(e.field,"==",t))))||[];return Np.create(r,"or")}return e}const r=e.filters.map((e=>By(e)));return Np.create(r,e.op)}function Vy(e){if(0===e.getFilters().length)return[];const t=Ky(By(e));return nh(Hy(t)),qy(t)||Wy(t)?[t]:t.getFilters()}function qy(e){return e instanceof Cp}function Wy(e){return e instanceof Np&&Op(e)}function Hy(e){return qy(e)||Wy(e)||function(e){if(e instanceof Np&&Pp(e)){for(const t of e.getFilters())if(!qy(t)&&!Wy(t))return!1;return!0}return!1}(e)}function Ky(e){if(nh(e instanceof Cp||e instanceof Np),e instanceof Cp)return e;if(1===e.filters.length)return Ky(e.filters[0]);const t=e.filters.map((e=>Ky(e)));let n=Np.create(t,e.op);return n=Yy(n),Hy(n)?n:(nh(n instanceof Np),nh(Ap(n)),nh(n.filters.length>1),n.filters.reduce(((e,t)=>Gy(e,t))))}function Gy(e,t){let n;return nh(e instanceof Cp||e instanceof Np),nh(t instanceof Cp||t instanceof Np),n=e instanceof Cp?t instanceof Cp?function(e,t){return Np.create([e,t],"and")}(e,t):Qy(e,t):t instanceof Cp?Qy(t,e):function(e,t){if(nh(e.filters.length>0&&t.filters.length>0),Ap(e)&&Ap(t))return jp(e,t.getFilters());const n=Pp(e)?e:t,r=Pp(e)?t:e,i=n.filters.map((e=>Gy(e,r)));return Np.create(i,"or")}(e,t),Yy(n)}function Qy(e,t){if(Ap(t))return jp(t,e.getFilters());{const n=t.filters.map((t=>Gy(e,t)));return Np.create(n,"or")}}function Yy(e){if(nh(e instanceof Cp||e instanceof Np),e instanceof Cp)return e;const t=e.getFilters();if(1===t.length)return Yy(t[0]);if(Rp(e))return e;const n=t.map((e=>Yy(e))),r=[];return n.forEach((t=>{t instanceof Cp?r.push(t):t instanceof Np&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Np.create(r,e.op)}class Jy{constructor(){this.on=new Xy}addToCollectionParentIndex(e,t){return this.on.add(t),Uh.resolve()}getCollectionParents(e,t){return Uh.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Uh.resolve()}deleteFieldIndex(e,t){return Uh.resolve()}deleteAllFieldIndexes(e){return Uh.resolve()}createTargetIndexes(e,t){return Uh.resolve()}getDocumentsMatchingTarget(e,t){return Uh.resolve(null)}getIndexType(e,t){return Uh.resolve(0)}getFieldIndexes(e,t){return Uh.resolve([])}getNextCollectionGroupToUpdate(e){return Uh.resolve(null)}getMinOffset(e,t){return Uh.resolve(Dh.min())}getMinOffsetFromCollectionGroup(e,t){return Uh.resolve(Dh.min())}updateCollectionGroup(e,t,n){return Uh.resolve()}updateIndexEntries(e,t){return Uh.resolve()}}class Xy{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mf(kh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Mf(kh.comparator)).toArray()}}const Zy=new Uint8Array(0);class $y{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Xy,this.an=new ym((e=>Qp(e)),((e,t)=>Yp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:tf(r)};return ev(e).put(i)}return Uh.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[wh(t),""],!1,!0);return ev(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(sf(r.parent))}return n}))}addFieldIndex(e,t){const n=nv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=rv(e);return i.next((e=>{n.put(Ey(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=nv(e),r=rv(e),i=tv(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=nv(e),n=tv(e),r=rv(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Uh.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new zy(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=tv(e);let r=!0;const i=new Map;return Uh.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Cm();const r=[];return Uh.forEach(i,((i,s)=>{Xd("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Qp(t)));const o=function(e,t){const n=Ch(t);if(void 0===n)return null;for(const r of Xp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of Nh(t))for(const t of Xp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Nh(t)){const t=0===i.kind?Zp(e,i.fieldPath,e.startAt):$p(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Sp(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Nh(t)){const t=0===i.kind?$p(e,i.fieldPath,e.endAt):Zp(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Sp(n,r)}(s,i),u=this.ln(i,s,c),d=this.ln(i,s,l),h=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,c.inclusive,d,l.inclusive,h);return Uh.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Th.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Uh.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Vy(Np.create(e.filters,"and")).map((t=>Gp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):Zy,d=this.Tn(e,a,n[u%c],r),h=this.En(e,a,i[u%c],s),f=o.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(d,h,f))}return l}Tn(e,t,n,r){const i=new My(e,Th.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new My(e,Th.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new zy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Uh.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Mf(Ih.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new jy;for(const r of Nh(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);Ay.St.ht(e,i)}return n.Ut()}In(e){const t=new jy;return Ay.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new jy;return Ay.St.ht(ap(this.databaseId,t),n.jt(function(e){const t=Nh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new jy);let i=0;for(const s of Nh(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&lp(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);Ay.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new jy;n.seed(e.Ut()),Ay.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Cp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=nv(e),r=rv(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Uh.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Ph(t.sequenceNumber,new Dh(yy(t.readTime),new Th(sf(t.documentKey)),t.largestBatchId)):Ph.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Ah(Ih.fromServerFormat(t),n)}));return new xh(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:yh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=nv(e),i=rv(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Uh.forEach(t,(t=>i.put(Ey(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Uh.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Uh.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Uh.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Uh.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return tv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return tv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=tv(e);let i=new Mf(Fy);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new My(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Mf(Fy);const r=this.dn(t,e);if(null==r)return n;const i=Ch(t);if(null!=i){const s=e.data.field(i.fieldPath);if(lp(s))for(const i of s.arrayValue.values||[])n=n.add(new My(t.indexId,e.key,this.In(i),r))}else n=n.add(new My(t.indexId,e.key,Zy,r));return n}yn(e,t,n,r,i){Xd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Uf(s),c=Uf(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Uf(o)):t?(i(a),a=Uf(s)):(a=Uf(s),c=Uf(o))}}(r,i,Fy,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),Uh.waitFor(s)}fn(e){let t=1;return rv(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Fy(e,t))).filter(((e,t,n)=>!t||0!==Fy(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Fy(s,e),i=Fy(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Zy,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Zy,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Fy(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iv)}getMinOffset(e,t){return Uh.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||th())))).next(iv)}}function ev(e){return Af(e,"collectionParents")}function tv(e){return Af(e,"indexEntries")}function nv(e){return Af(e,"indexConfiguration")}function rv(e){return Af(e,"indexState")}function iv(e){nh(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Lh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dh(t.readTime,t.documentKey,n)}const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ov{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ov(e,ov.DEFAULT_COLLECTION_PERCENTILE,ov.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function av(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{nh(1===a)})));const l=[];for(const u of n.mutations){const e=cf(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return Uh.waitFor(s).next((()=>l))}function cv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw th();t=e.noDocument}return JSON.stringify(t).length}ov.DEFAULT_COLLECTION_PERCENTILE=10,ov.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ov.DEFAULT=new ov(41943040,ov.DEFAULT_COLLECTION_PERCENTILE,ov.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ov.DISABLED=new ov(-1,0,0);class lv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){nh(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new lv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dv(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=hv(e),s=dv(e);return s.add({}).next((o=>{nh("number"==typeof o);const a=new lg(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Zg(e.ut,t))),i=n.mutations.map((t=>Zg(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new Mf(((e,t)=>yh(e.canonicalString(),t.canonicalString())));for(const e of r){const t=cf(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,lf))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),Uh.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return dv(e).get(t).next((e=>e?(nh(e.userId===this.userId),vy(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Uh.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return dv(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(nh(t.batchId>=n),i=vy(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return dv(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dv(e).W("userMutationsIndex",t).next((e=>e.map((e=>vy(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=af(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return hv(e).Y({range:r},((n,r,s)=>{const[o,a,c]=n,l=sf(a);if(o===this.userId&&t.path.isEqual(l))return dv(e).get(c).next((e=>{if(!e)throw th();nh(e.userId===this.userId),i.push(vy(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mf(yh);const r=[];return t.forEach((t=>{const i=af(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=hv(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,c=sf(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),Uh.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=af(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Mf(yh);return hv(e).Y({range:s},((e,t,i)=>{const[s,a,c]=e,l=sf(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(dv(e).get(t).next((e=>{if(null===e)throw th();nh(e.userId===this.userId),n.push(vy(this.serializer,e))})))})),Uh.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return av(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Uh.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Uh.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return hv(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=sf(e[1]);r.push(t)}else n.done()})).next((()=>{nh(0===r.length)}))}))}containsKey(e,t){return uv(e,this.userId,t)}Mn(e){return fv(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function uv(e,t,n){const r=af(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return hv(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function dv(e){return Af(e,"mutations")}function hv(e){return Af(e,"documentMutations")}function fv(e){return Af(e,"mutationQueues")}class pv{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new pv(0)}static Nn(){return new pv(-1)}}class mv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new pv(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>_h.fromTimestamp(new bh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>gv(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(nh(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return gv(e).Y(((s,o)=>{const a=wy(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Uh.waitFor(i))).next((()=>r))}forEachTarget(e,t){return gv(e).Y(((e,n)=>{const r=wy(n);t(r)}))}Bn(e){return yv(e).get("targetGlobalKey").next((e=>(nh(null!==e),e)))}Ln(e,t){return yv(e).put("targetGlobalKey",t)}kn(e,t){return gv(e).put(by(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Qp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return gv(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=wy(n);Yp(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=vv(e);return t.forEach((t=>{const s=tf(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Uh.waitFor(r)}removeMatchingKeys(e,t,n){const r=vv(e);return Uh.forEach(t,(t=>{const i=tf(t.path);return Uh.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=vv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vv(e);let i=Cm();return r.Y({range:n,J:!0},((e,t,n)=>{const r=sf(e[1]),s=new Th(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=tf(t.path),r=IDBKeyRange.bound([n],[wh(n)],!1,!0);let i=0;return vv(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return gv(e).get(t).next((e=>e?wy(e):null))}}function gv(e){return Af(e,"targets")}function yv(e){return Af(e,"targetGlobal")}function vv(e){return Af(e,"targetDocuments")}function wv(e,t){let[n,r]=e,[i,s]=t;const o=yh(n,i);return 0===o?yh(r,s):o}class bv{constructor(e){this.Qn=e,this.buffer=new Mf(wv),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();wv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _v{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Xd("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wh(e)?Xd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Fh(e)}await this.Gn(3e5)}))}}class Sv{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Uh.resolve(Xh._e);const n=new bv(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xd("LruGarbageCollector","Garbage collection skipped; disabled"),Uh.resolve(sv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Xd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),sv):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Xd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Jd()<=pt.DEBUG&&Xd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),Uh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function kv(e,t){return new Sv(e,t)}class Ev{constructor(e,t){this.db=e,this.garbageCollector=kv(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return Iv(e,n)}removeReference(e,t,n){return Iv(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Iv(e,t)}Xn(e,t){return function(e,t){let n=!1;return fv(e).Z((r=>uv(e,r,t).next((e=>(e&&(n=!0),Uh.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,_h.min()),vv(e).delete(function(e){return[0,tf(e.path)]}(s)))))}));r.push(t)}})).next((()=>Uh.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Iv(e,t)}Zn(e,t){const n=vv(e);let r,i=Xh._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==Xh._e&&t(new Th(sf(r)),i),i=c,r=a):i=Xh._e})).next((()=>{i!==Xh._e&&t(new Th(sf(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Iv(e,t){return vv(e).put(function(e,t){return{targetId:0,path:tf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Tv{constructor(){this.changes=new ym((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_p.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Uh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Pv(e).put(n)}removeEntry(e,t,n){return Pv(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],my(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=_p.newInvalidDocument(t);return Pv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ov(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:_p.newInvalidDocument(t)};return Pv(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ov(t))},((e,r)=>{n={document:this.tr(t,r),size:cv(r)}})).next((()=>n))}getEntries(e,t){let n=wm();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=wm(),r=new Df(Th.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,cv(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Uh.resolve();let r=new Mf(Dv);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ov(r.first()),Ov(r.last())),s=r.getIterator();let o=s.getNext();return Pv(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Th.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Dv(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(Ov(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),my(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pv(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=wm();for(const i of e){const e=this.tr(Th.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(fm(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=wm();const s=Rv(t,n),o=Rv(t,Dh.max());return Pv(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(Th.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Nv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Av(e).get("remoteDocumentGlobalKey").next((e=>(nh(!!e),e)))}er(e,t){return Av(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Xg(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Th.fromSegments(t.noDocument.path),r=yy(t.noDocument.readTime);n=_p.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return th();{const e=Th.fromSegments(t.unknownDocument.path),r=yy(t.unknownDocument.version);n=_p.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new bh(e[0],e[1]);return _h.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(_h.min()))return e}return _p.newInvalidDocument(e)}}function Cv(e){return new xv(e)}class Nv extends Tv{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ym((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Mf(((e,t)=>yh(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=py(this._r.serializer,s);r=r.add(i.path.popLast());const c=cv(a);n+=c-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=py(this._r.serializer,s.convertToNoDocument(_h.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Uh.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Av(e){return Af(e,"remoteDocumentGlobal")}function Pv(e){return Af(e,"remoteDocumentsV14")}function Ov(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Rv(e,t){const n=t.documentKey.path.toArray();return[e,my(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Dv(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=yh(n[s],r[s]),i)return i;return i=yh(n.length,r.length),i||(i=yh(n[n.length-2],r[r.length-2]),i||yh(n[n.length-1],r[r.length-1]))}class Lv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jv{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&$m(n.mutation,e,zf.empty(),bh.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Cm()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cm();const r=km();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=_m();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=km();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Cm())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=wm();const s=Im(),o=Im();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof rg)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),$m(o.mutation,t,o.mutation.getFieldMask(),bh.now())):s.set(t.key,zf.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Lv(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Im();let r=new Df(((e,t)=>e-t)),i=Cm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||zf.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Cm()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=Em();c.forEach((e=>{if(!i.has(e)){const r=Xm(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Uh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Th.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):im(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Uh.resolve(km());let o=-1,a=i;return s.next((t=>Uh.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Uh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Cm()))).next((e=>({batchId:o,changes:Sm(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Th(t)).next((e=>{let t=_m();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=_m();return this.indexManager.getCollectionParents(e,i).next((o=>Uh.forEach(o,(o=>{const a=function(e,t){return new em(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_p.newInvalidDocument(r)))}));let n=_m();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&$m(s.mutation,r,zf.empty(),bh.now()),fm(t,r)&&(n=n.insert(e,r))})),n}))}}class Mv{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Uh.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Bg(e.createTime)}}(t)),Uh.resolve()}getNamedQuery(e,t){return Uh.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:_y(e.bundledQuery),readTime:Bg(e.readTime)}}(t)),Uh.resolve()}}class Fv{constructor(){this.overlays=new Df(Th.comparator),this.lr=new Map}getOverlay(e,t){return Uh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=km();return Uh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Uh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Uh.resolve()}getOverlaysForCollection(e,t,n){const r=km(),i=t.length+1,s=new Th(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Uh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Df(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=km(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=km(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Uh.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dg(t,n));let i=this.lr.get(t);void 0===i&&(i=Cm(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Uv{constructor(){this.hr=new Mf(zv.Pr),this.Ir=new Mf(zv.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new zv(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new zv(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Th(new kh([])),n=new zv(t,e),r=new zv(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Th(new kh([])),n=new zv(t,e),r=new zv(t,e+1);let i=Cm();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new zv(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zv{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Th.comparator(e.key,t.key)||yh(e.gr,t.gr)}static Tr(e,t){return yh(e.gr,t.gr)||Th.comparator(e.key,t.key)}}class Bv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Mf(zv.Pr)}checkEmpty(e){return Uh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new lg(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new zv(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Uh.resolve(s)}lookupMutationBatch(e,t){return Uh.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Uh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Uh.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Uh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zv(t,0),r=new zv(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Uh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Mf(yh);return t.forEach((e=>{const t=new zv(e,0),r=new zv(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Uh.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Th.isDocumentKey(i)||(i=i.child(""));const s=new zv(new Th(i),0);let o=new Mf(yh);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),Uh.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nh(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Uh.forEach(t.mutations,(r=>{const i=new zv(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new zv(t,0),r=this.yr.firstAfterOrEqual(n);return Uh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Uh.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vv{constructor(e){this.Cr=e,this.docs=new Df(Th.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Uh.resolve(n?n.document.mutableCopy():_p.newInvalidDocument(t))}getEntries(e,t){let n=wm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_p.newInvalidDocument(e))})),Uh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=wm();const s=t.path,o=new Th(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Lh(Rh(o),n)<=0||(r.has(o.key)||fm(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Uh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){th()}vr(e,t){return Uh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new qv(this)}getSize(e){return Uh.resolve(this.size)}}class qv extends Tv{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Uh.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Wv{constructor(e){this.persistence=e,this.Fr=new ym((e=>Qp(e)),Yp),this.lastRemoteSnapshotVersion=_h.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Uv,this.targetCount=0,this.Nr=pv.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Uh.resolve()}getLastRemoteSnapshotVersion(e){return Uh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Uh.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Uh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Uh.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new pv(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Uh.resolve()}updateTargetData(e,t){return this.kn(t),Uh.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Uh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Uh.waitFor(i).next((()=>r))}getTargetCount(e){return Uh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Uh.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Uh.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Uh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Uh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Uh.resolve(n)}containsKey(e,t){return Uh.resolve(this.Or.containsKey(t))}}class Hv{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Xh(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Wv(this),this.indexManager=new Jy,this.remoteDocumentCache=function(e){return new Vv(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new fy(t),this.Kr=new Mv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Bv(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Xd("MemoryPersistence","Starting transaction:",e);const r=new Kv(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Uh.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Kv extends Mh{constructor(e){super(),this.currentSequenceNumber=e}}class Gv{constructor(e){this.persistence=e,this.Gr=new Uv,this.zr=null}static jr(e){return new Gv(e)}get Hr(){if(this.zr)return this.zr;throw th()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Uh.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Uh.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Uh.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Uh.forEach(this.Hr,(n=>{const r=Th.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,_h.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Uh.or([()=>Uh.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Qv{constructor(e){this.serializer=e}N(e,t,n,r){const i=new zh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",of,{unique:!0}),e.createObjectStore("documentMutations")}(e),Yv(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Uh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Yv(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_h.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",of,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Uh.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:_f});t.createIndex("collectionPathOverlayIndex",Sf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",kf,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:uf});t.createIndex("documentKeyIndex",df),t.createIndex("collectionGroupIndex",hf)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:yf}).createIndex("sequenceNumberIndex",vf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:wf}).createIndex("documentKeyIndex",bf,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=cv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Uh.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Uh.forEach(n,(n=>{nh(n.userId===t.userId);const r=vy(this.serializer,n);return av(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new kh(n),o=function(e){return[0,tf(e)]}(s);r.push(t.get(o).next((n=>n?Uh.resolve():(n=>t.put({targetId:0,path:tf(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Uh.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:gf});const n=t.store("collectionParents"),r=new Xy,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:tf(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new kh(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=sf(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=wy(n),i=by(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Th(kh.fromString(e.document.name).popFirst(5)):e.noDocument?Th.fromSegments(e.noDocument.path):e.unknownDocument?Th.fromSegments(e.unknownDocument.path):th()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Uh.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=Cv(this.serializer),i=new Hv(Gv.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Cm();vy(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Uh.forEach(n,((e,n)=>{const s=new Gd(n),o=Cy.ct(this.serializer,s),a=i.getIndexManager(s),c=lv.ct(s,this.serializer,a,i.referenceDelegate);return new jv(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Nf(t,Xh._e),e).next()}))}))}}function Yv(e){e.createObjectStore("targetDocuments",{keyPath:pf}).createIndex("documentTargetsIndex",mf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ff,{unique:!0}),e.createObjectStore("targetGlobal")}const Jv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xv{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=c,this._i=l,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Xv.D())throw new sh(ih.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ev(this,r),this.Ii=t+"main",this.serializer=new fy(a),this.Ti=new Bh(this.Ii,this.ai,new Qv(this.serializer)),this.qr=new mv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Cv(this.serializer),this.Kr=new Iy,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Zd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new sh(ih.FAILED_PRECONDITION,Jv);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Xh(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>$v(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Wh(e))return Xd("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Zv(e).get("owner").next((e=>Uh.resolve(this.wi(e))))}Si(e){return $v(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Af(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Uh.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Uh.resolve(!0):Zv(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new sh(ih.FAILED_PRECONDITION,Jv);return!1}}return!(!this.networkEnabled||!this.inForeground)||$v(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Xd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Nf(e,Xh._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>$v(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return lv.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $y(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Cy.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Xd("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Cf:14===e?xf:13===e?Tf:12===e?If:11===e?Ef:void th()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new Nf(r,this.Lr?this.Lr.next():Xh._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw Zd("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new sh(ih.FAILED_PRECONDITION,jh);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return Zv(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new sh(ih.FAILED_PRECONDITION,Jv)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zv(e).put("owner",t)}static D(){return Bh.D()}pi(e){const t=Zv(e);return t.get("owner").next((e=>this.wi(e)?(Xd("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Uh.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Zd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!He()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Xd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Zd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Zd("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Zv(e){return Af(e,"owner")}function $v(e){return Af(e,"clientMetadata")}function ew(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class tw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Cm(),r=Cm();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new tw(e,t.fromCache,n,r)}}class nw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rw{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new nw;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Jd()<=pt.DEBUG&&Xd("QueryEngine","SDK will not create cache indexes for query:",hm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Uh.resolve()):(Jd()<=pt.DEBUG&&Xd("QueryEngine","Query:",hm(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Jd()<=pt.DEBUG&&Xd("QueryEngine","The SDK decides to create cache indexes for query:",hm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,om(t))):Uh.resolve())}zi(e,t){if(rm(t))return Uh.resolve(null);let n=om(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=lm(t,null,"F"),n=om(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Cm(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,lm(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return rm(t)||r.isEqual(_h.min())?Uh.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?Uh.resolve(null):(Jd()<=pt.DEBUG&&Xd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hm(t)),this.Xi(e,s,t,Oh(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Mf(mm(e));return t.forEach(((t,r)=>{fm(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Jd()<=pt.DEBUG&&Xd("QueryEngine","Using full collection scan to execute query:",hm(t)),this.Gi.getDocumentsMatchingQuery(e,t,Dh.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class iw{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Df(yh),this.ns=new ym((e=>Qp(e)),Yp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jv(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function sw(e,t,n,r){return new iw(e,t,n,r)}async function ow(e,t){const n=rh(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Cm();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function aw(e){const t=rh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function cw(e,t,n){let r=Cm(),i=Cm();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=wm();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(_h.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Xd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function lw(e,t){const n=rh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function uw(e,t){const n=rh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Uh.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new hy(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function dw(e,t,n){const r=rh(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Wh(e))throw e;Xd("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function hw(e,t,n){const r=rh(e);let i=_h.min(),s=Cm();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=rh(e),i=r.ns.get(n);return void 0!==i?Uh.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,om(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:_h.min(),n?s:Cm()))).next((e=>(mw(r,pm(t),e),{documents:e,ls:s})))))}function fw(e,t){const n=rh(e),r=rh(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function pw(e,t){const n=rh(e),r=n.rs.get(t)||_h.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Oh(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(mw(n,t,e),e)))}function mw(e,t,n){let r=e.rs.get(t)||_h.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function gw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cm();const r=await uw(e,om(_y(t.bundledQuery))),i=rh(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Bg(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(Vf.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function yw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vw(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ww(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class bw{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new sh(r.error.code,r.error.message))),s?new bw(e,t,r.state,i):(Zd("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _w{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new sh(n.error.code,n.error.message))),i?new _w(e,n.state,r):(Zd("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Am();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=ef(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Sw(e,i):(Zd("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class kw{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new kw(t.clientId,t.onlineState):(Zd("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Ew{constructor(){this.activeTargetIds=Am()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iw{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Df(yh),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=yw(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Ew),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(yw(this.persistenceKey,n));if(e){const t=Sw.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ww(this.persistenceKey,e));if(n){const r=_w.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ww(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xd("SharedClientState","READ",e,t),t}setItem(e,t){Xd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Xd("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Zd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Xh._e;if(null!=e)try{const n=JSON.parse(e);nh("number"==typeof n),t=n}catch(e){Zd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Xh._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new bw(this.currentUser,e,t,n),i=vw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=vw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=ww(this.persistenceKey,e),i=new _w(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return Sw.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return bw.Ts(new Gd(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return _w.Ts(r,t)}Ms(e){return kw.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Xd("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Am();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Tw{constructor(){this.eo=new Ew,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ew,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xw{ro(e){}shutdown(){}}class Cw{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Xd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Xd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Nw=null;function Aw(){return null===Nw?Nw=268435456+Math.round(2147483648*Math.random()):Nw++,"0x"+Nw.toString(16)}const Pw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ow{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Rw="WebChannelConnection";class Dw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=Aw(),o=this.So(e,t);Xd("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,o,a,n).then((t=>(Xd("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw $d("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Pw[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=Aw();return new Promise(((s,o)=>{const a=new qd;a.setWithCredentials(!0),a.listenOnce(Ud.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Fd.NO_ERROR:const t=a.getResponseJson();Xd(Rw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Fd.TIMEOUT:Xd(Rw,"RPC '".concat(e,"' ").concat(i," timed out")),o(new sh(ih.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:const n=a.getStatus();if(Xd(Rw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ih).indexOf(t)>=0?t:ih.UNKNOWN}(t.status);o(new sh(e,t.message))}else o(new sh(ih.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new sh(ih.UNAVAILABLE,"Connection failed."));break;default:th()}}finally{Xd(Rw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Xd(Rw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}vo(e,t,n){const r=Aw(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jd(),o=Md(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Xd(Rw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let d=!1,h=!1;const f=new Ow({co:t=>{h?Xd(Rw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Xd(Rw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Xd(Rw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Vd.EventType.OPEN,(()=>{h||Xd(Rw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Vd.EventType.CLOSE,(()=>{h||(h=!0,Xd(Rw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Vd.EventType.ERROR,(t=>{h||(h=!0,$d(Rw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new sh(ih.UNAVAILABLE,"The operation could not be completed")))})),p(u,Vd.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];nh(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Xd(Rw,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=fg[e];if(void 0!==t)return gg(t)}(t),i=o.message;void 0===n&&(n=ih.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Ro(new sh(n,i)),u.close()}else Xd(Rw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(o,zd.STAT_EVENT,(t=>{t.stat===Bd.PROXY?Xd(Rw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Bd.NOPROXY&&Xd(Rw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Lw(){return"undefined"!=typeof window?window:null}function jw(){return"undefined"!=typeof document?document:null}function Mw(e){return new jg(e,!0)}class Fw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Xd("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Uw{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Fw(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===ih.RESOURCE_EXHAUSTED?(Zd(t.toString()),Zd("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===ih.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new sh(ih.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Xd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Xd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zw extends Uw{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:th()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(nh(void 0===t||"string"==typeof t),Vf.fromBase64String(t||"")):(nh(void 0===t||t instanceof Uint8Array),Vf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?ih.UNKNOWN:gg(e.code);return new sh(t,e.message||"")}(o);n=new Cg(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hg(e,r.document.name),s=Bg(r.document.updateTime),o=r.document.createTime?Bg(r.document.createTime):_h.min(),a=new wp({mapValue:{fields:r.document.fields}}),c=_p.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Tg(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Hg(e,r.document),s=r.readTime?Bg(r.readTime):_h.min(),o=_p.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tg([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Hg(e,r.document),s=r.removedTargetIds||[];n=new Tg([],s,i,null)}else{if(!("filter"in t))return th();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new hg(r,i),o=e.targetId;n=new xg(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return _h.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?_h.min():t.readTime?Bg(t.readTime):_h.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Qg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jp(r)?{documents:ey(e,r)}:{query:ty(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ug(e,t.resumeToken);const r=Mg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(_h.min())>0){n.readTime=Fg(e,t.snapshotVersion.toTimestamp());const r=Mg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return th()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Qg(this.serializer),t.removeTarget=e,this.e_(t)}}class Bw extends Uw{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(nh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(nh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Bg(e.updateTime):Bg(t);return n.isEqual(_h.min())&&(n=Bg(t)),new Gm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Bg(e.commitTime);return this.listener.I_(n,t)}return nh(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Qg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Zg(this.serializer,e)))};this.e_(t)}}class Vw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new sh(ih.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ih.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sh(ih.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ih.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new sh(ih.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class qw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Zd(t),this.f_=!1):Xd("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Ww{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{$w(this)&&(Xd("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=rh(e);t.C_.add(4),await Kw(t),t.M_.set("Unknown"),t.C_.delete(4),await Hw(t)}(this))}))})),this.M_=new qw(n,r)}}async function Hw(e){if($w(e))for(const t of e.v_)await t(!0)}async function Kw(e){for(const t of e.v_)await t(!1)}function Gw(e,t){const n=rh(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Zw(n)?Xw(n):yb(n).Ho()&&Yw(n,t))}function Qw(e,t){const n=rh(e),r=yb(n);n.D_.delete(t),r.Ho()&&Jw(n,t),0===n.D_.size&&(r.Ho()?r.Zo():$w(n)&&n.M_.set("Unknown"))}function Yw(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_h.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yb(e).u_(t)}function Jw(e,t){e.x_.Oe(t),yb(e).c_(t)}function Xw(e){e.x_=new Ag({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),yb(e).start(),e.M_.g_()}function Zw(e){return $w(e)&&!yb(e).jo()&&e.D_.size>0}function $w(e){return 0===rh(e).C_.size}function eb(e){e.x_=void 0}async function tb(e){e.D_.forEach(((t,n)=>{Yw(e,t)}))}async function nb(e,t){eb(e),Zw(e)?(e.M_.w_(t),Xw(e)):e.M_.set("Unknown")}async function rb(e,t,n){if(e.M_.set("Online"),t instanceof Cg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Xd("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ib(e,n)}else if(t instanceof Tg?e.x_.$e(t):t instanceof xg?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(_h.min()))try{const t=await aw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(Vf.EMPTY_BYTE_STRING,r.snapshotVersion)),Jw(e,t);const i=new hy(r.target,t,n,r.sequenceNumber);Yw(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xd("RemoteStore","Failed to raise snapshot:",t),await ib(e,t)}}async function ib(e,t,n){if(!Wh(t))throw t;e.C_.add(1),await Kw(e),e.M_.set("Offline"),n||(n=()=>aw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xd("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Hw(e)}))}function sb(e,t){return t().catch((n=>ib(e,n,t)))}async function ob(e){const t=rh(e),n=vb(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;ab(t);)try{const e=await lw(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,cb(t,e)}catch(e){await ib(t,e)}lb(t)&&ub(t)}function ab(e){return $w(e)&&e.b_.length<10}function cb(e,t){e.b_.push(t);const n=vb(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function lb(e){return $w(e)&&!vb(e).jo()&&e.b_.length>0}function ub(e){vb(e).start()}async function db(e){vb(e).E_()}async function hb(e){const t=vb(e);for(const n of e.b_)t.P_(n.mutations)}async function fb(e,t,n){const r=e.b_.shift(),i=ug.from(r,t,n);await sb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ob(e)}async function pb(e,t){t&&vb(e).h_&&await async function(e,t){if(function(e){return mg(e)&&e!==ih.ABORTED}(t.code)){const n=e.b_.shift();vb(e).Yo(),await sb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ob(e)}}(e,t),lb(e)&&ub(e)}async function mb(e,t){const n=rh(e);n.asyncQueue.verifyOperationInProgress(),Xd("RemoteStore","RemoteStore received new credentials");const r=$w(n);n.C_.add(3),await Kw(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Hw(n)}async function gb(e,t){const n=rh(e);t?(n.C_.delete(2),await Hw(n)):t||(n.C_.add(2),await Kw(n),n.M_.set("Unknown"))}function yb(e){return e.O_||(e.O_=function(e,t,n){const r=rh(e);return r.A_(),new zw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:tb.bind(null,e),Io:nb.bind(null,e),a_:rb.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Zw(e)?Xw(e):e.M_.set("Unknown")):(await e.O_.stop(),eb(e))}))),e.O_}function vb(e){return e.N_||(e.N_=function(e,t,n){const r=rh(e);return r.A_(),new Bw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:db.bind(null,e),Io:pb.bind(null,e),T_:hb.bind(null,e),I_:fb.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await ob(e)):(await e.N_.stop(),e.b_.length>0&&(Xd("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class wb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new oh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new wb(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sh(ih.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bb(e,t){if(Zd("AsyncQueue","".concat(t,": ").concat(e)),Wh(e))return new sh(ih.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _b{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Th.comparator(t.key,n.key):(e,t)=>Th.comparator(e.key,t.key),this.keyedMap=_m(),this.sortedSet=new Df(this.comparator)}static emptySet(e){return new _b(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _b))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _b;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sb{constructor(){this.B_=new Df(Th.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):th():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class kb{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new kb(e,t,_b.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Eb{constructor(){this.k_=void 0,this.listeners=[]}}class Ib{constructor(){this.queries=new ym((e=>dm(e)),um),this.onlineState="Unknown",this.q_=new Set}}async function Tb(e,t){const n=rh(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Eb),i)try{s.k_=await n.onListen(r)}catch(e){const n=bb(e,"Initialization of query '".concat(hm(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&Ab(n)}async function xb(e,t){const n=rh(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Cb(e,t){const n=rh(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&Ab(n)}function Nb(e,t,n){const r=rh(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Ab(e){e.q_.forEach((e=>{e.next()}))}class Pb{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=kb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ob{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class Rb{constructor(e){this.serializer=e}hs(e){return Hg(this.serializer,e)}Ps(e){return e.metadata.exists?Xg(this.serializer,e.document,!1):_p.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Bg(e)}}class Db{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lb(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=kh.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new Rb(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Cm()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=rh(e);let s=Cm(),o=wm();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(s=s.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await uw(i,function(e){return om(nm(kh.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>cw(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new Rb(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await gw(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function Lb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class jb{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class Fb{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Cm(),this.mutatedKeys=Cm(),this._a=mm(e),this.aa=new _b(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new Sb,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=fm(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||c&&this._a(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return th()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const o=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new kb(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Sb,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Cm(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new Mb(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new jb(n))})),t}da(e){this.ia=e.ls,this.oa=Cm();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return kb.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Ub{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zb{constructor(e){this.key=e,this.Ra=!1}}class Bb{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ym((e=>dm(e)),um),this.fa=new Map,this.ga=new Set,this.pa=new Df(Th.comparator),this.ya=new Map,this.wa=new Uv,this.Sa={},this.ba=new Map,this.Da=pv.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function Vb(e,t){const n=p_(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await uw(n.localStore,om(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await qb(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Gw(n.remoteStore,e)}return i}async function qb(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await hw(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return e_(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const s=await hw(e.localStore,t,!0),o=new Fb(t,s.ls),a=o.ca(s.documents),c=Ig.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);e_(e,n,l.Ta);const u=new Ub(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),l.snapshot}async function Wb(e,t){const n=rh(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!um(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dw(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Qw(n.remoteStore,r.targetId),Zb(n,r.targetId)})).catch(Fh)):(Zb(n,r.targetId),await dw(n.localStore,r.targetId,!0))}async function Hb(e,t){const n=rh(e);try{const e=await function(e,t){const n=rh(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Vf.EMPTY_BYTE_STRING,_h.min()).withLastLimboFreeSnapshotVersion(_h.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.qr.updateTargetData(e,l))}));let a=wm(),c=Cm();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(cw(e,s,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(_h.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Uh.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(nh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?nh(r.Ra):e.removedDocuments.size>0&&(nh(r.Ra),r.Ra=!1))})),await r_(n,e,t)}catch(e){await Fh(e)}}function Kb(e,t,n){const r=rh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=rh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&Ab(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Gb(e,t,n){const r=rh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new Df(Th.comparator);e=e.insert(s,_p.newNoDocument(s,_h.min()));const n=Cm().add(s),i=new Eg(_h.min(),new Map,new Df(yh),e,n);await Hb(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),n_(r)}else await dw(r.localStore,t,!1).then((()=>Zb(r,t,n))).catch(Fh)}async function Qb(e,t){const n=rh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=rh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Uh.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);nh(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Cm();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Xb(n,r,null),Jb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await r_(n,e)}catch(e){await Fh(e)}}async function Yb(e,t,n){const r=rh(e);try{const e=await function(e,t){const n=rh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nh(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Xb(r,t,n),Jb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await r_(r,e)}catch(n){await Fh(n)}}function Jb(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function Xb(e,t,n){const r=rh(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Zb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||$b(e,t)}))}function $b(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(Qw(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),n_(e))}function e_(e,t,n){for(const r of n)r instanceof jb?(e.wa.addReference(r.key,t),t_(e,r)):r instanceof Mb?(Xd("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||$b(e,r.key)):th()}function t_(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Xd("SyncEngine","New document in limbo: "+n),e.ga.add(r),n_(e))}function n_(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Th(kh.fromString(t)),r=e.Da.next();e.ya.set(r,new zb(n)),e.pa=e.pa.insert(n,r),Gw(e.remoteStore,new hy(om(nm(n.path)),r,"TargetPurposeLimboResolution",Xh._e))}}async function r_(e,t,n){const r=rh(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{o.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=tw.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Va.a_(i),await async function(e,t){const n=rh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Uh.forEach(t,(t=>Uh.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Uh.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Wh(e))throw e;Xd("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function i_(e,t){const n=rh(e);if(!n.currentUser.isEqual(t)){Xd("SyncEngine","User change. New user:",t.toKey());const e=await ow(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new sh(ih.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await r_(n,e._s)}}function s_(e,t){const n=rh(e),r=n.ya.get(t);if(r&&r.Ra)return Cm().add(r.key);{let e=Cm();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function o_(e,t){const n=rh(e),r=await hw(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&e_(n,t.targetId,i.Ta),i}async function a_(e,t){const n=rh(e);return pw(n.localStore,t).then((e=>r_(n,e)))}async function c_(e,t,n,r){const i=rh(e),s=await function(e,t){const n=rh(e),r=rh(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Uh.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await ob(i.remoteStore):"acknowledged"===n||"rejected"===n?(Xb(i,t,r||null),Jb(i,t),function(e,t){rh(rh(e).mutationQueue).Fn(t)}(i.localStore,t)):th(),await r_(i,s)):Xd("SyncEngine","Cannot apply mutation batch with id: "+t)}async function l_(e,t,n){const r=rh(e),i=[],s=[];for(const o of t){let e;const t=r.fa.get(o);if(t&&0!==t.length){e=await uw(r.localStore,om(t[0]));for(const e of t){const t=r.ma.get(e),n=await o_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await fw(r.localStore,o);e=await uw(r.localStore,t),await qb(r,u_(t),o,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function u_(e){return tm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function d_(e){return function(e){return rh(rh(e).persistence).Bi()}(rh(e).localStore)}async function h_(e,t,n,r){const i=rh(e);if(i.Ca)return void Xd("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await pw(i.localStore,pm(s[0])),r=Eg.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Vf.EMPTY_BYTE_STRING);await r_(i,e,r);break}case"rejected":await dw(i.localStore,t,!0),Zb(i,t,r);break;default:th()}}async function f_(e,t,n){const r=p_(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Xd("SyncEngine","Adding an already active target "+e);continue}const t=await fw(r.localStore,e),n=await uw(r.localStore,t);await qb(r,u_(t),n.targetId,!1,n.resumeToken),Gw(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await dw(r.localStore,e,!1).then((()=>{Qw(r.remoteStore,e),Zb(r,e)})).catch(Fh)}}function p_(e){const t=rh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Gb.bind(null,t),t.Va.a_=Cb.bind(null,t.eventManager),t.Va.Fa=Nb.bind(null,t.eventManager),t}function m_(e){const t=rh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yb.bind(null,t),t}class g_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return sw(this.persistence,new rw,e.initialUser,this.serializer)}createPersistence(e){return new Hv(Gv.jr,this.serializer)}createSharedClientState(e){return new Tw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class y_ extends g_{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await m_(this.xa.syncEngine),await ob(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return sw(this.persistence,new rw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new _v(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Jh(t,this.persistence);return new Yh(e.asyncQueue,n)}createPersistence(e){const t=ew(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ov.withCacheSize(this.cacheSizeBytes):ov.DEFAULT;return new Xv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Lw(),jw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Tw}}class v_ extends y_{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof Iw&&(this.sharedClientState.syncEngine={Ys:c_.bind(null,t),Zs:h_.bind(null,t),Xs:f_.bind(null,t),Bi:d_.bind(null,t),Js:a_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=rh(e);if(p_(n),m_(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await l_(n,e.toArray());n.Ca=!0,await gb(n.remoteStore,!0);for(const r of t)Gw(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Zb(n,i),dw(n.localStore,i,!0)))),Qw(n.remoteStore,i)})),await t,await l_(n,e),function(e){const t=rh(e);t.ya.forEach(((e,n)=>{Qw(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Df(Th.comparator)}(n),n.Ca=!1,await gb(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Lw();if(!Iw.D(t))throw new sh(ih.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=ew(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Iw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class w_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Kb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=i_.bind(null,this.syncEngine),await gb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ib}createDatastore(e){const t=Mw(e.databaseInfo.databaseId),n=function(e){return new Dw(e)}(e.databaseInfo);return function(e,t,n,r){return new Vw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ww(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Kb(this.syncEngine,e,0)),Cw.D()?new Cw:new xw)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Bb(e,t,n,r,i,s);return o&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=rh(e);Xd("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Kw(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function b_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Zd("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class S_{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new oh,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new Ob(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class k_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sh(ih.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=rh(e),r=Qg(n.serializer)+"/documents",i={documents:t.map((e=>Wg(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){nh(!!t.found),t.found.name,t.found.updateTime;const n=Hg(e,t.found.name),r=Bg(t.found.updateTime),i=t.found.createTime?Bg(t.found.createTime):_h.min(),s=new wp({mapValue:{fields:t.found.fields}});return _p.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){nh(!!t.missing),nh(!!t.readTime);const n=Hg(e,t.missing),r=Bg(t.readTime);return _p.newNoDocument(n,r)}(e,t):th()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());nh(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ag(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Th.fromPath(t);this.mutations.push(new cg(n,this.precondition(n)))})),await async function(e,t){const n=rh(e),r=Qg(n.serializer)+"/documents",i={writes:t.map((e=>Zg(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw th();t=_h.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new sh(ih.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_h.min())?Qm.exists(!1):Qm.updateTime(t):Qm.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_h.min()))throw new sh(ih.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qm.updateTime(t)}return Qm.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class E_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new Fw(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new k_(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Zh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!mg(t)}return!1}}class I_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Gd.UNAUTHENTICATED,this.clientId=gh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xd("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xd("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sh(ih.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bb(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function T_(e,t){e.asyncQueue.verifyOperationInProgress(),Xd("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ow(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function x_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await N_(e);Xd("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>mb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>mb(t.remoteStore,n))),e._onlineComponents=t}function C_(e){return"FirebaseError"===e.name?e.code===ih.FAILED_PRECONDITION||e.code===ih.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function N_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xd("FirestoreClient","Using user provided OfflineComponentProvider");try{await T_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!C_(n))throw n;$d("Error using user provided cache. Falling back to memory cache: "+n),await T_(e,new g_)}}else Xd("FirestoreClient","Using default OfflineComponentProvider"),await T_(e,new g_);return e._offlineComponents}async function A_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xd("FirestoreClient","Using user provided OnlineComponentProvider"),await x_(e,e._uninitializedComponentsProvider._online)):(Xd("FirestoreClient","Using default OnlineComponentProvider"),await x_(e,new w_))),e._onlineComponents}function P_(e){return N_(e).then((e=>e.persistence))}function O_(e){return N_(e).then((e=>e.localStore))}function R_(e){return A_(e).then((e=>e.remoteStore))}function D_(e){return A_(e).then((e=>e.syncEngine))}function L_(e){return A_(e).then((e=>e.datastore))}async function j_(e){const t=await A_(e),n=t.eventManager;return n.onListen=Vb.bind(null,t.syncEngine),n.onUnlisten=Wb.bind(null,t.syncEngine),n}function M_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new oh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new __({next:s=>{t.enqueueAndForget((()=>xb(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new sh(ih.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new sh(ih.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Pb(nm(n.path),s,{includeMetadataChanges:!0,J_:!0});return Tb(e,o)}(await j_(e),e.asyncQueue,t,n,r))),r.promise}function F_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new oh;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new __({next:n=>{t.enqueueAndForget((()=>xb(e,o))),n.fromCache&&"server"===r.source?i.reject(new sh(ih.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Pb(n,s,{includeMetadataChanges:!0,J_:!0});return Tb(e,o)}(await j_(e),e.asyncQueue,t,n,r))),r.promise}function U_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?vg().encode(e):e,function(e,t){return new S_(e,t)}(function(e,t){if(e instanceof Uint8Array)return b_(e,t);if(e instanceof ArrayBuffer)return b_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Mw(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=rh(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=rh(e),r=Bg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Lb(r));const i=new Db(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const o=await i.complete();return await r_(e,o.ra,void 0),await function(e,t){const n=rh(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.na)}catch(e){return $d("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await D_(e),i,r)}))}function z_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const B_=new Map;function V_(e,t,n){if(!n)throw new sh(ih.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function q_(e,t,n,r){if(!0===t&&!0===r)throw new sh(ih.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function W_(e){if(!Th.isDocumentKey(e))throw new sh(ih.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function H_(e){if(Th.isDocumentKey(e))throw new sh(ih.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function K_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":th()}function G_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sh(ih.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=K_(e);throw new sh(ih.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Q_(e,t){if(t<=0)throw new sh(ih.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Y_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new sh(ih.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sh(ih.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sh(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new sh(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new sh(ih.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sh(ih.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sh(ih.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ch;switch(e.type){case"firstParty":return new hh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sh(ih.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=B_.get(e);t&&(Xd("ComponentProvider","Removing Datastore"),B_.delete(e),t.terminate())}(this),Promise.resolve()}}function X_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=G_(e,J_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&$d("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gd.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new sh(ih.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gd(s)}e._authCredentials=new lh(new ah(t,n))}}class Z_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Z_(this.firestore,e,this._query)}}class $_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $_(this.firestore,e,this._key)}}class eS extends Z_{constructor(e,t,n){super(e,t,nm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $_(this.firestore,null,new Th(e))}withConverter(e){return new eS(this.firestore,e,this._path)}}function tS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ct(e),V_("collection","path",t),e instanceof J_){const n=kh.fromString(t,...r);return H_(n),new eS(e,null,n)}{if(!(e instanceof $_||e instanceof eS))throw new sh(ih.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(kh.fromString(t,...r));return H_(n),new eS(e.firestore,null,n)}}function nS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ct(e),1===arguments.length&&(t=gh.newId()),V_("doc","path",t),e instanceof J_){const n=kh.fromString(t,...r);return W_(n),new $_(e,null,new Th(n))}{if(!(e instanceof $_||e instanceof eS))throw new sh(ih.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(kh.fromString(t,...r));return W_(n),new $_(e.firestore,e instanceof eS?e.converter:null,new Th(n))}}function rS(e,t){return e=ct(e),t=ct(t),(e instanceof $_||e instanceof eS)&&(t instanceof $_||t instanceof eS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function iS(e,t){return e=ct(e),t=ct(t),e instanceof Z_&&t instanceof Z_&&e.firestore===t.firestore&&um(e._query,t._query)&&e.converter===t.converter}class sS{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Fw(this,"async_queue_retry"),this.iu=()=>{const e=jw();e&&Xd("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=jw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=jw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new oh;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Wh(e))throw e;Xd("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Zd("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=wb.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&th()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function oS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class aS{constructor(){this._progressObserver={},this._taskCompletionResolver=new oh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cS extends J_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sS,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uS(this),this._firestoreClient.terminate()}}function lS(e){return e._firestoreClient||uS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uS(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Jf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,z_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new I_(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function dS(e,t,n){const r=new oh;return e.asyncQueue.enqueue((async()=>{try{await T_(e,n),await x_(e,t),r.resolve()}catch(e){const n=e;if(!C_(n))throw n;$d("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function hS(e){return function(e){const t=new oh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=rh(e);$w(n.remoteStore)||Xd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=rh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=bb(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await D_(e),t))),t.promise}(lS(e=G_(e,cS)))}function fS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await P_(e),n=await R_(e);return t.setNetworkEnabled(!0),function(e){const t=rh(e);return t.C_.delete(0),Hw(t)}(n)}))}(lS(e=G_(e,cS)))}function pS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await P_(e),n=await R_(e);return t.setNetworkEnabled(!1),async function(e){const t=rh(e);t.C_.add(0),await Kw(t),t.M_.set("Offline")}(n)}))}(lS(e=G_(e,cS)))}function mS(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=rh(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await O_(e),t)))}(lS(e=G_(e,cS)),t).then((t=>t?new Z_(e,null,t.query):null))}function gS(e){if(e._initialized||e._terminated)throw new sh(ih.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yS(Vf.fromBase64String(e))}catch(e){throw new sh(ih.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new yS(Vf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vS{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new sh(ih.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ih(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wS{constructor(e){this._methodName=e}}class bS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new sh(ih.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new sh(ih.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yh(this._lat,e._lat)||yh(this._long,e._long)}}const _S=/^__.*__$/;class SS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rg(e,this.data,this.fieldMask,t,this.fieldTransforms):new ng(e,this.data,t,this.fieldTransforms)}}class kS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ES(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw th()}}class IS{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new IS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return HS(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(ES(this.Iu)&&_S.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class TS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Mw(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IS({Iu:e,methodName:t,gu:n,path:Ih.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xS(e){const t=e._freezeSettings(),n=Mw(e._databaseId);return new TS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function CS(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);BS("Data must be an object, but it was:",o,r);const a=US(r,o);let c,l;if(s.merge)c=new zf(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=VS(t,r,n);if(!o.contains(i))throw new sh(ih.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));KS(e,i)||e.push(i)}c=new zf(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new SS(new wp(a),c,l)}class NS extends wS{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof NS}}function AS(e,t,n){return new IS({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class PS extends wS{_toFieldTransform(e){return new Km(e.path,new Fm)}isEqual(e){return e instanceof PS}}class OS extends wS{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=AS(this,e,!0),n=this.yu.map((e=>FS(e,t))),r=new Um(n);return new Km(e.path,r)}isEqual(e){return this===e}}class RS extends wS{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=AS(this,e,!0),n=this.yu.map((e=>FS(e,t))),r=new Bm(n);return new Km(e.path,r)}isEqual(e){return this===e}}class DS extends wS{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new qm(e.serializer,Rm(e.serializer,this.wu));return new Km(e.path,t)}isEqual(e){return this===e}}function LS(e,t,n,r){const i=e.pu(1,t,n);BS("Data must be an object, but it was:",i,r);const s=[],o=wp.empty();Of(r,((e,r)=>{const a=WS(t,e,n);r=ct(r);const c=i.Ru(a);if(r instanceof NS)s.push(a);else{const e=FS(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new zf(s);return new kS(o,a,i.fieldTransforms)}function jS(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[VS(t,r,n)],c=[i];if(s.length%2!=0)throw new sh(ih.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)a.push(VS(t,s[h])),c.push(s[h+1]);const l=[],u=wp.empty();for(let h=a.length-1;h>=0;--h)if(!KS(l,a[h])){const e=a[h];let t=c[h];t=ct(t);const n=o.Ru(e);if(t instanceof NS)l.push(e);else{const r=FS(t,n);null!=r&&(l.push(e),u.set(e,r))}}const d=new zf(l);return new kS(u,d,o.fieldTransforms)}function MS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return FS(n,e.pu(r?4:3,t))}function FS(e,t){if(zS(e=ct(e)))return BS("Unsupported field value:",t,e),US(e,t);if(e instanceof wS)return function(e,t){if(!ES(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=FS(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ct(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bh.fromDate(e);return{timestampValue:Fg(t.serializer,n)}}if(e instanceof bh){const n=new bh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fg(t.serializer,n)}}if(e instanceof bS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yS)return{bytesValue:Ug(t.serializer,e._byteString)};if(e instanceof $_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Vg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(K_(e)))}(e,t)}function US(e,t){const n={};return Rf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Of(e,((e,r)=>{const i=FS(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bh||e instanceof bS||e instanceof yS||e instanceof $_||e instanceof wS)}function BS(e,t,n){if(!zS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=K_(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function VS(e,t,n){if((t=ct(t))instanceof vS)return t._internalPath;if("string"==typeof t)return WS(e,t);throw HS("Field path arguments must be of type string or ",e,!1,void 0,n)}const qS=new RegExp("[~\\*/\\[\\]]");function WS(e,t,n){if(t.search(qS)>=0)throw HS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new vS(...t.split("."))._internalPath}catch(za){throw HS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function HS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new sh(ih.INVALID_ARGUMENT,a+e+c)}function KS(e,t){return e.some((e=>e.isEqual(t)))}class GS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QS extends GS{data(){return super.data()}}function YS(e,t){return"string"==typeof t?WS(e,t):t instanceof vS?t._internalPath:t._delegate._internalPath}function JS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new sh(ih.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XS{}class ZS extends XS{}function $S(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof XS&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof tk)).length,n=e.filter((e=>e instanceof ek)).length;if(t>1||t>0&&n>0)throw new sh(ih.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class ek extends ZS{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ek(e,t,n)}_apply(e){const t=this._parse(e);return lk(e._query,t),new Z_(e.firestore,e.converter,cm(e._query,t))}_parse(e){const t=xS(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new sh(ih.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){ck(o,s);const t=[];for(const n of o)t.push(ak(r,e,n));a={arrayValue:{values:t}}}else a=ak(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ck(o,s),a=MS(n,t,o,"in"===s||"not-in"===s);return Cp.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class tk extends XS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new tk(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Np.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)lk(n,i),n=cm(n,i)}(e._query,t),new Z_(e.firestore,e.converter,cm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nk extends ZS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nk(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new sh(ih.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new sh(ih.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ip(t,n)}(e._query,this._field,this._direction);return new Z_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new em(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class rk extends ZS{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new rk(e,t,n)}_apply(e){return new Z_(e.firestore,e.converter,lm(e._query,this._limit,this._limitType))}}class ik extends ZS{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ik(e,t,n)}_apply(e){const t=ok(e,this.type,this._docOrFields,this._inclusive);return new Z_(e.firestore,e.converter,function(e,t){return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class sk extends ZS{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new sk(e,t,n)}_apply(e){const t=ok(e,this.type,this._docOrFields,this._inclusive);return new Z_(e.firestore,e.converter,function(e,t){return new em(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function ok(e,t,n,r){if(n[0]=ct(n[0]),n[0]instanceof GS)return function(e,t,n,r,i){if(!r)throw new sh(ih.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of sm(e))if(o.field.isKeyField())s.push(ap(t,r.key));else{const e=r.data.field(o.field);if(Gf(e))throw new sh(ih.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new sh(ih.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Sp(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=xS(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new sh(ih.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new sh(ih.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!im(e)&&-1!==s.indexOf("/"))throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(kh.fromString(s));if(!Th.isDocumentKey(n))throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Th(n);a.push(ap(t,i))}else{const e=MS(n,r,s);a.push(e)}}return new Sp(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ak(e,t,n){if("string"==typeof(n=ct(n))){if(""===n)throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!im(t)&&-1!==n.indexOf("/"))throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(kh.fromString(n));if(!Th.isDocumentKey(r))throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ap(e,new Th(r))}if(n instanceof $_)return ap(e,n._key);throw new sh(ih.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(K_(n),"."))}function ck(e,t){if(!Array.isArray(e)||0===e.length)throw new sh(ih.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function lk(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new sh(ih.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new sh(ih.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class uk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ep(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw th()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Of(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new bS(Hf(e.latitude),Hf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Qf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){const t=Wf(e);return new bh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=kh.fromString(e);nh(dy(n));const r=new Xf(n.get(1),n.get(3)),i=new Th(n.popFirst(5));return r.isEqual(t)||Zd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function dk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hk extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new yS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $_(this.firestore,null,t)}}class fk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pk extends GS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new mk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(YS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class mk extends pk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new mk(this._firestore,this._userDataWriter,n.key,n,new fk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sh(ih.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new mk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new mk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:yk(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function yk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return th()}}function vk(e,t){return e instanceof pk&&t instanceof pk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof gk&&t instanceof gk&&e._firestore===t._firestore&&iS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class wk extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new yS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $_(this.firestore,null,t)}}function bk(e){e=G_(e,$_);const t=G_(e.firestore,cS),n=lS(t),r=new wk(t);return function(e,t){const n=new oh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=rh(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new sh(ih.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=bb(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await O_(e),t,n))),n.promise}(n,e._key).then((n=>new pk(t,r,e._key,n,new fk(null!==n&&n.hasLocalMutations,!0),e.converter)))}function _k(e){e=G_(e,Z_);const t=G_(e.firestore,cS),n=lS(t),r=new wk(t);return function(e,t){const n=new oh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await hw(e,t,!0),i=new Fb(t,r.ls),s=i.ca(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=bb(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await O_(e),t,n))),n.promise}(n,e._query).then((n=>new gk(t,r,e,n)))}function Sk(e,t,n){e=G_(e,$_);const r=G_(e.firestore,cS),i=dk(e.converter,t,n);return Tk(r,[CS(xS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qm.none())])}function kk(e,t,n){e=G_(e,$_);const r=G_(e.firestore,cS),i=xS(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=ct(t))||t instanceof vS?jS(i,"updateDoc",e._key,t,n,a):LS(i,"updateDoc",e._key,t),Tk(r,[s.toMutation(e._key,Qm.exists(!0))])}function Ek(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=ct(e);let a={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||oS(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges};if(oS(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof $_)d=G_(e.firestore,cS),h=nm(e._key.path),u={next:t=>{n[c]&&n[c](xk(d,e,t))},error:n[c+1],complete:n[c+2]};else{const t=G_(e,Z_);d=G_(t.firestore,cS),h=t._query;const r=new wk(d);u={next:e=>{n[c]&&n[c](new gk(d,r,t,e))},error:n[c+1],complete:n[c+2]},JS(e._query)}return function(e,t,n,r){const i=new __(r),s=new Pb(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Tb(await j_(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>xb(await j_(e),s)))}}(lS(d),h,l,u)}function Ik(e,t){return function(e,t){const n=new __(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){rh(e).q_.add(t),t.next()}(await j_(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){rh(e).q_.delete(t)}(await j_(e),n)))}}(lS(e=G_(e,cS)),oS(t)?t:{next:t})}function Tk(e,t){return function(e,t){const n=new oh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=m_(e);try{const e=await function(e,t){const n=rh(e),r=bh.now(),i=t.reduce(((e,t)=>e.add(t.key)),Cm());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=wm(),c=Cm();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=eg(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new rg(e.key,t,bp(t.value.mapValue),Qm.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Sm(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Df(yh)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await r_(r,e.changes),await ob(r.remoteStore)}catch(e){const t=bb(e,"Failed to persist write");n.reject(t)}}(await D_(e),t,n))),n.promise}(lS(e),t)}function xk(e,t,n){const r=n.docs.get(t._key),i=new wk(e);return new pk(e,i,t._key,r,new fk(n.hasPendingWrites,n.fromCache),t.converter)}const Ck={maxAttempts:5};class Nk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xS(e)}set(e,t,n){this._verifyNotCommitted();const r=Ak(e,this._firestore),i=dk(r.converter,t,n),s=CS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Qm.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Ak(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=ct(t))||t instanceof vS?jS(this._dataReader,"WriteBatch.update",r._key,t,n,o):LS(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Qm.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ak(e,this._firestore);return this._mutations=this._mutations.concat(new ag(t._key,Qm.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new sh(ih.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ak(e,t){if((e=ct(e)).firestore!==t)throw new sh(ih.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Pk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xS(e)}get(e){const t=Ak(e,this._firestore),n=new hk(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return th();const r=e[0];if(r.isFoundDocument())return new GS(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new GS(this._firestore,n,t._key,null,t.converter);throw th()}))}set(e,t,n){const r=Ak(e,this._firestore),i=dk(r.converter,t,n),s=CS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Ak(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=ct(t))||t instanceof vS?jS(this._dataReader,"Transaction.update",r._key,t,n,o):LS(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Ak(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ak(e,this._firestore),n=new wk(this._firestore);return super.get(e).then((e=>new pk(this._firestore,n,t._key,e._document,new fk(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Qd=e}($t),Gt(new lt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new cS(new uh(e.getProvider("auth-internal")),new ph(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sh(ih.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),sn(Kd,"4.4.0",e),sn(Kd,"4.4.0","esm2017")}();function Ok(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new sh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Rk(){if("undefined"===typeof Uint8Array)throw new sh("unimplemented","Uint8Arrays are not available in this environment.")}function Dk(){if("undefined"==typeof atob)throw new sh("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Lk{constructor(e){this._delegate=e}static fromBase64String(e){return Dk(),new Lk(yS.fromBase64String(e))}static fromUint8Array(e){return Rk(),new Lk(yS.fromUint8Array(e))}toBase64(){return Dk(),this._delegate.toBase64()}toUint8Array(){return Rk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Mk{enableIndexedDbPersistence(e,t){return function(e,t){gS(e=G_(e,cS));const n=lS(e);if(n._uninitializedComponentsProvider)throw new sh(ih.FAILED_PRECONDITION,"SDK cache is already specified.");$d("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new w_;return dS(n,i,new y_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){gS(e=G_(e,cS));const t=lS(e);if(t._uninitializedComponentsProvider)throw new sh(ih.FAILED_PRECONDITION,"SDK cache is already specified.");$d("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new w_;return dS(t,r,new v_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new sh(ih.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new oh;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Bh.D())return Promise.resolve();const t=e+"main";await Bh.delete(t)}(ew(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Fk{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||$d("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};X_(this._delegate,e,t,n)}enableNetwork(){return fS(this._delegate)}disableNetwork(){return pS(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,q_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return hS(this._delegate)}onSnapshotsInSync(e){return Ik(this._delegate,e)}get app(){if(!this._appCompat)throw new sh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zk(this,tS(this._delegate,e))}catch(t){throw Wk(t,"collection()","Firestore.collection()")}}doc(e){try{return new qk(this,nS(this._delegate,e))}catch(t){throw Wk(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yk(this,function(e,t){if(e=G_(e,J_),V_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new sh(ih.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Z_(e,null,function(e){return new em(kh.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Wk(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=G_(e,cS);const r=Object.assign(Object.assign({},Ck),n);return function(e){if(e.maxAttempts<1)throw new sh(ih.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new oh;return e.asyncQueue.enqueueAndForget((async()=>{const i=await L_(e);new E_(e.asyncQueue,i,n,t,r).run()})),r.promise}(lS(e),(n=>t(new Pk(e,n))),r)}(this._delegate,(t=>e(new zk(this,t))))}batch(){return lS(this._delegate),new Bk(new Nk(this._delegate,(e=>Tk(this._delegate,e))))}loadBundle(e){return function(e,t){const n=lS(e=G_(e,cS)),r=new aS;return U_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return mS(this._delegate,e).then((e=>e?new Yk(this,e):null))}}class Uk extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lk(new yS(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qk.forKey(t,this.firestore,null)}}class zk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Uk(e)}get(e){const t=$k(e);return this._delegate.get(t).then((e=>new Gk(this._firestore,new pk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=$k(e);return n?(Ok("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=$k(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=$k(e);return this._delegate.delete(t),this}}class Bk{constructor(e){this._delegate=e}set(e,t,n){const r=$k(e);return n?(Ok("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=$k(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=$k(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vk{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new mk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qk(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Vk.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Vk(e,new Uk(e),t),r.set(t,i)),i}}Vk.INSTANCES=new WeakMap;class qk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Uk(e)}static forPath(e,t,n){if(e.length%2!==0)throw new sh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new qk(t,new $_(t._delegate,n,new Th(e)))}static forKey(e,t,n){return new qk(t,new $_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Zk(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zk(this.firestore,tS(this._delegate,e))}catch(t){throw Wk(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ct(e))instanceof $_&&rS(this._delegate,e)}set(e,t){t=Ok("DocumentReference.set",t);try{return t?Sk(this._delegate,e,t):Sk(this._delegate,e)}catch(n){throw Wk(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kk(this._delegate,e):kk(this._delegate,e,t,...r)}catch(s){throw Wk(s,"updateDoc()","DocumentReference.update()")}}delete(){return Tk(G_((e=this._delegate).firestore,cS),[new ag(e._key,Qm.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Hk(t),i=Kk(t,(e=>new Gk(this.firestore,new pk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Ek(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?bk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G_(e,$_);const t=G_(e.firestore,cS);return M_(lS(t),e._key,{source:"server"}).then((n=>xk(t,e,n)))}(this._delegate):function(e){e=G_(e,$_);const t=G_(e.firestore,cS);return M_(lS(t),e._key).then((n=>xk(t,e,n)))}(this._delegate),t.then((e=>new Gk(this.firestore,new pk(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new qk(this.firestore,e?this._delegate.withConverter(Vk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Wk(e,t,n){return e.message=e.message.replace(t,n),e}function Hk(e){for(const t of e)if("object"===typeof t&&!jk(t))return t;return{}}function Kk(e,t){var n,r;let i;return i=jk(e[0])?e[0]:jk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Gk{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qk(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vk(this._delegate,e._delegate)}}class Qk extends Gk{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||th(),t}}class Yk{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Uk(e)}where(e,t,n){try{return new Yk(this.firestore,$S(this._delegate,function(e,t,n){const r=t,i=YS("where",e);return ek._create(i,r,n)}(e,t,n)))}catch(r){throw Wk(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yk(this.firestore,$S(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=YS("orderBy",e);return nk._create(n,t)}(e,t)))}catch(n){throw Wk(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yk(this.firestore,$S(this._delegate,(Q_("limit",t=e),rk._create("limit",t,"F"))))}catch(t){throw Wk(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Yk(this.firestore,$S(this._delegate,(Q_("limitToLast",t=e),rk._create("limitToLast",t,"L"))))}catch(t){throw Wk(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Yk(this.firestore,$S(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ik._create("startAt",t,!0)}(...arguments)))}catch(e){throw Wk(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Yk(this.firestore,$S(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ik._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Wk(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Yk(this.firestore,$S(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sk._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Wk(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Yk(this.firestore,$S(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sk._create("endAt",t,!0)}(...arguments)))}catch(e){throw Wk(e,"endAt()","Query.endAt()")}}isEqual(e){return iS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?_k(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=G_(e,Z_);const t=G_(e.firestore,cS),n=lS(t),r=new wk(t);return F_(n,e._query,{source:"server"}).then((n=>new gk(t,r,e,n)))}(this._delegate):function(e){e=G_(e,Z_);const t=G_(e.firestore,cS),n=lS(t),r=new wk(t);return JS(e._query),F_(n,e._query).then((n=>new gk(t,r,e,n)))}(this._delegate),t.then((e=>new Xk(this.firestore,new gk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Hk(t),i=Kk(t,(e=>new Xk(this.firestore,new gk(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Ek(this._delegate,r,i)}withConverter(e){return new Yk(this.firestore,e?this._delegate.withConverter(Vk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Jk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qk(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yk(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Qk(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Jk(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Qk(this._firestore,n))}))}isEqual(e){return vk(this._delegate,e._delegate)}}class Zk extends Yk{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qk(this.firestore,e):null}doc(e){try{return new qk(this.firestore,void 0===e?nS(this._delegate):nS(this._delegate,e))}catch(t){throw Wk(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=G_(e.firestore,cS),r=nS(e),i=dk(e.converter,t);return Tk(n,[CS(xS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qm.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new qk(this.firestore,e)))}isEqual(e){return rS(this._delegate,e._delegate)}withConverter(e){return new Zk(this.firestore,e?this._delegate.withConverter(Vk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function $k(e){return G_(e,$_)}class eE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new vS(...t)}static documentId(){return new eE(Ih.keyField().canonicalString())}isEqual(e){return(e=ct(e))instanceof vS&&this._delegate._internalPath.isEqual(e._internalPath)}}class tE{constructor(e){this._delegate=e}static serverTimestamp(){const e=new PS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new tE(e)}static delete(){const e=new NS("deleteField");return e._methodName="FieldValue.delete",new tE(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OS("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new tE(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RS("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new tE(e)}static increment(e){const t=new DS("increment",e);return t._methodName="FieldValue.increment",new tE(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const nE={Firestore:Fk,GeoPoint:bS,Timestamp:bh,Blob:Lk,Transaction:zk,WriteBatch:Bk,DocumentReference:qk,DocumentSnapshot:Gk,Query:Yk,QueryDocumentSnapshot:Qk,QuerySnapshot:Xk,CollectionReference:Zk,FieldPath:eE,FieldValue:tE,setLogLevel:function(e){var t;t=e,Yd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new lt("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},nE)))}(e,((e,t)=>new Fk(e,t,new Mk))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(En);const rE=En.initializeApp({apiKey:"AIzaSyD4y5iBPZH7J0T17WUHT9kHaSNWmjToxRs",authDomain:"e-eyobsisay.firebaseapp.com",projectId:"e-eyobsisay",storageBucket:"e-eyobsisay.appspot.com",messagingSenderId:"146430515974",appId:"1:146430515974:web:5a0b7d441b3863dc05dc87",measurementId:"G-WE16D46BMG"}),iE=En.auth(),sE=rE.firestore(),oE=e=>null===e||void 0===e?void 0:e.reduce(((e,t)=>t.price*(t.quantity||1)+e),0),aE=e=>(null===e||void 0===e?void 0:e.reduce(((e,t)=>e+(t.quantity||1)),0))||0,cE=(e,t)=>{switch(t.type){case"ADD_TO_BASKET":{const n=e.basket.findIndex((e=>e.id===t.item.id));if(n>=0){const t=[...e.basket];return t[n]={...t[n],quantity:(t[n].quantity||1)+1},{...e,basket:t}}return{...e,basket:[...e.basket,{...t.item,quantity:1}]}}case"INCREMENT_QUANTITY":return{...e,basket:e.basket.map((e=>e.id===t.id?{...e,quantity:(e.quantity||1)+1}:e))};case"DECREMENT_QUANTITY":{const n=e.basket.find((e=>e.id===t.id));return n?(n.quantity||1)<=1?{...e,basket:e.basket.filter((e=>e.id!==t.id))}:{...e,basket:e.basket.map((e=>e.id===t.id?{...e,quantity:e.quantity-1}:e))}:e}case"EMPTY_BASKET":return{...e,basket:[]};case"REMOVE_FROM_BASKET":{const n=e.basket.findIndex((e=>e.id===t.id));let r=[...e.basket];return n>=0?r.splice(n,1):console.warn("Can't remove product (id: ".concat(t.id,") \u2014 not in basket!")),{...e,basket:r}}case"SET_USER":return{...e,user:t.user};default:return e}};var lE=n(403),uE=n(590),dE=n(588),hE=n(8),fE=n(823);const pE=function(){var e,t;const[{basket:n,user:r},s]=Re(),[o,a]=(0,i.useState)(!1),c=()=>{r&&iE.signOut()};return(0,Ae.jsxs)("div",{className:"header",children:[(0,Ae.jsxs)("div",{className:"header__top",children:[(0,Ae.jsx)(xe,{to:"/",onClick:()=>a(!1),children:(0,Ae.jsx)("img",{className:"header__logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAzoAAAD6CAMAAABeb8KvAAABQVBMVEUAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////iiP////////////////////ylBv////////////////////ylBv////1lRv////////////////ylRnylBvzlBv////////////ylBv////wlBz////zlBr////xlRvzlBv////ylBvzlRr////ylBv////////////zkxr////////ylBvylBv////ylBvzlBvylBv////////ylBvylBr////ylBv////zlBvylBr////////////ylBvylBrylBrzlBvylBvxlBv////////ylBvylBrzlBv////ylBtGDldBAAAAaXRSTlMA0FP4mGaQiEjeXq13+1kD/aAMBRCpQ0v0IgnBu8Y2JwXx1MxhPu+ygE8S6t62GOfJbjoK/fZy5C664RHuOzEhodiyKduqmpWEQhwZ+jIr6GaCexZc16R1H5OKa4sHbk7BVZlIaFvRyXva2qOAAAAhaklEQVR42uzdS0/iUBjG8RcqKEhtaQtWChhukUsIyEIIISYkBAkkLDAxJDPunMXz/b/A3C+MQM91FDK/tUoP7b+nPTRI4izPe2x6Fv2nRM7zFp5D/x2teS1ZT7e7kxF+KiWCTPzu8or+4+Zen8VOn/KVoY8fzFE5nz79kH2k/46GNajGgxJ2KnWn1bfrZ5G9jT8FlUoiUvlScupsLXQgR1cPN4VKudzNZx4+ZOekUa52O60Y2KmVj0ebdLwWtWr94TyoVMbjSiU4P5nFsmuL3pTXe5ml291v+/88nYoOcqTA4PZ8BAbDdHVB/5qXTCfwt85TlevIK67y/uu/kdSSj1urBwbC2ZF44wiv4ZzLWbuFLfwgfrGgN+FEH8b4mxHUey7J6H0cgp2ZjzVJ3PxqB2/HYRhtm9jObDcsYjKI7xxhN6b44M010iWw8zONZxJXS51qkMpaJOg6VTCxTzles+gfO3vyscPoYUmCrj72wctsR8VGb931sYsdFLcch6k+9plUrfAXjRawjz9dkjK1pxJ4jdJFEvMYQJPKldD23EXAoPMwIGHebGJgu1G+Rq9Zn0I2qvDJIm5Wo21DyDiWI35p7GNc0iYr1kGYcpb2i5YRxk6vSQXnJQIx+TMSYHWhTYJ/Mi5mDLDqJl0SMp9gnxf6W62CUOUG8bGqCYjrrLjf3Ab2azmbc38BDOyTfduxDMDCiDsky6uXIC4icOprQKMU8cnmwWV4myMBIa9iLmmDM7XB4mbNE87FGHI6MYu4nCNEkv4QM8Bmstw5xpUJRpOi5IyTGkFOpUac4tCoTTzu8+DWj1nE6xohHjY3awxGpQv22TUCed0l8aggxIx+eU6DWemStloXwM5MWSTuUwfy0k3e61+NCsTOm9oQUa4pn2gzGz/tg92DSyycuA0VDK7jLbTW098bmAcH8xNt0WuBS9shQVd5KNG5PMh0LjoQZE894hLlSefFBI88y/4/G0KV9qOOdJwuuNjVLTvUAKdKk4Tc+VDEPnUPLh3vCRL6WW3pxGzeIYd2bNVtqJO4Vp9OLgAn89X5OmmCW0SkHe8GCrWdA0unmJA+W+hJ58LmH3OO9mq2odSopzydc3Dz72nDJxuAyHvHazCBUpHHg0onaUBWvqkjnZ4Bfm2L9rhOQLFST3E6KQhIbOyAmgEhGeLU8KFY+fGA0jmFAoml+nTmHYj4SLstO1CuVFSaTtaUXk29HkHQB+JyYUK5SPNQ0nHTei5c5NOxAgixo7TLfQsatNYK03GGEBOjn3IRiDKWxCFpQoPAPYx03Bso4p8pTicFQa3FrnJG0CLiqEvnBIL8K/rhAeIqLjGr2tDi5CDScc+hjHGmNJ2lAVE3tNWiD02mytIp2tIfgGftf/MEStaEJskDSMfKQCE/qzKdAOK2RvxcgDaXqtIpQFzj+zDHkFFqEpurFnQZLd5/OnEoVbpXl04VEsrWP36r+46adKKQkHimL1aQEycmThn63Lz7dG6hWH+uKh2nAxkNeiUGnWZq0iljg8D6WLMEOb5HLJ6gU/adp6PhYjWSU5TOSvXI5yXo5M9VpNOAlE6OaAZZd2/+xD8Qsd51OvMW1HtSko78uXNAf7mBXnEV6RSkj3rPh6wxhfP60KvxntNxC9Dhg5J06qqP5AtoVvLk0xlAUt+9gzyGO9YpNAveczp1aOEvFaTjjCCpsznjOy3odiefzgNkVSf/5L6taEO3e9F09KdbNKFH5Fk+nTtI69Gf7qBdRTqdcQmySmpGEuYG2n1823SmtJNbhi4z6XSsBKSd0h9yHeh3HZrOgbCbYZMO9BtaYunov9daQRtjKZvOJeQVBFfh++ep7PWjS+6iF0sPwSF1LOngUt2kU05/6F01Lcqts3fnJXAovuV3E0x2h7s2wM7vJEYm2BUk0ykEkGfk6JfnDtiUpjXaUEubYJU/mnTqtNfABpvhbHMmzkUDMFu95fr4i4LJbnJ6tqCvmtlUYINNMjwd/Wrcr+jXHXrlKsMe67Gkc6PkdN+/sOiVXkTZGptVgC7jZ+nzRrmxOVed+mDRz72DdFL0yzlYZNY7trcENr1jSadM+7gtMDBmzvbfntlg4lsUonkDPeys7MWqEbNenYPZfnP1DtL5fer0DKbB0i73HTC5PZZ0fNrnEgz6RdqlaoLJgEJdV1PsTsAqTTvVwGJ4T1vMwGDkvX06CfopJvvUd9EAi/SxpIMF7ZFBuPFa/tHJJCllBWDUeqSdCmCQWEgMvP726ZjP9EOAUOYZ7RMDi0B1Oq1JZTyCLBPcirSb40s/BpzhX6yQlwKrhuSkM7qmHU64H0uRT8dPVMYtG1yWP/e1KX2tRV0wGCpMx86nii595fbqXQjyMy+DJlHusRZ74mnwQu56zbinvRY+7yQub2AouFyjjNydkttFuFuF6VRuBxZ9YRVXBYFPtRoKvmG4BwamqyodO72kP2UDCOjfevSb2yiD1a3c+lqKQtQ5F/vluREV/+RgbiLcVPIJpomlKp3gM3vn15M4EEXx2kLpiqUuBYSKGBEjsNmIPKAxxsSEiIHEB0g2JLpv8jDf/wts4v5hWf/MYc4Fyur5AKWl85u5c++Z2/bMiokPoi34XTslwPYMaCyEztnR83DDnztOS/07BoJ79CJD6jGqoaXRALmRriWoFDxrTf97s43+SY495uTJoHO5aTyIEvDOzgW6w8LZaR6dVvOlOGlOdk5eupmjS9TF9KoiH1vueT+CE1hiavu4get1RV/oPGtpG4uBeHSu980HUfrXUq0NrP0x8nkGQLYGHaoRWW2+0syAOd3YY0LXLjDk7xWgkSWlLGyK3HhrxdzEjhu+qTKw8JUE0NnIaZoYAX6gvkxQjUw4NQl0DvoCZ2S6AyrP9JkZPkNk064AlSwp3cj4L8sCTsYM4xq36QFwM09hZwA0/wP0lVirAXQA/kZ4juzg1VEXdqEFG3j11IgPHLwmymtHJD9iNYEl29c184kOgFQtjY5z/tozfJmnJl4Vmd160IzDo7MHVCaY5a9GotP3te8dURXeOvIancg4eGvk1+BwV1iFRafDbdpVFojvgUwO/pO3Auh4b8x6RYEREH4h/Z91MDfL5wkKlozScE6qTwceE0unJBGx2XxXlBzkyPz9RxS6UNWaf2KXR+dQ4nBXRXMRzjrduRQY8Hm0MMdrk64E41ZIv2np1Ef2Ghp0mANXibmObQaFjpvfu/CBDtXU9i7Bo9MBTqhwYUeDDjuizLB3fPhKFLQbiG3cM5aExgd4Nyc6XmsJxaoVDTrE/FswmXyDQaVxmvq223XUVL5tQWosBZ3tN0OGrCPgm8xClQVA4bid6bjpvTP/74kITIu5y0InKCtQFzl+oawLzRopDTpE3iu8pGLl0fnOY/1zuVrcbqEBdYFHh5+1dpXig4YLDB1cQb9inz582/3kOGk0oXy7LHQ6uI1AoDxREAr9Nxh0DrLANpOOlUML1dFS0EkBczXbLvkrsdcR+zvrS0LnzpFqwbOPNUTR6wq5UE6DDpGoGQr99TFDx+PDbeXynWTSlqHihk54KNYD7VHKdhcWjTf6tkRXFg+pbqwfOiOgixObH029I3Ru2RriVHmxb7EiOD+Yo3MQafImyG5p7dA50RX3FKA7PPrHh8B6otP25XrUn8GFPQkIW+boHINODv6bsnFKE2jddEUgTI501ss4oLOUNEG2C9sIAhH/76bYtOFnNegQs8A1YEhaO3S0ByMv+JXLShpUONYTnQRhIzAatRUL0UQBKjA3Qedpt9YOnZRAOW0Pr67jCK8lOh5QwYJ/qW7QDoXZsW6ZouOEAiao4dqho10nWwKJ5cw7Qad5AtsIhIxwPuak6EPnPkzR2SD63Eu3VGneeZtDd5dHR2CwlAW+pt0grsErGFztJOs31cWjkydsBJoNAmUat0Lf1Exji2T5XCTfQeh76Wiy5eb3PjkKFY9OAZj76KDPQx5EWtm7Qq3eO25NXTuLRmeC9/pEhoOPp8VEknXFwBCdukTs+WBURCt5yVR+xty4PHTuBNbaoUDomRBEpnHqHlcBC6YwOv1L3EYA6Fyyh0/L9IysLVLNPAXL6riiq8xt+tpXsOTRGQtYBzsxQSfXTrrlC0WIQqdM2AiADSKV0y+begJsERvdvSQ6wXnypkpAI4XOQACd+9UHbFG7k6eg4dE5xW0Ecr1DbyR3YVuG6OxbOj1KoRNU6uWf8cTq0ckJBGy11aITee4hOwnx6OwXDWwEtPHWlewy0jNEZwRZt/knadqJpz1bTNCJBNCZEE0uWHRKyTwxC8mhE7YUqN1AcKGoW4Icpg3R0bvXazw60aS8rZSKETqBADr2qtAZdZ4yznFAp07YCIiTUh3J22uZoVO0Fo9OJfE0QcYJHd/S6RuyvdSosQh0wsaxr5SKBzoVX/wnIDdcUvL43YUZOpdAswYKncB+GsgxQ8dZCjq2PDq5rZ/J/HigE10TNgLAd0ufckkqQI7ZqztZMDr2n9Di/0PHWzo6udvf63c80OkZ2Ag0yop+TCujEDWNXt3ZQgO2yjRwXTd08vFDJzydHtqPBTreNm4jQDVWiCai3UjvjF7dpwWik+1tq6neIToZUXTaVTVVHNBpnuE2Alj7ojdcUIiOjNC5Xhw63kyt7j2iMyEeRDMPxQGdPGwjiCxY5wqRLYqOZ4TOhrWguk74MPuq1w2dtAA6m3LoXF2rGcUAnQxhI8CO2PDtSo+wq8UKnf6emtUHOgw6SUfNavXo4K7PDtGZglx12tjjxwmd82fB2gc65ugEKfWvVo/OVwMbASAPQ0d0DavFCJ2dZ8n5D3TM0cm+MEpXjs49bCMYW/OoIYrOlUL0g72760lci8I4vqCCgBRKyztIw1tQCEG4EEIMCQkRo4kXkhgT9c65eL7/FzhnzsyZGR1gr5bFtHb43c9MKvOvZXd1980/6Zzr+OiQjut0zAr2LbXHqc8v5EjYg3QufZPO2nIO6ax15IdykNrf1GeOyMPfOhNwJP2STl7DGod03KVjVbF/qb1NfY6zxCf/Xef+U6VjX8Exbd5fnj2H8/nazC6lDukoJrhVehePL5eJQr49m5VK/T2kU9P5YwQOtUVbn4Bj6I90unE4UqzehEtp+kX+kM5PSTgTzwzbWacHgpTA1KfynCq6Jib6XSfij3Q6cGBx07boq0M6iq2cOfR+pEQ/7S+dKJgaZXJqAo4IN8RPdF9nCLZ6dEb/OqSzWXcKtlCkS+vIp5M3HI8RSM+wDbnpfJ5pAlsD0yCZJTqkcyT0Raeap/Xk08mOwZQk555E/+bR55lhq4JHezGJDukoDiQGpnmB6I+l8+hijIAvC44z0UWHtg/SaYGnaW873EM637zGwWLcWPTn0gmDqf5EbhTBcCO61D3zPp3yFCyZMh3SUR/IJVh6MaI/l85djz9G4EocDC+inXe9T+dS5BJ4dEjnP2YPHGObtsrJptPnjxG4c8q7Jc7TAoNGnqfD/Kwf6JAO50CSAuWIp/MGpnGX3DmR7HIIhoX36byBY0mHdDgHYo0F1n+l07GLAmMEAluFVCUHhirep9OQuUtWO6TDfwjzmVQeBdOxTgXGCBQeIPiSkBcwZDxPJw8G7Z4O6bAOpAKGPv3RdB4ExghUEmCIS77j9NjzdDJgWPrj5e/+T+fJgJp+TwqiF2wzHTzajFyrsf4ByZ1H3rxOx7qCmnZLSrFDOtxFggypyU1Ov4YExgiUTAMMWcENrEdep1OQWlQ8P6TDfR+ZTWoVsXSiAmMEUjd27uU2sDZMr9NZ8kYe1FqHdIi6OtRCxBCSSidvCIwRMHTAEJMbTViQ1+nMoTZIk1rykA5RWOy6aCCUTnYKpgTt5IW3ssixAkPO63TuxG4CRw/pEC2lrlrSulA6GYExArkltqjc4PSD1+mExZ5Qyh3S4X3VKaZJ7Q4y6YQFxggEn+zsyFVY8DqdMzDUiKEBteuAp5MuQu1UbNflL3JTn0aMdpSuQ21OHDdQM1Zep3MCNb1MapYOtVzA07HBsBSb4nojlY7AGIHkhKlhSq04hMjrdBZQ64k9nN4PeDrnvIt0hmuR9YYIuMbxr+bNaid3FL380rZNcioJhpHUEsmL5+loUFuI7ch6GvB0hmIP6C8kHrosFeFe/SKTPLctYhtJHfwdGGJep9MFQ1Ns6LwR8HSOpRaBbyWm2dOn2JlWOT5fEYvFCfVR6Oa6ZnqdzoQ33a2WvgKDZgU7nYzUS2ZaEJjhT0LIPBM2Sa0KtbHQbY4KeZ1OXmpUPA+W+2Cn05HaArMDjgFtM9MgR+tH7kS+7NzLrNU+eJ5OAQxzuf1WUsFOpyp0R32lg6VLm702IMs4jZi0TUnmy86dATXb83TCkFlhM4tgiQY7nVOhFbZLKDAO5Qzy6kc12qIJtb7IunyTPE8nAQY9LfbGo3iw02nK3EJJz4Fd1wlui9iLZsva6ZE6fSWxQcjwk6SDCSlYUzBNDulU5d6UG1dPY8qLb4zHlrhiKxmc/rxPJwyOiNytt7NAp1OBxAxbugGuGm3wegUl+XgaAotOx6yrPu/TiUHiqcZyHFy9cpDT6YNjJvBLR/XJxLBXixit87D7RGS2DrUvPkinDY648kTB1wpyOicSb1XPDsCmrVj3RuQZD7TGnbbzQkGSdf71QTo1sIxU20bwza0Ap5OBwHTGNRw4Zj79IG/o9skTY0abdXusq34fpHMr8BiU2YATwwCncwzsfMkSNuCA9sR7RFmeVnI7x1bd8cm84soP6aQ1cOg2bZTuwJFeNrjpRMDSoc0mRTjyyHxnh7wX12uMz7ttpLAkP6RDC7D0BVdBM8FNJ7bzrczbOBRYz6jZ2L+B6+G7YonWK/Wgppf8kU4VPG8k9320ENh0bPCMV7TeUxxOTU3efpLybul35R4YQiatk22AIUf+SOcIPFqe1nm9hnPjblDTsTTwVMq0zmwK5zK8aVx5edePLKGyrp3bJhiMiU/SaYGpnqffPTXhRieo6dApmPom/a5VhBsJ1pWjvMIO77RrPtFHtQHzTOGTdGxwaZdpes+6rMOdYVDTiYKrMaEP7A7cKdr0UQE88ulQAixXLXrHPNaYS4p+SYeuwNaMvTvWyAJuabOAphMGmxa9o1/cL3W4FSr7KB32GFGoZdL/JsdX7Eku36TThwPzs5FJX5USmTp2sDCDmc6dAT79pFVK079eR8lT7GLpo3ToHFxaNfqcSEVucmNwxcv+SScCh8bz0FjDrqLBTIecJqDFQ/OegR0ZIx+lQ1XsT4H8k85Khxd0O5jpXMITF35Kx9awLxnyUTpUgSdegplOCd6wfZQOPWBPxllfpfMGT1SDmQ6dwhMFP6VjXWAvjBj5Kh3zCl44CWg6YXii5qd0yC5iH27IX+nQMbyQCGg61hQeCKV9lQ61sAcVy2/p3Or48zIBXWHzZqEgXvLTMsFX1xA3XZHf0qElxFQGYLkJ6C3Rf5WnkFI/M8BxsfLTfZ3/lJsQVpyQ/9LpXkFItVwAgx4J6iDOVykIuarxTt4d00+DON/dTSFKj5EP06EhZHReWb+p67HAjn+S4HL/YEJkxqG0TJPbdHoX/Uz0IRIOh2P5fD6cilw+RHOVeFEgHZrUIchIkS/TsZqQ8GgR58MezwL7vM4390UIGNv0r7aB7YxLIufp6KHrZHhm0gbdUeulszB2SofaRcFy3sif6VCpjt1dp4nzYYdug/uUqOD6UrzEmsUuhslpOvPMc61MDGb+odNznw7lNbFyIuTXdASuz40b3t4W1WyAt/X43yN2dXpH37yGsEVvRI7SGTy2bskR+7lTdJkO5YsQoSfIv+lQFLsppnj3kjNWkPdh+595gd1kyqzbi4sSOUin8TAhN6z28dxVOlTrQUA9Rn5OhzLYxbhGROrLP+Ms2Nu1/9BtYAdGkvdBnnaJnc787J52MDuOu0iH7Dl2Np2Rv9OxOnDv4o71f09LBPyFiIqdbZjqBd6+gLkyMdMpHs1oZ6NlnfuD/ClbxY6qXfJ5OmRl4JJxVGY9Z1zP01+TDq0u4NKFTe+ZTazzkqaNZvhF49kkEebbu4/onhjSZzp2oJ+lyffpEJ0ZcKNX4G1rOL2nvygdKp/ADf3Goo9up/iN/kxbpH/8CaPTJkGjnPGjSOIZTeHavEb0GdKhcA/OZbr0u3IFHzXv6K9Kh9KXGhxrzmgNe4APigXW2xKMkxkJszP6t3bzxGRGDbii3ZTpk6RDdx041Mgz15j6Jqk0oXIl8U7TtsDPP0oc900403tO01qTHt4Z1EhhqH8NZ0J78LTUgN458dUu4ELVJqfOoXQhm85PX6ZwYBxJ0wZm5f1p2iKla4EXoiWhondJwYZSglis5x746jdZ2sQe4xeNJ1IqDYc27YlZiJXJkVQcDoVi5Ny9yFnv3N388uvlFZgWkVfarNxZt9q62wBLgVRWdShck1IfCtMyMZlndfAMHrK0xdMCP1Sy9OlYiTkcOD1PkxunUNBsUirXXV66mJEQ1LSTmOLgrCW+01LEkiqqXoeklq8rt2xVWil+AIOZw2UpJb0ftmi7bgXfPb7SZ5QudHSwFDMjcskeSAwmpNzve91eTrFN/SSRJbWhjq96bWKyo6H4Jo3HEXHcvlzEN5lXWxYxvD5XF/FNLm5W5EztuIEtejnWT/M18325lj6tp2QTKnr1LUvu3S23xFPs14gl1cMWWtSiLWbJzgBrGItcsmYRT76vY7zs0oHdug7p+MgYnx5FJmliCnfmjet7+tRKw05x21mktaJdmdlNiK2cj2x0viKl21jk5rFfbTaazWo1l1s+JNpPFjnzCS/L96VsxyJnx0eZXObo5fghmWiXLPobWbW364srfDCoLBOf/LRwcPAPe/eSwigQhAG4dzMMs5oTuOrFIG7UYUQcRXEhKCooEhe+AonU/Q8w71dMoiYm8fF/N0hCpbuqq6uf4eOXt+8+vX/zzftP795+/sAAAAAA4DJdN3/QZQYAPSQjaXdulXKf/vLD9GjvssTQGQCc0PetdeR0XajlicQA4KcgslKFhhKbUmAAW6fXVkhjcStgABtmZpVPN1FshwFsk5xUCt1OLRnABgUNp/twFAxgc4T6SPfLGMxCUCL1fA4hEWkKGoMZ0DUiEiNUPR+vTmkanMEMuPRDitzzwYKKJoNkZwYkhX7RsG17IHmn0HRQn54Bh/5QLPyZPYon0pQMBi8ncPpLjdGs+xCtQpPaM3i9mP4Vol7wADlNzGPwekJF/zngH21qhoLQWSVZo59QL3gQi3rwUPwtVJHrLIdgdToMETxTcumUKh5tK8+S0gg6l0EFKSiL5qjSFfh95iKmE4qL8ud0DJV+4qnWxNHe0Vk/wchFnOvMX+R3gscyGUzELPI28Rx5qvYDBbWc+dirdMpvEDyvJuzQiDN7gUgd6g4bg1dz6YwDgxmRjtSl5gie15J86nIZzIns0hkqtm2vVVFXzmBeYoW+Q6l6TmLqihjMTKLS+eDBEdzL1DgRXYRApPMqtOe8iEcdCoaBzpBe0QWHBIcJrxBQh8hghoSGLhELXEl4vgAFtsWIfLqEN+jPeTYPA3GWwxCvzZ5Ev/tz1bhysCCSRlccIuzbniiiUz6+//kSYoWuCGP0GExK2Meum++FYTdMjwxmbM/pGt/F0cJkzDikH1KDddl0KmYwZ+aRrksLnC5MQChthX5TPdaRItVZGiFX6DrVwo94J6kV6V9cZydkn06oSHVmbx9SnzRD1nM7z/V7684GnaoYzJ6kUS/fRYvOTaQsHTKIPcKpzjK1PvUTWyw9I8m1ptA5x/5pOrgEsgxBSgMoWoKawXDBjtMFNjsh4oboUg0dM666eF15ECk70GUF+5+J0vSC7UMahu9w2NNDTmyfrgh19r8II9iWTLJpKDFGf+hFcumqdF3SO9UjZbAkCafBjgXy2DOEvcWpT8xOhXSiZbAokk3DKccWa8//jF1Ivfyi/7KOgv+lxak5jSEi7/lN6MTNeaLBOgo8wLsCkk3jiDmih8mlxWkQS2ZdWjcZggWqQxop3HlbrljriavSMPxsTOg+/Y+jf22Z9EahsVQ72mavgRnZKg2lmeychE7sGCyUkdIN0nxji49g5CkNp2bsPBdFgvWQY59uwd1kK4uP1FluelSXAkJWO206sGCORrdRjrGx9sVH3ucHGodH7JISl9xWphTpVqoWr3bvJgSZptJYtsQustD5uTZy7tPtuJ0Fqwsfp7A5jSfur8UiR2V6fZyKiBA+PwhB4YZ0Cz+WxwwvTNfyjW1cLdKduN16S7/lIxitxulGlTPuzfiawSoIGae7KWkTLbXfTSrjSqWb8YhdJ3NkOmslNQpNgWtxuazKtWxkrkj38HfS2Im5JYP1CDSaiuhm+yXEjxBEzcGnO9kO62Vj5ueqeQeaUKjliTPbZFj3Cuvg0/0OHuvo619T0Eu7OolI01IPVjGz+oHg1LEt0jTC6JYx7RaD1RGKkKYXVk1Wvn4F+h40burTZNRYvuXlar6EzSyMJrecHsMX7TzyJPZ8gulFuZ36NCm/GfpZTAVvVm+CHnN6IH6wd1limAJ7PN0pi52W+jQ9xTLZUDGG5W6Fnqv0cL5YWXlUBtL0MSQ7XtI2Wsqp49mB0x1d6GOC1KpJMaen4Wll7+Ki9pw7wkiQHKMu4sauRJUeTLEcNsIeY6Y3RW85vQAX06NmW03eFlG9N4IgML/Rv2E/yfo3pukEhlfXUZHFO8uu0lCl5+gGTj8Xszw2Rs5CgrsDh+kq/RWiurYJciQS/EvdmWysgv5S8ArLZtRHgt/CVmfjHeivnMF2GK5C8LW9O0hxEIbCAOxRXHVVulEXoYhBySJgiUJE4kKthbbk/gcYOoMdBoZSaqsm+b8DdPeI7+U1/+tB+Qf9iyx+LQyzyoZIuy4kJ+81St9V61pJghnsa7ebnujBbOD5f+oIPB/lJJ46+902KZ9Y6tEGd6GuytRGuydi3Juiv/8QXo9ymH8k2i3bqYH4SYjKAeeOnpxxb6oalQOjQBInup5zu/OmS/U3gT4HbnbXStttzFF9U+lUmK3BKFb2Lri9M727C7XOFZJ04G8WrY1tT8Q633ujQ+1oJhE8EhxTu/YMolTiwh/mEXTWnD0bJvFhBQ+gev4jaIfVTJifz5XJS24V8rlhQUlLcm2eiNSmvjEP9thLatTI2oVYRzBGUjAzOh/BMDWGlQl42a97aL2lxiYBge2CuCbrLB+UDayeH9dsVb1PfmkMy80ChyVSXVZw/ORn2sa48QTD+JlUy3U/YYWqAZONkVBzEkQVqBqwwj4umnSb608ai2ZlcXIA0/lZVw/kExUUip6WMkbRgNX8hMuSkvNGT5aLC2uK0/KpiwBzCpJYtqVifSVy/bxIVIQ2teQZRs4AwS478FtyzrVRA2WMpeQHY4wOw9A011Z2/JDsccJY6QvekHBWDR+YrAAAAABJRU5ErkJggg==",alt:"Amazon Logo"})}),(0,Ae.jsxs)("div",{className:"header__deliver header__deliver--desktop",children:[(0,Ae.jsxs)("span",{children:[(0,Ae.jsx)(dE.Z,{style:{fontSize:14}})," Deliver to"]}),(0,Ae.jsx)("span",{children:"United States"})]}),(0,Ae.jsxs)("div",{className:"header__search",children:[(0,Ae.jsxs)("select",{className:"header__searchCategory","aria-label":"Search category",children:[(0,Ae.jsx)("option",{children:"All"}),(0,Ae.jsx)("option",{children:"Electronics"}),(0,Ae.jsx)("option",{children:"Books"}),(0,Ae.jsx)("option",{children:"Fashion"}),(0,Ae.jsx)("option",{children:"Home & Kitchen"}),(0,Ae.jsx)("option",{children:"Toys"})]}),(0,Ae.jsx)("input",{className:"header__searchInput",type:"text",placeholder:"Search Amazon"}),(0,Ae.jsx)("div",{className:"header__searchIcon",children:(0,Ae.jsx)(lE.Z,{})})]}),(0,Ae.jsxs)("div",{className:"header__nav header__nav--desktop",children:[(0,Ae.jsx)(xe,{to:!r&&"/login",children:(0,Ae.jsxs)("div",{onClick:c,className:"header__option",children:[(0,Ae.jsxs)("span",{className:"header__optionLineOne",children:["Hello, ",r?null===(e=r.email)||void 0===e?void 0:e.split("@")[0]:"Guest"]}),(0,Ae.jsxs)("span",{className:"header__optionLineTwo",children:[r?"Sign Out":"Sign In"," \xa0\u25be"]})]})}),(0,Ae.jsx)(xe,{to:"/orders",children:(0,Ae.jsxs)("div",{className:"header__option",children:[(0,Ae.jsx)("span",{className:"header__optionLineOne",children:"Returns"}),(0,Ae.jsx)("span",{className:"header__optionLineTwo",children:"& Orders"})]})}),(0,Ae.jsxs)("div",{className:"header__option",children:[(0,Ae.jsx)("span",{className:"header__optionLineOne",children:"Your"}),(0,Ae.jsx)("span",{className:"header__optionLineTwo",children:"Prime"})]}),(0,Ae.jsx)(xe,{to:"/checkout",children:(0,Ae.jsxs)("div",{className:"header__optionBasket",children:[(0,Ae.jsx)(uE.Z,{className:"header__cartIcon"}),(0,Ae.jsx)("span",{className:"header__basketCount",children:aE(n)}),(0,Ae.jsx)("span",{className:"header__cartText",children:"Cart"})]})})]}),(0,Ae.jsxs)("div",{className:"header__mobileRight",children:[(0,Ae.jsx)(xe,{to:"/checkout",children:(0,Ae.jsxs)("div",{className:"header__optionBasket",children:[(0,Ae.jsx)(uE.Z,{className:"header__cartIcon"}),(0,Ae.jsx)("span",{className:"header__basketCount",children:aE(n)})]})}),(0,Ae.jsx)("button",{className:"header__hamburger",onClick:()=>a((e=>!e)),"aria-label":"Toggle menu",children:o?(0,Ae.jsx)(fE.Z,{}):(0,Ae.jsx)(hE.Z,{})})]})]}),o&&(0,Ae.jsxs)("div",{className:"header__mobileMenu",children:[(0,Ae.jsx)(xe,{to:!r&&"/login",onClick:()=>{c(),a(!1)},children:(0,Ae.jsxs)("div",{className:"header__mobileItem",children:[(0,Ae.jsxs)("span",{className:"header__optionLineOne",children:["Hello, ",r?null===(t=r.email)||void 0===t?void 0:t.split("@")[0]:"Guest"]}),(0,Ae.jsx)("span",{className:"header__optionLineTwo",children:r?"Sign Out":"Sign In"})]})}),(0,Ae.jsx)(xe,{to:"/orders",onClick:()=>a(!1),children:(0,Ae.jsx)("div",{className:"header__mobileItem",children:(0,Ae.jsx)("span",{className:"header__optionLineTwo",children:"Returns & Orders"})})}),(0,Ae.jsx)("div",{className:"header__mobileItem",children:(0,Ae.jsx)("span",{className:"header__optionLineTwo",children:"Your Prime"})}),(0,Ae.jsx)("div",{className:"header__mobileDivider"}),(0,Ae.jsxs)("div",{className:"header__mobileItem header__mobileItem--small",children:[(0,Ae.jsx)(dE.Z,{style:{fontSize:14,marginRight:4}})," Deliver to United States"]})]}),(0,Ae.jsxs)("nav",{className:"header__subnav",children:[(0,Ae.jsxs)("div",{className:"header__subnavItem header__subnavItem--all",children:[(0,Ae.jsx)(hE.Z,{style:{fontSize:18}}),"All"]}),["Today's Deals","Customer Service","Registry","Gift Cards","Sell","Electronics","Fashion","Books","Home & Kitchen","Toys & Games","Sports","Automotive"].map((e=>(0,Ae.jsx)("div",{className:"header__subnavItem",children:e},e)))]})]})};var mE=n(151),gE=n(444);const yE=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);const vE=function(e){let{id:t,title:n,image:r,price:i,rating:s}=e;const[{basket:o},a]=Re();return(0,Ae.jsx)(xe,{to:"/product/".concat(t),className:"product__link",children:(0,Ae.jsxs)("div",{className:"product",children:[(0,Ae.jsx)("div",{className:"product__imageWrapper",children:(0,Ae.jsx)("img",{src:r,alt:n})}),(0,Ae.jsxs)("div",{className:"product__info",children:[(0,Ae.jsx)("p",{children:n}),(0,Ae.jsxs)("p",{className:"product__price",children:[(0,Ae.jsx)("small",{children:"$"}),(0,Ae.jsx)("strong",{children:yE(i).replace("$","")})]}),(0,Ae.jsx)("div",{className:"product__rating",children:Array(5).fill().map(((e,t)=>t<s?(0,Ae.jsx)(mE.Z,{className:"star-filled"},t):(0,Ae.jsx)(gE.Z,{className:"star-empty"},t)))}),(0,Ae.jsx)("span",{className:"product__prime",children:"\u2713 FREE Prime Delivery"})]}),(0,Ae.jsx)("button",{onClick:e=>{e.preventDefault(),a({type:"ADD_TO_BASKET",item:{id:t,title:n,image:r,price:i,rating:s}})},children:"Add to Basket"})]})})},wE=[{id:"electronics",label:"Electronics",emoji:"\ud83d\udcbb",color:"#232f3e"},{id:"fashion",label:"Fashion",emoji:"\ud83d\udc55",color:"#c45500"},{id:"beauty",label:"Beauty",emoji:"\ud83d\udc84",color:"#e91e8c"},{id:"home-kitchen",label:"Home & Kitchen",emoji:"\ud83c\udfe0",color:"#0066c0"},{id:"jewelry",label:"Jewelry",emoji:"\ud83d\udc8d",color:"#7c3f8b"},{id:"accessories",label:"Accessories",emoji:"\ud83c\udf92",color:"#b12704"},{id:"sports",label:"Sports",emoji:"\u26bd",color:"#1a7a4a"}],bE="https://dummyjson.com",_E={smartphones:"electronics",laptops:"electronics",tablets:"electronics","mobile-accessories":"electronics","computer-accessories":"electronics","mens-shirts":"fashion","womens-dresses":"fashion","womens-tops":"fashion",tops:"fashion","mens-shoes":"fashion","womens-shoes":"fashion","mens-jackets":"fashion",furniture:"home-kitchen","home-decoration":"home-kitchen","kitchen-accessories":"home-kitchen","sports-accessories":"sports","womens-jewellery":"jewelry","womens-bags":"accessories","mens-watches":"accessories","womens-watches":"accessories",sunglasses:"accessories","mens-grooming":"accessories",beauty:"beauty",fragrances:"beauty",skincare:"beauty"};function SE(e){return e.rating>=4.8?"Top Rated":e.discountPercentage>=20?"Deal":e.stock<=5?"Low Stock":e.stock>100?"Best Seller":null}function kE(e){var t;const n=_E[e.category]||"accessories";return{id:String(e.id),category:n,title:e.title,brand:e.brand||"",price:e.price,rating:Math.min(5,Math.round(e.rating)),reviewCount:312*((null===(t=e.reviews)||void 0===t?void 0:t.length)||1)+Math.floor(500*Math.random()),image:e.thumbnail,images:Array.isArray(e.images)&&e.images.length?e.images:[e.thumbnail],badge:SE(e),description:e.description,features:[e.brand?"Brand: ".concat(e.brand):null,e.warrantyInformation||null,e.shippingInformation||null,e.returnPolicy||null,void 0!==e.stock?"".concat(e.stock," units in stock"):null,e.sku?"SKU: ".concat(e.sku):null].filter(Boolean),inStock:"Out of Stock"!==e.availabilityStatus&&e.stock>0,prime:e.price<100||(e.shippingInformation||"").toLowerCase().includes("overnight")}}const EE="dummyjson_v2_products",IE=36e5;function TE(){try{const e=localStorage.getItem(EE);if(!e)return null;const{ts:t,data:n}=JSON.parse(e);if(Date.now()-t<IE)return n}catch(e){}return null}async function xE(){const e=TE();if(e)return e;const t=await fetch("".concat(bE,"/products?limit=194&select=id,title,description,category,price,rating,stock,discountPercentage,brand,thumbnail,images,sku,warrantyInformation,shippingInformation,returnPolicy,availabilityStatus,reviews,tags"));if(!t.ok)throw new Error("DummyJSON error: ".concat(t.status));const n=(await t.json()).products.map(kE);return function(e){try{localStorage.setItem(EE,JSON.stringify({ts:Date.now(),data:e}))}catch(t){}}(n),n}function CE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{let t=!1;return s(!0),a(null),xE().then((r=>{if(t)return;const i=e?r.filter((t=>t.category===e)):r;n(i),s(!1)})).catch((e=>{t||(a(e.message||"Failed to load products"),s(!1))})),()=>{t=!0}}),[e]),{products:t,loading:r,error:o}}function NE(e){const[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(!0),[o,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(!e)return;let t=!1;return s(!0),a(null),n(null),async function(e){const t=TE();if(t){const n=t.find((t=>t.id===String(e)));if(n)return n}const n=await fetch("".concat(bE,"/products/").concat(e));if(!n.ok)throw new Error("Product ".concat(e," not found"));return kE(await n.json())}(e).then((e=>{t||(n(e),s(!1))})).catch((e=>{t||(a(e.message||"Product not found"),s(!1))})),()=>{t=!0}}),[e]),{product:t,loading:r,error:o}}var AE=n(9),PE=n(996);const OE=[{image:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?w=1600&auto=format&fit=crop&q=85",title:"Shop Today's Best Deals",subtitle:"Hundreds of limited-time offers across every category",cta:"See All Deals",ctaLink:"/category/electronics",overlay:"rgba(10,20,40,0.52)"},{image:"https://images.unsplash.com/photo-1593642632559-0c6d3fc62b89?w=1600&auto=format&fit=crop&q=85",title:"Electronics & Gadgets",subtitle:"The latest smartphones, laptops, and smart devices",cta:"Explore Electronics",ctaLink:"/category/electronics",overlay:"rgba(0,10,30,0.50)"},{image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1600&auto=format&fit=crop&q=85",title:"Fashion Favourites",subtitle:"Curated styles for every occasion \u2014 men's, women's & more",cta:"Browse Fashion",ctaLink:"/category/fashion",overlay:"rgba(20,5,5,0.48)"},{image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1600&auto=format&fit=crop&q=85",title:"Home & Kitchen",subtitle:"Transform your space with top-rated home essentials",cta:"Shop Home",ctaLink:"/category/home-kitchen",overlay:"rgba(0,15,20,0.45)"},{image:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=1600&auto=format&fit=crop&q=85",title:"Beauty & Skincare",subtitle:"Premium beauty products loved by millions",cta:"Shop Beauty",ctaLink:"/category/beauty",overlay:"rgba(30,0,20,0.45)"}];function RE(){const[e,t]=(0,i.useState)(0),[n,r]=(0,i.useState)(!1),s=(0,i.useCallback)((e=>{n||(r(!0),t((e+OE.length)%OE.length),setTimeout((()=>r(!1)),600))}),[n]);(0,i.useEffect)((()=>{const t=setInterval((()=>s(e+1)),5e3);return()=>clearInterval(t)}),[e,s]);const o=OE[e];return(0,Ae.jsxs)("div",{className:"hero",children:[OE.map(((t,n)=>(0,Ae.jsx)("div",{className:"hero__slide ".concat(n===e?"hero__slide--active":""),style:{backgroundImage:"linear-gradient(".concat(t.overlay,", ").concat(t.overlay,"), url('").concat(t.image,"')")}},n))),(0,Ae.jsx)("div",{className:"hero__content",children:(0,Ae.jsxs)("div",{className:"hero__text",children:[(0,Ae.jsx)("h2",{className:"hero__title",children:o.title}),(0,Ae.jsx)("p",{className:"hero__subtitle",children:o.subtitle}),(0,Ae.jsx)(xe,{to:o.ctaLink,className:"hero__cta",children:o.cta})]})}),(0,Ae.jsx)("button",{className:"hero__arrow hero__arrow--left",onClick:()=>s(e-1),"aria-label":"Previous slide",children:(0,Ae.jsx)(AE.Z,{style:{fontSize:36}})}),(0,Ae.jsx)("button",{className:"hero__arrow hero__arrow--right",onClick:()=>s(e+1),"aria-label":"Next slide",children:(0,Ae.jsx)(PE.Z,{style:{fontSize:36}})}),(0,Ae.jsx)("div",{className:"hero__dots",children:OE.map(((t,n)=>(0,Ae.jsx)("button",{className:"hero__dot ".concat(n===e?"hero__dot--active":""),onClick:()=>s(n),"aria-label":"Go to slide ".concat(n+1)},n)))}),(0,Ae.jsx)("div",{className:"hero__progress"},e)]})}function DE(e){let{products:t,loading:n}=e;return n?(0,Ae.jsx)("div",{className:"home__row",children:Array(4).fill(0).map(((e,t)=>(0,Ae.jsxs)("div",{className:"product product--skeleton",children:[(0,Ae.jsx)("div",{className:"skeleton skeleton--image"}),(0,Ae.jsx)("div",{className:"skeleton skeleton--title"}),(0,Ae.jsx)("div",{className:"skeleton skeleton--price"})]},t)))}):(0,Ae.jsx)("div",{className:"home__row",children:t.map((e=>(0,Ae.jsx)(vE,{id:e.id,title:e.title,price:e.price,rating:e.rating,image:e.image},e.id)))})}const LE=function(){const{products:e,loading:t,error:n}=CE(),r=e.filter((e=>"electronics"===e.category)).slice(0,4),i=e.filter((e=>"fashion"===e.category)).slice(0,4),s=e.filter((e=>"beauty"===e.category)).slice(0,4),o=e.filter((e=>"home-kitchen"===e.category)).slice(0,4),a=e.filter((e=>"Deal"===e.badge||"Top Rated"===e.badge)).slice(0,4),c=e.filter((e=>"sports"===e.category)).slice(0,4);return(0,Ae.jsxs)("div",{className:"home",children:[(0,Ae.jsx)(RE,{}),(0,Ae.jsxs)("div",{className:"home__section",children:[n&&(0,Ae.jsxs)("p",{style:{color:"red",padding:"16px"},children:["Could not load products: ",n]}),(0,Ae.jsx)("h2",{className:"home__sectionTitle",children:"Shop by Category"}),(0,Ae.jsx)("div",{className:"home__categories",children:wE.map((e=>(0,Ae.jsxs)(xe,{to:"/category/".concat(e.id),className:"home__catCard",style:{borderTopColor:e.color},children:[(0,Ae.jsx)("span",{className:"home__catEmoji",children:e.emoji}),(0,Ae.jsx)("span",{className:"home__catLabel",children:e.label}),(0,Ae.jsx)("span",{className:"home__catShop",style:{color:e.color},children:"Shop now \u203a"})]},e.id)))}),(0,Ae.jsx)("h2",{className:"home__sectionTitle",children:"Electronics & Gadgets"}),(0,Ae.jsx)(DE,{products:r,loading:t}),(0,Ae.jsx)("h2",{className:"home__sectionTitle",children:"Fashion Favourites"}),(0,Ae.jsx)(DE,{products:i,loading:t}),(0,Ae.jsx)("h2",{className:"home__sectionTitle",children:"Beauty & Skincare"}),(0,Ae.jsx)(DE,{products:s,loading:t}),(0,Ae.jsx)("h2",{className:"home__sectionTitle",children:"Today's Best Deals"}),(0,Ae.jsx)(DE,{products:a,loading:t}),(0,Ae.jsx)("h2",{className:"home__sectionTitle",children:"Home & Kitchen"}),(0,Ae.jsx)(DE,{products:o,loading:t}),(0,Ae.jsx)("h2",{className:"home__sectionTitle",children:"Sports & Fitness"}),(0,Ae.jsx)(DE,{products:c,loading:t})]})]})};const jE=function(){var e,t;const[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),a=ee(),c=(null===(e=Z().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";return(0,Ae.jsxs)("div",{className:"login",children:[(0,Ae.jsx)(xe,{to:"/",children:(0,Ae.jsx)("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"Amazon Logo"})}),(0,Ae.jsxs)("div",{className:"login__container",children:[(0,Ae.jsx)("h1",{children:"Sign in"}),(0,Ae.jsxs)("form",{children:[(0,Ae.jsxs)("div",{className:"login__formGroup",children:[(0,Ae.jsx)("label",{htmlFor:"login-email",children:"Email or mobile phone number"}),(0,Ae.jsx)("input",{id:"login-email",type:"text",placeholder:"email@example.com",value:n,onChange:e=>r(e.target.value)})]}),(0,Ae.jsxs)("div",{className:"login__formGroup",children:[(0,Ae.jsx)("label",{htmlFor:"login-password",children:"Password"}),(0,Ae.jsx)("input",{id:"login-password",type:"password",placeholder:"At least 6 characters",value:s,onChange:e=>o(e.target.value)})]}),(0,Ae.jsx)("span",{className:"login__forgot",children:"Forgot your password?"}),(0,Ae.jsx)("button",{type:"submit",onClick:async e=>{e.preventDefault();try{await iE.signInWithEmailAndPassword(n,s),a(c,{replace:!0})}catch(t){alert(t.message)}},className:"login__signInButton",children:"Sign In"})]}),(0,Ae.jsxs)("p",{className:"login__legalText",children:["By continuing, you agree to Amazon's"," ",(0,Ae.jsx)("a",{href:"#",children:"Conditions of Use"})," and"," ",(0,Ae.jsx)("a",{href:"#",children:"Privacy Notice"}),"."]}),(0,Ae.jsx)("div",{className:"login__divider",children:(0,Ae.jsx)("span",{children:"New to Amazon?"})}),(0,Ae.jsx)("button",{onClick:async e=>{e.preventDefault();try{await iE.createUserWithEmailAndPassword(n,s),a(c,{replace:!0})}catch(t){alert(t.message)}},className:"login__registerButton",children:"Create your Amazon Account"})]})]})};var ME=n(127);const FE=function(){const e=ee(),[{basket:t,user:n},r]=Re(),[s,o]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),d=(0,i.useMemo)((()=>oE(t)),[t]),h=(0,i.useMemo)((()=>s?.9*d:d),[d,s]),f=(0,i.useMemo)((()=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h)),[h]);return(0,Ae.jsxs)("div",{className:"subtotal",children:[t.length>0&&(0,Ae.jsxs)("p",{className:"subtotal__line",children:["Subtotal (",t.length," item",1!==t.length&&"s","):"," ",(0,Ae.jsx)("strong",{children:f})]}),(0,Ae.jsxs)("small",{className:"subtotal__gift",children:[(0,Ae.jsx)("input",{type:"checkbox","aria-label":"This order contains a gift"}),"This order contains a gift"]}),s&&(0,Ae.jsx)("input",{type:"text",placeholder:"Enter promo code",value:s,onChange:e=>o(e.target.value)}),(0,Ae.jsx)("button",{className:0===t.length?"subtotal__btn subtotal__btn--disabled":"subtotal__btn",onClick:()=>0===t.length?(c(!0),void u(!1)):n?(c(!1),u(!1),void e("/Payment")):(c(!1),void u(!0)),"aria-label":"Proceed to checkout",children:"Proceed to Checkout"}),a&&(0,Ae.jsxs)("div",{className:"subtotal__emptyError",children:[(0,Ae.jsx)(ME.Z,{style:{fontSize:16}}),"Your cart is empty. Please add items before checking out."]}),l&&(0,Ae.jsxs)("div",{className:"subtotal__signInPrompt",children:[(0,Ae.jsx)(ME.Z,{style:{fontSize:16}}),"Please"," ",(0,Ae.jsx)(xe,{to:"/Login",state:{from:{pathname:"/Payment"}},children:"sign in"})," ","to proceed to checkout."]}),(0,Ae.jsx)("p",{className:"subtotal__secure",children:"\ud83d\udd12 Secure checkout"})]})};var UE=n(271),zE=n(419),BE=n(585);const VE=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);const qE=function(e){let{id:t,image:n,title:r,price:i,rating:s,quantity:o=1,hideButton:a}=e;const[{basket:c},l]=Re();return(0,Ae.jsxs)("div",{className:"checkoutProduct",children:[(0,Ae.jsx)("img",{className:"checkoutProduct__image",src:n,alt:r}),(0,Ae.jsxs)("div",{className:"checkoutProduct__info",children:[(0,Ae.jsx)("p",{className:"checkoutProduct__title",children:r}),(0,Ae.jsxs)("p",{className:"checkoutProduct__price",children:[(0,Ae.jsx)("small",{children:"$"}),(0,Ae.jsx)("strong",{children:VE(i*o).replace("$","")}),o>1&&(0,Ae.jsxs)("span",{className:"checkoutProduct__unitPrice",children:["(",VE(i)," each)"]})]}),(0,Ae.jsx)("div",{className:"checkoutProduct__rating",children:Array(5).fill().map(((e,t)=>t<s?(0,Ae.jsx)(mE.Z,{className:"star-filled"},t):(0,Ae.jsx)(gE.Z,{className:"star-empty"},t)))}),(0,Ae.jsx)("span",{className:"checkoutProduct__prime",children:"\u2713 FREE Prime Delivery"}),!a&&(0,Ae.jsxs)("div",{className:"checkoutProduct__actions",children:[(0,Ae.jsxs)("div",{className:"checkoutProduct__qty",children:[(0,Ae.jsx)("button",{className:"checkoutProduct__qtyBtn",onClick:()=>l({type:"DECREMENT_QUANTITY",id:t}),"aria-label":"Decrease quantity",children:(0,Ae.jsx)(BE.Z,{style:{fontSize:14}})}),(0,Ae.jsx)("span",{className:"checkoutProduct__qtyCount",children:o}),(0,Ae.jsx)("button",{className:"checkoutProduct__qtyBtn",onClick:()=>l({type:"INCREMENT_QUANTITY",id:t}),"aria-label":"Increase quantity",children:(0,Ae.jsx)(zE.Z,{style:{fontSize:14}})})]}),(0,Ae.jsx)("span",{className:"checkoutProduct__divider",children:"|"}),(0,Ae.jsxs)("button",{className:"checkoutProduct__removeButton",onClick:()=>l({type:"REMOVE_FROM_BASKET",id:t}),children:[(0,Ae.jsx)(UE.Z,{style:{fontSize:14}}),"Delete"]})]})]})]})};const WE=function(){const[{basket:e,user:t},n]=Re();return(0,Ae.jsxs)("div",{className:"checkout",children:[(0,Ae.jsxs)("div",{className:"checkout__left",children:[(0,Ae.jsx)("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:"Amazon promo"}),0===(null===e||void 0===e?void 0:e.length)?(0,Ae.jsxs)("div",{className:"checkout__empty",children:[(0,Ae.jsx)("h3",{children:"Your Amazon Cart is empty"}),(0,Ae.jsx)("p",{children:(0,Ae.jsx)(xe,{to:"/",children:"Continue shopping"})})]}):(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"checkout__greeting",children:["Hello, ",null===t||void 0===t?void 0:t.email]}),(0,Ae.jsxs)("h2",{className:"checkout__title",children:["Shopping Basket (",aE(e)," item",1!==aE(e)&&"s",")"]}),e.map((e=>(0,Ae.jsx)(qE,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,quantity:e.quantity||1},e.id)))]})]}),(0,Ae.jsx)("div",{className:"checkout__right",children:(0,Ae.jsx)(FE,{})})]})};const HE=function(){const e=ee();return(0,Ae.jsx)("div",{className:"paymentSuccess",children:(0,Ae.jsxs)("div",{className:"paymentSuccess__container",children:[(0,Ae.jsx)("h1",{children:"Payment Successful!"}),(0,Ae.jsx)("p",{children:"Thank you for your purchase."}),(0,Ae.jsx)("button",{className:"paymentSuccess__redirectButton",onClick:()=>{e("/orders")},children:"View Orders"})]})})};var KE=n(69);const GE=function(){const{categoryId:e}=te(),[{basket:t},n]=Re(),r=wE.find((t=>t.id===e)),{products:i,loading:s,error:o}=CE(e);return r?(0,Ae.jsxs)("div",{className:"cp",children:[(0,Ae.jsxs)("nav",{className:"cp__breadcrumb",children:[(0,Ae.jsx)(xe,{to:"/",children:"Home"}),(0,Ae.jsx)("span",{className:"cp__breadcrumbSep",children:" \u203a "}),(0,Ae.jsx)("span",{children:r.label})]}),(0,Ae.jsxs)("div",{className:"cp__header",style:{borderLeftColor:r.color},children:[(0,Ae.jsx)("span",{className:"cp__headerEmoji",children:r.emoji}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h1",{className:"cp__headerTitle",children:r.label}),(0,Ae.jsx)("p",{className:"cp__headerSub",children:s?"Loading\u2026":"".concat(i.length," result").concat(1!==i.length?"s":"")})]})]}),(0,Ae.jsxs)("div",{className:"cp__toolbar",children:[(0,Ae.jsx)("span",{className:"cp__toolbarLabel",children:"Sort by:"}),(0,Ae.jsxs)("select",{className:"cp__sortSelect",children:[(0,Ae.jsx)("option",{children:"Featured"}),(0,Ae.jsx)("option",{children:"Price: Low to High"}),(0,Ae.jsx)("option",{children:"Price: High to Low"}),(0,Ae.jsx)("option",{children:"Avg. Customer Review"}),(0,Ae.jsx)("option",{children:"Newest Arrivals"})]})]}),s&&(0,Ae.jsx)("div",{className:"cp__grid",children:Array(8).fill(null).map(((e,t)=>(0,Ae.jsxs)("div",{className:"cp__card cp__card--skeleton",children:[(0,Ae.jsx)("div",{className:"cp__skeleton cp__skeleton--image"}),(0,Ae.jsxs)("div",{className:"cp__info",children:[(0,Ae.jsx)("div",{className:"cp__skeleton cp__skeleton--title"}),(0,Ae.jsx)("div",{className:"cp__skeleton cp__skeleton--title",style:{width:"60%"}}),(0,Ae.jsx)("div",{className:"cp__skeleton cp__skeleton--price"})]})]},t)))}),o&&!s&&(0,Ae.jsxs)("div",{className:"cp__error",children:[(0,Ae.jsxs)("p",{children:["\u26a0\ufe0f ",o]}),(0,Ae.jsx)(xe,{to:"/",children:"Back to Home"})]}),!s&&!o&&(0,Ae.jsx)("div",{className:"cp__grid",children:i.map((e=>{var t,r,i;return(0,Ae.jsxs)("div",{className:"cp__card",children:[e.badge&&(0,Ae.jsx)("span",{className:"cp__badge",children:e.badge}),(0,Ae.jsx)(xe,{to:"/product/".concat(e.id),className:"cp__imageLink",children:(0,Ae.jsx)("div",{className:"cp__imageWrapper",children:(0,Ae.jsx)("img",{src:e.image,alt:e.title,className:"cp__image"})})}),(0,Ae.jsxs)("div",{className:"cp__info",children:[(0,Ae.jsx)(xe,{to:"/product/".concat(e.id),className:"cp__titleLink",children:(0,Ae.jsx)("h3",{className:"cp__title",children:e.title})}),(0,Ae.jsxs)("div",{className:"cp__ratingRow",children:[(0,Ae.jsx)("div",{className:"cp__stars",children:(i=e.rating,Array(5).fill().map(((e,t)=>t<Math.floor(i)?(0,Ae.jsx)(mE.Z,{className:"cp__star cp__star--filled"},t):t<i?(0,Ae.jsx)(KE.Z,{className:"cp__star cp__star--filled"},t):(0,Ae.jsx)(gE.Z,{className:"cp__star cp__star--empty"},t))))}),(0,Ae.jsxs)("span",{className:"cp__reviewCount",children:["(",null===(t=e.reviewCount)||void 0===t?void 0:t.toLocaleString(),")"]})]}),(0,Ae.jsxs)("p",{className:"cp__price",children:[(0,Ae.jsx)("small",{children:"$"}),(0,Ae.jsx)("strong",{children:(r=e.price,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r)).replace("$","")})]}),e.prime&&(0,Ae.jsx)("span",{className:"cp__prime",children:"\u2713 FREE Prime Delivery"})]}),(0,Ae.jsxs)("div",{className:"cp__actions",children:[(0,Ae.jsx)("button",{className:"cp__addBtn",onClick:()=>(e=>{n({type:"ADD_TO_BASKET",item:{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating}})})(e),children:"Add to Basket"}),(0,Ae.jsx)(xe,{to:"/product/".concat(e.id),className:"cp__detailBtn",children:"See Details"})]})]},e.id)}))}),!s&&!o&&0===i.length&&(0,Ae.jsxs)("div",{className:"cp__empty",children:[(0,Ae.jsx)("p",{children:"No products found in this category yet."}),(0,Ae.jsx)(xe,{to:"/",children:"Continue Shopping"})]})]}):(0,Ae.jsxs)("div",{className:"cp__notFound",children:[(0,Ae.jsx)("h2",{children:"Category not found."}),(0,Ae.jsx)(xe,{to:"/",children:"Back to Home"})]})};var QE=n(524),YE=n(930),JE=n(197),XE=n(946);const ZE=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);const $E=function(){var e;const{productId:t}=te(),[{basket:n},r]=Re(),[s,o]=(0,i.useState)(0),[a,c]=(0,i.useState)(1),[l,u]=(0,i.useState)(!1),{product:d,loading:h,error:f}=NE(t),{products:p}=CE(null===d||void 0===d?void 0:d.category);if(h)return(0,Ae.jsx)("div",{className:"pd__loading",children:(0,Ae.jsxs)("div",{className:"pd__loadingSkeleton",children:[(0,Ae.jsx)("div",{className:"pd__skeletonGallery pd__skeletonBlock"}),(0,Ae.jsxs)("div",{className:"pd__skeletonInfo",children:[(0,Ae.jsx)("div",{className:"pd__skeletonBlock",style:{height:28,width:"70%",marginBottom:16}}),(0,Ae.jsx)("div",{className:"pd__skeletonBlock",style:{height:16,width:"40%",marginBottom:12}}),(0,Ae.jsx)("div",{className:"pd__skeletonBlock",style:{height:32,width:"30%",marginBottom:20}}),(0,Ae.jsx)("div",{className:"pd__skeletonBlock",style:{height:14,marginBottom:8}}),(0,Ae.jsx)("div",{className:"pd__skeletonBlock",style:{height:14,marginBottom:8,width:"90%"}}),(0,Ae.jsx)("div",{className:"pd__skeletonBlock",style:{height:14,width:"80%"}})]})]})});if(f||!d)return(0,Ae.jsxs)("div",{className:"pd__notFound",children:[(0,Ae.jsx)("h2",{children:"Product not found."}),(0,Ae.jsx)(xe,{to:"/",children:"Back to Home"})]});const m=wE.find((e=>e.id===d.category)),g=p.filter((e=>String(e.id)!==String(t))).slice(0,4);return(0,Ae.jsxs)("div",{className:"pd",children:[(0,Ae.jsxs)("nav",{className:"pd__breadcrumb",children:[(0,Ae.jsx)(xe,{to:"/",children:"Home"}),(0,Ae.jsx)("span",{className:"pd__sep",children:" \u203a "}),m&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(xe,{to:"/category/".concat(m.id),children:m.label}),(0,Ae.jsx)("span",{className:"pd__sep",children:" \u203a "})]}),(0,Ae.jsx)("span",{className:"pd__breadcrumbCurrent",children:d.title.length>60?d.title.slice(0,60)+"\u2026":d.title})]}),(0,Ae.jsxs)("div",{className:"pd__main",children:[(0,Ae.jsxs)("div",{className:"pd__gallery",children:[(0,Ae.jsx)("div",{className:"pd__thumbnails",children:(d.images||[d.image]).map(((e,t)=>(0,Ae.jsx)("div",{className:"pd__thumb ".concat(s===t?"pd__thumb--active":""),onClick:()=>o(t),children:(0,Ae.jsx)("img",{src:e,alt:"".concat(d.title," view ").concat(t+1)})},t)))}),(0,Ae.jsxs)("div",{className:"pd__mainImage",children:[d.badge&&(0,Ae.jsx)("span",{className:"pd__badge",children:d.badge}),(0,Ae.jsx)("img",{src:(d.images||[d.image])[s],alt:d.title})]})]}),(0,Ae.jsxs)("div",{className:"pd__info",children:[(0,Ae.jsx)("h1",{className:"pd__title",children:d.title}),m&&(0,Ae.jsxs)(xe,{to:"/category/".concat(m.id),className:"pd__catLink",children:[m.emoji," Visit the ",m.label," Store"]}),(0,Ae.jsxs)("div",{className:"pd__ratingRow",children:[(0,Ae.jsx)("div",{className:"pd__stars",children:(y=d.rating,Array(5).fill().map(((e,t)=>t<Math.floor(y)?(0,Ae.jsx)(mE.Z,{className:"pd__star pd__star--filled"},t):t<y?(0,Ae.jsx)(KE.Z,{className:"pd__star pd__star--filled"},t):(0,Ae.jsx)(gE.Z,{className:"pd__star pd__star--empty"},t))))}),(0,Ae.jsxs)("a",{href:"#reviews",className:"pd__reviewLink",children:[null===(e=d.reviewCount)||void 0===e?void 0:e.toLocaleString()," ratings"]})]}),(0,Ae.jsx)("hr",{className:"pd__divider"}),(0,Ae.jsxs)("div",{className:"pd__priceBlock",children:[(0,Ae.jsx)("span",{className:"pd__priceLabel",children:"Price:"}),(0,Ae.jsxs)("span",{className:"pd__price",children:[(0,Ae.jsx)("span",{className:"pd__priceCurrency",children:"$"}),ZE(d.price).replace("$","")]})]}),d.prime&&(0,Ae.jsxs)("div",{className:"pd__primeRow",children:[(0,Ae.jsx)("span",{className:"pd__primeBadge",children:"prime"}),(0,Ae.jsx)("span",{className:"pd__primeFree",children:"FREE delivery"})]}),(0,Ae.jsx)("hr",{className:"pd__divider"}),(0,Ae.jsx)("p",{className:"pd__description",children:d.description}),d.features&&(0,Ae.jsx)("ul",{className:"pd__features",children:d.features.map(((e,t)=>(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)(XE.Z,{className:"pd__featureIcon"}),e]},t)))})]}),(0,Ae.jsxs)("div",{className:"pd__buyBox",children:[(0,Ae.jsxs)("p",{className:"pd__buyPrice",children:[(0,Ae.jsx)("span",{className:"pd__buyCurrency",children:"$"}),ZE(d.price).replace("$","")]}),d.prime&&(0,Ae.jsxs)("div",{className:"pd__buyPrime",children:[(0,Ae.jsx)(QE.Z,{style:{fontSize:16}}),"FREE Prime Delivery"]}),(0,Ae.jsx)("div",{className:"pd__stockRow",children:(0,Ae.jsx)("span",{className:d.inStock?"pd__inStock":"pd__outStock",children:d.inStock?"In Stock":"Out of Stock"})}),(0,Ae.jsxs)("div",{className:"pd__qtyRow",children:[(0,Ae.jsx)("label",{className:"pd__qtyLabel",children:"Qty:"}),(0,Ae.jsx)("select",{className:"pd__qtySelect",value:a,onChange:e=>c(Number(e.target.value)),disabled:!d.inStock,children:[1,2,3,4,5,6,7,8,9,10].map((e=>(0,Ae.jsx)("option",{value:e,children:e},e)))})]}),(0,Ae.jsxs)("button",{className:"pd__addToCartBtn ".concat(l?"pd__addToCartBtn--success":""),onClick:()=>{for(let e=0;e<a;e++)r({type:"ADD_TO_BASKET",item:{id:d.id,title:d.title,image:d.image,price:d.price,rating:d.rating}});u(!0),setTimeout((()=>u(!1)),2500)},disabled:!d.inStock,children:[(0,Ae.jsx)(uE.Z,{style:{fontSize:18}}),l?"Added to Cart!":"Add to Cart"]}),(0,Ae.jsx)(xe,{to:"/checkout",className:"pd__buyNowBtn",children:"Buy Now"}),(0,Ae.jsxs)("div",{className:"pd__trust",children:[(0,Ae.jsxs)("div",{className:"pd__trustItem",children:[(0,Ae.jsx)(JE.Z,{style:{fontSize:16,color:"#555"}}),"Secure transaction"]}),(0,Ae.jsxs)("div",{className:"pd__trustItem",children:[(0,Ae.jsx)(YE.Z,{style:{fontSize:16,color:"#555"}}),"Ships from & sold by Amazon"]})]}),(0,Ae.jsxs)(xe,{to:"/checkout",className:"pd__viewCart",children:[(0,Ae.jsx)(uE.Z,{style:{fontSize:14}}),"View Cart (",(null===n||void 0===n?void 0:n.length)||0,")"]})]})]}),g.length>0&&(0,Ae.jsxs)("div",{className:"pd__related",children:[(0,Ae.jsx)("h2",{className:"pd__relatedTitle",children:"Customers who viewed this also viewed"}),(0,Ae.jsx)("div",{className:"pd__relatedGrid",children:g.map((e=>(0,Ae.jsx)(vE,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating},e.id)))})]}),(0,Ae.jsx)("div",{id:"reviews",className:"pd__reviewsAnchor"})]});var y};var eI="https://js.stripe.com/v3",tI=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,nI="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",rI=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(eI).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},iI=null,sI=null,oI=null,aI=function(e){return null!==iI?iI:(iI=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(nI),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(eI,'"]')),t=0;t<e.length;t++){var n=e[t];if(tI.test(n.src))return n}return null}();if(r&&e)console.warn(nI);else if(r){if(r&&null!==oI&&null!==sI){var i;r.removeEventListener("load",oI),r.removeEventListener("error",sI),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=rI(e)}}else r=rI(e);oI=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),sI=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",oI),r.addEventListener("error",sI)}catch(s){return void n(s)}else t(null)}))).catch((function(e){return iI=null,Promise.reject(e)}))},cI=Promise.resolve().then((function(){return aI(null)})),lI=!1;cI.catch((function(e){lI||console.warn(e)}));var uI=n(764);const dI=()=>(0,Ae.jsxs)("footer",{children:[(0,Ae.jsx)("div",{className:"footer__topBar",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Back to top"}),(0,Ae.jsxs)("div",{className:"footer__main",children:[(0,Ae.jsxs)("div",{className:"footer__section",children:[(0,Ae.jsx)("h4",{children:"Get to Know Us"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Careers"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Blog"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"About Amazon"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Investor Relations"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Amazon Devices"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Amazon Science"})})]})]}),(0,Ae.jsxs)("div",{className:"footer__section",children:[(0,Ae.jsx)("h4",{children:"Make Money with Us"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Sell products on Amazon"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Sell on Amazon Business"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Sell apps on Amazon"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Become an Affiliate"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Advertise Your Products"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Self-Publish with Us"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Host an Amazon Hub"})})]})]}),(0,Ae.jsxs)("div",{className:"footer__section",children:[(0,Ae.jsx)("h4",{children:"Amazon Payment Products"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Amazon Business Card"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Shop with Points"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Reload Your Balance"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Amazon Currency Converter"})})]})]}),(0,Ae.jsxs)("div",{className:"footer__section",children:[(0,Ae.jsx)("h4",{children:"Let Us Help You"}),(0,Ae.jsxs)("ul",{children:[(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Your Account"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Your Orders"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Shipping Rates & Policies"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Returns & Replacements"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Manage Content & Devices"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Amazon Assistant"})}),(0,Ae.jsx)("li",{children:(0,Ae.jsx)("a",{href:"#",children:"Help"})})]})]})]}),(0,Ae.jsxs)("div",{className:"footer__sub",children:[(0,Ae.jsxs)("div",{className:"footer__subLinks",children:[(0,Ae.jsx)("a",{href:"#",children:"Conditions of Use"}),(0,Ae.jsx)("a",{href:"#",children:"Privacy Notice"}),(0,Ae.jsx)("a",{href:"#",children:"Your Ads Privacy Choices"}),(0,Ae.jsx)("a",{href:"#",children:"Interest-Based Ads"}),(0,Ae.jsx)("a",{href:"#",children:"Cookie Preferences"})]}),(0,Ae.jsx)("p",{className:"footer__copyright",children:"\xa9 1996\u20132026, Amazon.com, Inc. or its affiliates"})]})]});function hI(e,t){return function(){return e.apply(t,arguments)}}const{toString:fI}=Object.prototype,{getPrototypeOf:pI}=Object,mI=(gI=Object.create(null),e=>{const t=fI.call(e);return gI[t]||(gI[t]=t.slice(8,-1).toLowerCase())});var gI;const yI=e=>(e=e.toLowerCase(),t=>mI(t)===e),vI=e=>t=>typeof t===e,{isArray:wI}=Array,bI=vI("undefined");const _I=yI("ArrayBuffer");const SI=vI("string"),kI=vI("function"),EI=vI("number"),II=e=>null!==e&&"object"===typeof e,TI=e=>{if("object"!==mI(e))return!1;const t=pI(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xI=yI("Date"),CI=yI("File"),NI=yI("Blob"),AI=yI("FileList"),PI=yI("URLSearchParams");function OI(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),wI(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function RI(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const DI="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,LI=e=>!bI(e)&&e!==DI;const jI=(MI="undefined"!==typeof Uint8Array&&pI(Uint8Array),e=>MI&&e instanceof MI);var MI;const FI=yI("HTMLFormElement"),UI=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),zI=yI("RegExp"),BI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};OI(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},VI="abcdefghijklmnopqrstuvwxyz",qI="0123456789",WI={DIGIT:qI,ALPHA:VI,ALPHA_DIGIT:VI+VI.toUpperCase()+qI};const HI=yI("AsyncFunction"),KI={isArray:wI,isArrayBuffer:_I,isBuffer:function(e){return null!==e&&!bI(e)&&null!==e.constructor&&!bI(e.constructor)&&kI(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||kI(e.append)&&("formdata"===(t=mI(e))||"object"===t&&kI(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&_I(e.buffer),t},isString:SI,isNumber:EI,isBoolean:e=>!0===e||!1===e,isObject:II,isPlainObject:TI,isUndefined:bI,isDate:xI,isFile:CI,isBlob:NI,isRegExp:zI,isFunction:kI,isStream:e=>II(e)&&kI(e.pipe),isURLSearchParams:PI,isTypedArray:jI,isFileList:AI,forEach:OI,merge:function e(){const{caseless:t}=LI(this)&&this||{},n={},r=(r,i)=>{const s=t&&RI(n,i)||i;TI(n[s])&&TI(r)?n[s]=e(n[s],r):TI(r)?n[s]=e({},r):wI(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&OI(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return OI(t,((t,r)=>{n&&kI(t)?e[r]=hI(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&pI(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:mI,kindOfTest:yI,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(wI(e))return e;let t=e.length;if(!EI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:FI,hasOwnProperty:UI,hasOwnProp:UI,reduceDescriptors:BI,freezeMethods:e=>{BI(e,((t,n)=>{if(kI(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];kI(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return wI(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:RI,global:DI,isContextDefined:LI,ALPHABET:WI,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WI.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&kI(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(II(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=wI(e)?[]:{};return OI(e,((e,t)=>{const s=n(e,r+1);!bI(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:HI,isThenable:e=>e&&(II(e)||kI(e))&&kI(e.then)&&kI(e.catch)};function GI(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}KI.inherits(GI,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:KI.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const QI=GI.prototype,YI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{YI[e]={value:e}})),Object.defineProperties(GI,YI),Object.defineProperty(QI,"isAxiosError",{value:!0}),GI.from=(e,t,n,r,i,s)=>{const o=Object.create(QI);return KI.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),GI.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const JI=GI;function XI(e){return KI.isPlainObject(e)||KI.isArray(e)}function ZI(e){return KI.endsWith(e,"[]")?e.slice(0,-2):e}function $I(e,t,n){return e?e.concat(t).map((function(e,t){return e=ZI(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const eT=KI.toFlatObject(KI,{},null,(function(e){return/^is[A-Z]/.test(e)}));const tT=function(e,t,n){if(!KI.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=KI.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!KI.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&KI.isSpecCompliantForm(t);if(!KI.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(KI.isDate(e))return e.toISOString();if(!a&&KI.isBlob(e))throw new JI("Blob is not supported. Use a Buffer instead.");return KI.isArrayBuffer(e)||KI.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(KI.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(KI.isArray(e)&&function(e){return KI.isArray(e)&&!e.some(XI)}(e)||(KI.isFileList(e)||KI.endsWith(n,"[]"))&&(a=KI.toArray(e)))return n=ZI(n),a.forEach((function(e,r){!KI.isUndefined(e)&&null!==e&&t.append(!0===o?$I([n],r,s):null===o?n:n+"[]",c(e))})),!1;return!!XI(e)||(t.append($I(i,n,s),c(e)),!1)}const u=[],d=Object.assign(eT,{defaultVisitor:l,convertValue:c,isVisitable:XI});if(!KI.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!KI.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),KI.forEach(n,(function(n,s){!0===(!(KI.isUndefined(n)||null===n)&&i.call(t,n,KI.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function nT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function rT(e,t){this._pairs=[],e&&tT(e,this,t)}const iT=rT.prototype;iT.append=function(e,t){this._pairs.push([e,t])},iT.toString=function(e){const t=e?function(t){return e.call(this,t,nT)}:nT;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const sT=rT;function oT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aT(e,t,n){if(!t)return e;const r=n&&n.encode||oT,i=n&&n.serialize;let s;if(s=i?i(t,n):KI.isURLSearchParams(t)?t.toString():new sT(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const cT=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){KI.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},lT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uT={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:sT,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},dT="undefined"!==typeof window&&"undefined"!==typeof document,hT=(fT="undefined"!==typeof navigator&&navigator.product,dT&&["ReactNative","NativeScript","NS"].indexOf(fT)<0);var fT;const pT="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,mT={...t,...uT};const gT=function(e){function t(e,n,r,i){let s=e[i++];const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&KI.isArray(r)?r.length:s,a)return KI.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&KI.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&KI.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(KI.isFormData(e)&&KI.isFunction(e.entries)){const n={};return KI.forEachEntry(e,((e,r)=>{t(function(e){return KI.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const yT={transitional:lT,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=KI.isObject(e);i&&KI.isHTMLForm(e)&&(e=new FormData(e));if(KI.isFormData(e))return r&&r?JSON.stringify(gT(e)):e;if(KI.isArrayBuffer(e)||KI.isBuffer(e)||KI.isStream(e)||KI.isFile(e)||KI.isBlob(e))return e;if(KI.isArrayBufferView(e))return e.buffer;if(KI.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return tT(e,new mT.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return mT.isNode&&KI.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=KI.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return tT(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(KI.isString(e))try{return(t||JSON.parse)(e),KI.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||yT.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&KI.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw JI.from(i,JI.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mT.classes.FormData,Blob:mT.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};KI.forEach(["delete","get","head","post","put","patch"],(e=>{yT.headers[e]={}}));const vT=yT,wT=KI.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bT=Symbol("internals");function _T(e){return e&&String(e).trim().toLowerCase()}function ST(e){return!1===e||null==e?e:KI.isArray(e)?e.map(ST):String(e)}function kT(e,t,n,r,i){return KI.isFunction(r)?r.call(this,t,n):(i&&(t=n),KI.isString(t)?KI.isString(r)?-1!==t.indexOf(r):KI.isRegExp(r)?r.test(t):void 0:void 0)}class ET{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=_T(t);if(!i)throw new Error("header name must be a non-empty string");const s=KI.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=ST(e))}const s=(e,t)=>KI.forEach(e,((e,n)=>i(e,n,t)));return KI.isPlainObject(e)||e instanceof this.constructor?s(e,t):KI.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&wT[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=_T(e)){const n=KI.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(KI.isFunction(t))return t.call(this,e,n);if(KI.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=_T(e)){const n=KI.findKey(this,e);return!(!n||void 0===this[n]||t&&!kT(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=_T(e)){const i=KI.findKey(n,e);!i||t&&!kT(0,n[i],i,t)||(delete n[i],r=!0)}}return KI.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!kT(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return KI.forEach(this,((r,i)=>{const s=KI.findKey(n,i);if(s)return t[s]=ST(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=ST(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return KI.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&KI.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[bT]=this[bT]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=_T(e);t[r]||(!function(e,t){const n=KI.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return KI.isArray(e)?e.forEach(r):r(e),this}}ET.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),KI.reduceDescriptors(ET.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),KI.freezeMethods(ET);const IT=ET;function TT(e,t){const n=this||vT,r=t||n,i=IT.from(r.headers);let s=r.data;return KI.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function xT(e){return!(!e||!e.__CANCEL__)}function CT(e,t,n){JI.call(this,null==e?"canceled":e,JI.ERR_CANCELED,t,n),this.name="CanceledError"}KI.inherits(CT,JI,{__CANCEL__:!0});const NT=CT;const AT=mT.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];KI.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),KI.isString(r)&&o.push("path="+r),KI.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function PT(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const OT=mT.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=KI.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const RT=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=r[o];i||(i=c),n[s]=a,r[s]=c;let u=o,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}};function DT(e,t){let n=0;const r=RT(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,c=r(a);n=s;const l={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}const LT="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=IT.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:c}=e;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(KI.isFormData(r))if(mT.hasStandardBrowserEnv||mT.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=PT(e.baseURL,e.url);function h(){if(!u)return;const r=IT.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new JI("Request failed with status code "+n.status,[JI.ERR_BAD_REQUEST,JI.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),l()}),(function(e){n(e),l()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),aT(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new JI("Request aborted",JI.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new JI("Network Error",JI.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||lT;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new JI(t,r.clarifyTimeoutError?JI.ETIMEDOUT:JI.ECONNABORTED,e,u)),u=null},mT.hasStandardBrowserEnv&&(c&&KI.isFunction(c)&&(c=c(e)),c||!1!==c&&OT(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&AT.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&KI.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),KI.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",DT(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",DT(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new NT(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);f&&-1===mT.protocols.indexOf(f)?n(new JI("Unsupported protocol "+f+":",JI.ERR_BAD_REQUEST,e)):u.send(r||null)}))},jT={http:null,xhr:LT};KI.forEach(jT,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const MT=e=>"- ".concat(e),FT=e=>KI.isFunction(e)||null===e||!1===e,UT=e=>{e=KI.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!FT(n)&&(r=jT[(t=String(n)).toLowerCase()],void 0===r))throw new JI("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(MT).join("\n"):" "+MT(e[0]):"as no adapter specified";throw new JI("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function zT(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new NT(null,e)}function BT(e){zT(e),e.headers=IT.from(e.headers),e.data=TT.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return UT(e.adapter||vT.adapter)(e).then((function(t){return zT(e),t.data=TT.call(e,e.transformResponse,t),t.headers=IT.from(t.headers),t}),(function(t){return xT(t)||(zT(e),t&&t.response&&(t.response.data=TT.call(e,e.transformResponse,t.response),t.response.headers=IT.from(t.response.headers))),Promise.reject(t)}))}const VT=e=>e instanceof IT?e.toJSON():e;function qT(e,t){t=t||{};const n={};function r(e,t,n){return KI.isPlainObject(e)&&KI.isPlainObject(t)?KI.merge.call({caseless:n},e,t):KI.isPlainObject(t)?KI.merge({},t):KI.isArray(t)?t.slice():t}function i(e,t,n){return KI.isUndefined(t)?KI.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!KI.isUndefined(t))return r(void 0,t)}function o(e,t){return KI.isUndefined(t)?KI.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(VT(e),VT(t),!0)};return KI.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=c[r]||i,o=s(e[r],t[r],r);KI.isUndefined(o)&&s!==a||(n[r]=o)})),n}const WT="1.6.2",HT={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{HT[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const KT={};HT.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new JI(r(i," has been removed"+(t?" in "+t:"")),JI.ERR_DEPRECATED);return t&&!KT[i]&&(KT[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const GT={assertOptions:function(e,t,n){if("object"!==typeof e)throw new JI("options must be an object",JI.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new JI("option "+s+" must be "+n,JI.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new JI("Unknown option "+s,JI.ERR_BAD_OPTION)}},validators:HT},QT=GT.validators;class YT{constructor(e){this.defaults=e,this.interceptors={request:new cT,response:new cT}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=qT(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&GT.assertOptions(n,{silentJSONParsing:QT.transitional(QT.boolean),forcedJSONParsing:QT.transitional(QT.boolean),clarifyTimeoutError:QT.transitional(QT.boolean)},!1),null!=r&&(KI.isFunction(r)?t.paramsSerializer={serialize:r}:GT.assertOptions(r,{encode:QT.function,serialize:QT.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&KI.merge(i.common,i[t.method]);i&&KI.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=IT.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[BT.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{l=BT.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return aT(PT((e=qT(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}KI.forEach(["delete","get","head","options"],(function(e){YT.prototype[e]=function(t,n){return this.request(qT(n||{},{method:e,url:t,data:(n||{}).data}))}})),KI.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(qT(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}YT.prototype[e]=t(),YT.prototype[e+"Form"]=t(!0)}));const JT=YT;class XT{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new NT(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new XT((function(t){e=t})),cancel:e}}}const ZT=XT;const $T={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($T).forEach((e=>{let[t,n]=e;$T[n]=t}));const ex=$T;const tx=function e(t){const n=new JT(t),r=hI(JT.prototype.request,n);return KI.extend(r,JT.prototype,n,{allOwnKeys:!0}),KI.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(qT(t,n))},r}(vT);tx.Axios=JT,tx.CanceledError=NT,tx.CancelToken=ZT,tx.isCancel=xT,tx.VERSION=WT,tx.toFormData=tT,tx.AxiosError=JI,tx.Cancel=tx.CanceledError,tx.all=function(e){return Promise.all(e)},tx.spread=function(e){return function(t){return e.apply(null,t)}},tx.isAxiosError=function(e){return KI.isObject(e)&&!0===e.isAxiosError},tx.mergeConfig=qT,tx.AxiosHeaders=IT,tx.formToJSON=e=>gT(KI.isHTMLForm(e)?new FormData(e):e),tx.getAdapter=UT,tx.HttpStatusCode=ex,tx.default=tx;const nx=tx.create({baseURL:"https://amzone-backen.onrender.com"});const rx=function(){const[{basket:e,user:t},n]=Re(),r=ee(),s=(0,uI.useStripe)(),o=(0,uI.useElements)(),[a,c]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!0),[m,g]=(0,i.useState)(""),[y,v]=(0,i.useState)(!1),[w,b]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(null===e||void 0===e||!e.length)return;(async()=>{v(!0),b(null);try{const t=Math.round(100*oE(e));if(t<1)throw new Error("Invalid total amount");const n=await nx.post("/payments/create?total=".concat(t));g(n.data.clientSecret)}catch(t){console.error("Error getting client secret:",t),b("Unable to reach the payment server. Please try again later.")}finally{v(!1)}})()}),[e]),(0,Ae.jsx)("div",{className:"payment",children:(0,Ae.jsxs)("div",{className:"payment__container",children:[(0,Ae.jsxs)("h1",{children:["Checkout (",(0,Ae.jsxs)(xe,{to:"/checkout",children:[null===e||void 0===e?void 0:e.length," items"]}),")"]}),(0,Ae.jsxs)("div",{className:"payment__section",children:[(0,Ae.jsx)("div",{className:"payment__title",children:(0,Ae.jsx)("h3",{children:"Delivery Address"})}),(0,Ae.jsxs)("div",{className:"payment__address",children:[(0,Ae.jsx)("p",{children:null===t||void 0===t?void 0:t.email}),(0,Ae.jsx)("p",{children:"123 React Lane"}),(0,Ae.jsx)("p",{children:"Los Angeles, CA"})]})]}),(0,Ae.jsxs)("div",{className:"payment__section",children:[(0,Ae.jsx)("div",{className:"payment__title",children:(0,Ae.jsx)("h3",{children:"Review items and delivery"})}),(0,Ae.jsx)("div",{className:"payment__items",children:e.map((e=>(0,Ae.jsx)(qE,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating},e.id)))})]}),(0,Ae.jsxs)("div",{className:"payment__section",children:[(0,Ae.jsx)("div",{className:"payment__title",children:(0,Ae.jsx)("h3",{children:"Payment Method"})}),(0,Ae.jsxs)("div",{className:"payment__details",children:[w&&(0,Ae.jsxs)("div",{className:"payment__error payment__error--fatal",children:["\u26a0\ufe0f ",w]}),y&&(0,Ae.jsx)("div",{className:"payment__info",children:"Preparing secure payment\u2026"}),(0,Ae.jsxs)("form",{onSubmit:async i=>{if(i.preventDefault(),!m)return void h("Payment is not ready yet. Please wait a moment and try again.");u(!0);await s.confirmCardPayment(m,{payment_method:{card:o.getElement(uI.CardElement)}}).then((i=>{let{paymentIntent:s}=i;sE.collection("users").doc(null===t||void 0===t?void 0:t.uid).collection("orders").doc(s.id).set({basket:e,amount:s.amount,created:s.created}),c(!0),h(null),u(!1),n({type:"EMPTY_BASKET"}),r("/PaymentSuccess")}))},children:[(0,Ae.jsx)(uI.CardElement,{onChange:e=>{p(e.empty),h(e.error?e.error.message:"")}}),(0,Ae.jsxs)("div",{className:"payment__priceContainer",children:[(0,Ae.jsxs)("h3",{children:["Order Total: $",oE(e).toFixed(2).toLocaleString()]}),(0,Ae.jsx)("button",{disabled:l||f||a||y||!!w||!m,children:(0,Ae.jsx)("span",{children:l?(0,Ae.jsx)("p",{children:"Processing"}):y?"Loading\u2026":"Buy Now"})})]}),d&&(0,Ae.jsx)("div",{className:"payment__error",children:d})]})]})]})]})})};function ix(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function sx(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function ox(e){if(!ix(e)&&"number"!==typeof e)return!1;const t=sx(e);return!isNaN(Number(t))}const ax={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function cx(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const lx={date:cx({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:cx({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:cx({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ux={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function dx(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function hx(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,(e=>e.test(o)));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;return{value:l,rest:t.slice(o.length)}}}var fx;const px={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=ax[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:lx,formatRelative:(e,t,n,r)=>ux[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:dx({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:dx({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:dx({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:dx({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:dx({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(fx={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(fx.matchPattern);if(!n)return null;const r=n[0],i=e.match(fx.parsePattern);if(!i)return null;let s=fx.valueCallback?fx.valueCallback(i[0]):i[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:hx({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:hx({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:hx({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:hx({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:hx({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let mx={};function gx(){return mx}Math.pow(10,8);const yx=6048e5,vx=864e5;function wx(e){const t=sx(e);return t.setHours(0,0,0,0),t}function bx(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function _x(e,t){const n=wx(e),r=wx(t),i=n.getTime()-bx(n),s=r.getTime()-bx(r);return Math.round((i-s)/vx)}function Sx(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function kx(e){const t=sx(e),n=Sx(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ex(e){const t=sx(e);return _x(t,kx(t))+1}function Ix(e,t){var n,r,i,s,o,a;const c=gx(),l=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==r?r:null===(a=c.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=sx(e),d=u.getDay(),h=(d<l?7:0)+d-l;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function Tx(e){return Ix(e,{weekStartsOn:1})}function xx(e){const t=sx(e),n=t.getFullYear(),r=Sx(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Tx(r),s=Sx(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Tx(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Cx(e){const t=xx(e),n=Sx(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Tx(n)}function Nx(e){const t=sx(e),n=Tx(t).getTime()-Cx(t).getTime();return Math.round(n/yx)+1}function Ax(e,t){var n,r,i,s,o,a;const c=sx(e),l=c.getFullYear(),u=gx(),d=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(a=u.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,h=Sx(e,0);h.setFullYear(l+1,0,d),h.setHours(0,0,0,0);const f=Ix(h,t),p=Sx(e,0);p.setFullYear(l,0,d),p.setHours(0,0,0,0);const m=Ix(p,t);return c.getTime()>=f.getTime()?l+1:c.getTime()>=m.getTime()?l:l-1}function Px(e,t){var n,r,i,s,o,a;const c=gx(),l=null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(a=c.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,u=Ax(e,t),d=Sx(e,0);d.setFullYear(u,0,l),d.setHours(0,0,0,0);return Ix(d,t)}function Ox(e,t){const n=sx(e),r=Ix(n,t).getTime()-Px(n,t).getTime();return Math.round(r/yx)+1}function Rx(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Dx={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Rx("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Rx(n+1,2)},d:(e,t)=>Rx(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Rx(e.getHours()%12||12,t.length),H:(e,t)=>Rx(e.getHours(),t.length),m:(e,t)=>Rx(e.getMinutes(),t.length),s:(e,t)=>Rx(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Rx(Math.floor(r*Math.pow(10,n-3)),t.length)}},Lx="midnight",jx="noon",Mx="morning",Fx="afternoon",Ux="evening",zx="night",Bx={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Dx.y(e,t)},Y:function(e,t,n,r){const i=Ax(e,r),s=i>0?i:1-i;if("YY"===t){return Rx(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Rx(s,t.length)},R:function(e,t){return Rx(xx(e),t.length)},u:function(e,t){return Rx(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Rx(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Rx(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Dx.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Rx(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Ox(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Rx(i,t.length)},I:function(e,t,n){const r=Nx(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Rx(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Dx.d(e,t)},D:function(e,t,n){const r=Ex(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Rx(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Rx(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Rx(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Rx(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?jx:0===r?Lx:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?Ux:r>=12?Fx:r>=4?Mx:zx,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Dx.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Dx.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Rx(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Rx(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dx.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Dx.s(e,t)},S:function(e,t){return Dx.S(e,t)},X:function(e,t,n,r){const i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return qx(i);case"XXXX":case"XX":return Wx(i);default:return Wx(i,":")}},x:function(e,t,n,r){const i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return qx(i);case"xxxx":case"xx":return Wx(i);default:return Wx(i,":")}},O:function(e,t,n,r){const i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vx(i,":");default:return"GMT"+Wx(i,":")}},z:function(e,t,n,r){const i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vx(i,":");default:return"GMT"+Wx(i,":")}},t:function(e,t,n,r){const i=r._originalDate||e;return Rx(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Rx((r._originalDate||e).getTime(),t.length)}};function Vx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+Rx(s,2)}function qx(e,t){if(e%60===0){return(e>0?"-":"+")+Rx(Math.abs(e)/60,2)}return Wx(e,t)}function Wx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Rx(Math.floor(r/60),2)+t+Rx(r%60,2)}const Hx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Kx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Gx={p:Kx,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Hx(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Hx(r,t)).replace("{{time}}",Kx(i,t))}},Qx=/^D+$/,Yx=/^Y+$/,Jx=["D","DD","YY","YYYY"];function Xx(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),Jx.includes(e))throw new RangeError(r)}const Zx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$x=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eC=/^'([^]*?)'?$/,tC=/''/g,nC=/[a-zA-Z]/;function rC(e,t,n){var r,i,s,o,a,c,l,u,d,h,f,p,m,g;const y=gx(),v=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:y.locale)&&void 0!==r?r:px,w=null!==(s=null!==(o=null!==(a=null!==(c=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null===n||void 0===n||null===(l=n.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:y.firstWeekContainsDate)&&void 0!==o?o:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:1,b=null!==(d=null!==(h=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:y.weekStartsOn)&&void 0!==h?h:null===(g=y.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,_=sx(e);if(!ox(_))throw new RangeError("Invalid time value");const S={firstWeekContainsDate:w,weekStartsOn:b,locale:v,_originalDate:_};return t.match($x).map((function(e){const t=e[0];if("p"===t||"P"===t){return(0,Gx[t])(e,v.formatLong)}return e})).join("").match(Zx).map((function(r){if("''"===r)return"'";const i=r[0];if("'"===i)return function(e){const t=e.match(eC);if(!t)return e;return t[1].replace(tC,"'")}(r);const s=Bx[i];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(o=r,!Yx.test(o))||Xx(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return Qx.test(e)}(r)||Xx(r,t,String(e)),s(_,r,v.localize,S);var o;if(i.match(nC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}const iC=function(e){var t;let{order:n}=e;const r=rC(new Date(1e3*n.data.created),"MMMM do yyyy, h:mma"),i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return(0,Ae.jsxs)("div",{className:"order",children:[(0,Ae.jsxs)("div",{className:"order__header",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{style:{fontWeight:700,fontSize:14},children:"ORDER PLACED"}),(0,Ae.jsx)("p",{className:"order__date",children:r})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"order__total",children:i.format(n.data.amount/100)}),(0,Ae.jsx)("p",{style:{fontSize:11,color:"#555",textAlign:"right"},children:"TOTAL"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{className:"order__id",children:["Order # ",n.id]}),(0,Ae.jsx)(xe,{to:"/checkout",children:(0,Ae.jsx)("button",{style:{background:"none",border:"none",color:"#007185",fontSize:12,cursor:"pointer",padding:0,textDecoration:"underline"},children:"View order details"})})]})]}),null===(t=n.data.basket)||void 0===t?void 0:t.map((e=>(0,Ae.jsx)(qE,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0},e.id)))]})};const sC=function(){const[{basket:e,user:t},n]=Re(),[r,s]=(0,i.useState)([]);return(0,i.useEffect)((()=>{t?sE.collection("users").doc(null===t||void 0===t?void 0:t.uid).collection("orders").orderBy("created","desc").onSnapshot((e=>s(e.docs.map((e=>({id:e.id,data:e.data()})))))):s([])}),[t]),(0,Ae.jsxs)("div",{className:"orders",children:[(0,Ae.jsx)("h1",{children:"Your Orders"}),(0,Ae.jsx)("div",{className:"orders__order",children:null===r||void 0===r?void 0:r.map((e=>(0,Ae.jsx)(iC,{order:e})))})]})},oC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];lI=!0;var r=Date.now();return cI.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.2.1",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51OVLc2HjxnpOvxRWl5YIZ6YlWUdabpFjF1hHlMRS0aNUBrY4LdCjd4jTKgvToLjzeuKhKHePgJosQokqtXu9RL8V002dPdJwiw");function aC(e){let{children:t}=e;const[{user:n}]=Re(),r=Z();return n?t:(0,Ae.jsx)(me,{to:"/Login",state:{from:r},replace:!0})}const cC=function(){const[{basket:e,user:t},n]=Re();return(0,i.useEffect)((()=>{iE.onAuthStateChanged((e=>{n(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,Ae.jsx)(Ee,{children:(0,Ae.jsxs)("div",{className:"app",children:[(0,Ae.jsx)(pE,{}),(0,Ae.jsxs)(ve,{children:[(0,Ae.jsx)(ge,{path:"/",element:(0,Ae.jsx)(LE,{})}),(0,Ae.jsx)(ge,{path:"/login",element:(0,Ae.jsx)(jE,{})}),(0,Ae.jsx)(ge,{path:"/Login",element:(0,Ae.jsx)(jE,{})}),(0,Ae.jsx)(ge,{path:"/checkout",element:(0,Ae.jsx)(aC,{children:(0,Ae.jsx)(WE,{})})}),(0,Ae.jsx)(ge,{path:"/Payment",element:(0,Ae.jsx)(aC,{children:(0,Ae.jsx)(uI.Elements,{stripe:oC,children:(0,Ae.jsx)(rx,{})})})}),(0,Ae.jsx)(ge,{path:"/PaymentSuccess",element:(0,Ae.jsx)(aC,{children:(0,Ae.jsx)(HE,{})})}),(0,Ae.jsx)(ge,{path:"/Orders",element:(0,Ae.jsx)(aC,{children:(0,Ae.jsx)(sC,{})})}),(0,Ae.jsx)(ge,{path:"/Order",element:(0,Ae.jsx)(aC,{children:(0,Ae.jsx)(iC,{})})}),(0,Ae.jsx)(ge,{path:"/product/:productId",element:(0,Ae.jsx)($E,{})}),(0,Ae.jsx)(ge,{path:"/category/:categoryId",element:(0,Ae.jsx)(GE,{})})]}),(0,Ae.jsx)(dI,{})]})})};o.render((0,Ae.jsx)(i.StrictMode,{children:(0,Ae.jsx)(Oe,{initialState:{basket:[],user:null},reducer:cE,children:(0,Ae.jsx)(cC,{})})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.df31cc67.js.map